(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))r(h);new MutationObserver(h=>{for(const y of h)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function f(h){const y={};return h.integrity&&(y.integrity=h.integrity),h.referrerPolicy&&(y.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?y.credentials="include":h.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function r(h){if(h.ep)return;h.ep=!0;const y=f(h);fetch(h.href,y)}})();var ho={exports:{}},rs={};var lm;function Np(){if(lm)return rs;lm=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function f(r,h,y){var v=null;if(y!==void 0&&(v=""+y),h.key!==void 0&&(v=""+h.key),"key"in h){y={};for(var N in h)N!=="key"&&(y[N]=h[N])}else y=h;return h=y.ref,{$$typeof:s,type:r,key:v,ref:h!==void 0?h:null,props:y}}return rs.Fragment=c,rs.jsx=f,rs.jsxs=f,rs}var am;function Tp(){return am||(am=1,ho.exports=Np()),ho.exports}var o=Tp(),mo={exports:{}},be={};var im;function _p(){if(im)return be;im=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),Y=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=Y&&b[Y]||b["@@iterator"],typeof b=="function"?b:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,I={};function P(b,z,X){this.props=b,this.context=z,this.refs=I,this.updater=X||K}P.prototype.isReactComponent={},P.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=P.prototype;function oe(b,z,X){this.props=b,this.context=z,this.refs=I,this.updater=X||K}var le=oe.prototype=new W;le.constructor=oe,te(le,P.prototype),le.isPureReactComponent=!0;var J=Array.isArray;function ne(){}var Q={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function ge(b,z,X){var $=X.ref;return{$$typeof:s,type:b,key:z,ref:$!==void 0?$:null,props:X}}function Oe(b,z){return ge(b.type,z,b.props)}function pe(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function ye(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return z[X]})}var Qe=/\/+/g;function et(b,z){return typeof b=="object"&&b!==null&&b.key!=null?ye(""+b.key):z.toString(36)}function ke(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ne,ne):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function R(b,z,X,$,de){var re=typeof b;(re==="undefined"||re==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(re){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case s:case c:Se=!0;break;case D:return Se=b._init,R(Se(b._payload),z,X,$,de)}}if(Se)return de=de(b),Se=$===""?"."+et(b,0):$,J(de)?(X="",Se!=null&&(X=Se.replace(Qe,"$&/")+"/"),R(de,z,X,"",function(qe){return qe})):de!=null&&(pe(de)&&(de=Oe(de,X+(de.key==null||b&&b.key===de.key?"":(""+de.key).replace(Qe,"$&/")+"/")+Se)),z.push(de)),1;Se=0;var We=$===""?".":$+":";if(J(b))for(var Ue=0;Ue<b.length;Ue++)$=b[Ue],re=We+et($,Ue),Se+=R($,z,X,re,de);else if(Ue=k(b),typeof Ue=="function")for(b=Ue.call(b),Ue=0;!($=b.next()).done;)$=$.value,re=We+et($,Ue++),Se+=R($,z,X,re,de);else if(re==="object"){if(typeof b.then=="function")return R(ke(b),z,X,$,de);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Se}function O(b,z,X){if(b==null)return b;var $=[],de=0;return R(b,$,"","",function(re){return z.call(X,re,de++)}),$}function L(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var ce=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},fe={map:O,forEach:function(b,z,X){O(b,function(){z.apply(this,arguments)},X)},count:function(b){var z=0;return O(b,function(){z++}),z},toArray:function(b){return O(b,function(z){return z})||[]},only:function(b){if(!pe(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return be.Activity=C,be.Children=fe,be.Component=P,be.Fragment=f,be.Profiler=h,be.PureComponent=oe,be.StrictMode=r,be.Suspense=S,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,be.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},be.cache=function(b){return function(){return b.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(b,z,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var $=te({},b.props),de=b.key;if(z!=null)for(re in z.key!==void 0&&(de=""+z.key),z)!F.call(z,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&z.ref===void 0||($[re]=z[re]);var re=arguments.length-2;if(re===1)$.children=X;else if(1<re){for(var Se=Array(re),We=0;We<re;We++)Se[We]=arguments[We+2];$.children=Se}return ge(b.type,de,$)},be.createContext=function(b){return b={$$typeof:v,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:y,_context:b},b},be.createElement=function(b,z,X){var $,de={},re=null;if(z!=null)for($ in z.key!==void 0&&(re=""+z.key),z)F.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(de[$]=z[$]);var Se=arguments.length-2;if(Se===1)de.children=X;else if(1<Se){for(var We=Array(Se),Ue=0;Ue<Se;Ue++)We[Ue]=arguments[Ue+2];de.children=We}if(b&&b.defaultProps)for($ in Se=b.defaultProps,Se)de[$]===void 0&&(de[$]=Se[$]);return ge(b,re,de)},be.createRef=function(){return{current:null}},be.forwardRef=function(b){return{$$typeof:N,render:b}},be.isValidElement=pe,be.lazy=function(b){return{$$typeof:D,_payload:{_status:-1,_result:b},_init:L}},be.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},be.startTransition=function(b){var z=Q.T,X={};Q.T=X;try{var $=b(),de=Q.S;de!==null&&de(X,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ne,ce)}catch(re){ce(re)}finally{z!==null&&X.types!==null&&(z.types=X.types),Q.T=z}},be.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},be.use=function(b){return Q.H.use(b)},be.useActionState=function(b,z,X){return Q.H.useActionState(b,z,X)},be.useCallback=function(b,z){return Q.H.useCallback(b,z)},be.useContext=function(b){return Q.H.useContext(b)},be.useDebugValue=function(){},be.useDeferredValue=function(b,z){return Q.H.useDeferredValue(b,z)},be.useEffect=function(b,z){return Q.H.useEffect(b,z)},be.useEffectEvent=function(b){return Q.H.useEffectEvent(b)},be.useId=function(){return Q.H.useId()},be.useImperativeHandle=function(b,z,X){return Q.H.useImperativeHandle(b,z,X)},be.useInsertionEffect=function(b,z){return Q.H.useInsertionEffect(b,z)},be.useLayoutEffect=function(b,z){return Q.H.useLayoutEffect(b,z)},be.useMemo=function(b,z){return Q.H.useMemo(b,z)},be.useOptimistic=function(b,z){return Q.H.useOptimistic(b,z)},be.useReducer=function(b,z,X){return Q.H.useReducer(b,z,X)},be.useRef=function(b){return Q.H.useRef(b)},be.useState=function(b){return Q.H.useState(b)},be.useSyncExternalStore=function(b,z,X){return Q.H.useSyncExternalStore(b,z,X)},be.useTransition=function(){return Q.H.useTransition()},be.version="19.2.4",be}var sm;function Mo(){return sm||(sm=1,mo.exports=_p()),mo.exports}var g=Mo(),go={exports:{}},os={},po={exports:{}},vo={};var um;function Ap(){return um||(um=1,(function(s){function c(R,O){var L=R.length;R.push(O);e:for(;0<L;){var ce=L-1>>>1,fe=R[ce];if(0<h(fe,O))R[ce]=O,R[L]=fe,L=ce;else break e}}function f(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],L=R.pop();if(L!==O){R[0]=L;e:for(var ce=0,fe=R.length,b=fe>>>1;ce<b;){var z=2*(ce+1)-1,X=R[z],$=z+1,de=R[$];if(0>h(X,L))$<fe&&0>h(de,X)?(R[ce]=de,R[$]=L,ce=$):(R[ce]=X,R[z]=L,ce=z);else if($<fe&&0>h(de,L))R[ce]=de,R[$]=L,ce=$;else break e}}return O}function h(R,O){var L=R.sortIndex-O.sortIndex;return L!==0?L:R.id-O.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;s.unstable_now=function(){return y.now()}}else{var v=Date,N=v.now();s.unstable_now=function(){return v.now()-N}}var S=[],m=[],D=1,C=null,Y=3,k=!1,K=!1,te=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function le(R){for(var O=f(m);O!==null;){if(O.callback===null)r(m);else if(O.startTime<=R)r(m),O.sortIndex=O.expirationTime,c(S,O);else break;O=f(m)}}function J(R){if(te=!1,le(R),!K)if(f(S)!==null)K=!0,ne||(ne=!0,ye());else{var O=f(m);O!==null&&ke(J,O.startTime-R)}}var ne=!1,Q=-1,F=5,ge=-1;function Oe(){return I?!0:!(s.unstable_now()-ge<F)}function pe(){if(I=!1,ne){var R=s.unstable_now();ge=R;var O=!0;try{e:{K=!1,te&&(te=!1,W(Q),Q=-1),k=!0;var L=Y;try{t:{for(le(R),C=f(S);C!==null&&!(C.expirationTime>R&&Oe());){var ce=C.callback;if(typeof ce=="function"){C.callback=null,Y=C.priorityLevel;var fe=ce(C.expirationTime<=R);if(R=s.unstable_now(),typeof fe=="function"){C.callback=fe,le(R),O=!0;break t}C===f(S)&&r(S),le(R)}else r(S);C=f(S)}if(C!==null)O=!0;else{var b=f(m);b!==null&&ke(J,b.startTime-R),O=!1}}break e}finally{C=null,Y=L,k=!1}O=void 0}}finally{O?ye():ne=!1}}}var ye;if(typeof oe=="function")ye=function(){oe(pe)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,et=Qe.port2;Qe.port1.onmessage=pe,ye=function(){et.postMessage(null)}}else ye=function(){P(pe,0)};function ke(R,O){Q=P(function(){R(s.unstable_now())},O)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return Y},s.unstable_next=function(R){switch(Y){case 1:case 2:case 3:var O=3;break;default:O=Y}var L=Y;Y=O;try{return R()}finally{Y=L}},s.unstable_requestPaint=function(){I=!0},s.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=Y;Y=R;try{return O()}finally{Y=L}},s.unstable_scheduleCallback=function(R,O,L){var ce=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?ce+L:ce):L=ce,R){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=L+fe,R={id:D++,callback:O,priorityLevel:R,startTime:L,expirationTime:fe,sortIndex:-1},L>ce?(R.sortIndex=L,c(m,R),f(S)===null&&R===f(m)&&(te?(W(Q),Q=-1):te=!0,ke(J,L-ce))):(R.sortIndex=fe,c(S,R),K||k||(K=!0,ne||(ne=!0,ye()))),R},s.unstable_shouldYield=Oe,s.unstable_wrapCallback=function(R){var O=Y;return function(){var L=Y;Y=O;try{return R.apply(this,arguments)}finally{Y=L}}}})(vo)),vo}var cm;function jp(){return cm||(cm=1,po.exports=Ap()),po.exports}var yo={exports:{}},qt={};var rm;function Cp(){if(rm)return qt;rm=1;var s=Mo();function c(S){var m="https://react.dev/errors/"+S;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)m+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+S+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var r={d:{f,r:function(){throw Error(c(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},h=Symbol.for("react.portal");function y(S,m,D){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:C==null?null:""+C,children:S,containerInfo:m,implementation:D}}var v=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(S,m){if(S==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qt.createPortal=function(S,m){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(c(299));return y(S,m,null,D)},qt.flushSync=function(S){var m=v.T,D=r.p;try{if(v.T=null,r.p=2,S)return S()}finally{v.T=m,r.p=D,r.d.f()}},qt.preconnect=function(S,m){typeof S=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(S,m))},qt.prefetchDNS=function(S){typeof S=="string"&&r.d.D(S)},qt.preinit=function(S,m){if(typeof S=="string"&&m&&typeof m.as=="string"){var D=m.as,C=N(D,m.crossOrigin),Y=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;D==="style"?r.d.S(S,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:Y,fetchPriority:k}):D==="script"&&r.d.X(S,{crossOrigin:C,integrity:Y,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qt.preinitModule=function(S,m){if(typeof S=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var D=N(m.as,m.crossOrigin);r.d.M(S,{crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(S)},qt.preload=function(S,m){if(typeof S=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var D=m.as,C=N(D,m.crossOrigin);r.d.L(S,D,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qt.preloadModule=function(S,m){if(typeof S=="string")if(m){var D=N(m.as,m.crossOrigin);r.d.m(S,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(S)},qt.requestFormReset=function(S){r.d.r(S)},qt.unstable_batchedUpdates=function(S,m){return S(m)},qt.useFormState=function(S,m,D){return v.H.useFormState(S,m,D)},qt.useFormStatus=function(){return v.H.useHostTransitionStatus()},qt.version="19.2.4",qt}var om;function jm(){if(om)return yo.exports;om=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),yo.exports=Cp(),yo.exports}var fm;function Mp(){if(fm)return os;fm=1;var s=jp(),c=Mo(),f=jm();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(y(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(l=a.return,l!==null){n=l;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return S(a),e;if(i===l)return S(a),t;i=i.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=i;else{for(var u=!1,d=a.child;d;){if(d===n){u=!0,n=a,l=i;break}if(d===l){u=!0,l=a,n=i;break}d=d.sibling}if(!u){for(d=i.child;d;){if(d===n){u=!0,n=i,l=a;break}if(d===l){u=!0,l=i,n=a;break}d=d.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function D(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=D(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,Y=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case J:return"Suspense";case ne:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case oe:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:et(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return et(e(t))}catch{}}return null}var ke=Array.isArray,R=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},ce=[],fe=-1;function b(e){return{current:e}}function z(e){0>fe||(e.current=ce[fe],ce[fe]=null,fe--)}function X(e,t){fe++,ce[fe]=e.current,e.current=t}var $=b(null),de=b(null),re=b(null),Se=b(null);function We(e,t){switch(X(re,t),X(de,e),X($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_h(t),e=Ah(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z($),X($,e)}function Ue(){z($),z(de),z(re)}function qe(e){e.memoizedState!==null&&X(Se,e);var t=$.current,n=Ah(t,e.type);t!==n&&(X(de,e),X($,n))}function Nt(e){de.current===e&&(z($),z(de)),Se.current===e&&(z(Se),is._currentValue=L)}var Cn,Lt;function _e(e){if(Cn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cn=t&&t[1]||"",Lt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cn+e+Lt}var Ve=!1;function Ze(e,t){if(!e||Ve)return"";Ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var j=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){j=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){j=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&j&&typeof M.stack=="string")return[M.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),u=i[0],d=i[1];if(u&&d){var p=u.split(`
`),A=d.split(`
`);for(a=l=0;l<p.length&&!p[l].includes("DetermineComponentFrameRoot");)l++;for(;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;if(l===p.length||a===A.length)for(l=p.length-1,a=A.length-1;1<=l&&0<=a&&p[l]!==A[a];)a--;for(;1<=l&&0<=a;l--,a--)if(p[l]!==A[a]){if(l!==1||a!==1)do if(l--,a--,0>a||p[l]!==A[a]){var U=`
`+p[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=a);break}}}finally{Ve=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_e(n):""}function ft(e,t){switch(e.tag){case 26:case 27:case 5:return _e(e.type);case 16:return _e("Lazy");case 13:return e.child!==t&&t!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Ze(e.type,!1);case 11:return Ze(e.type.render,!1);case 1:return Ze(e.type,!0);case 31:return _e("Activity");default:return""}}function en(e){try{var t="",n=null;do t+=ft(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var kt=Object.prototype.hasOwnProperty,Yt=s.unstable_scheduleCallback,mn=s.unstable_cancelCallback,tl=s.unstable_shouldYield,Mn=s.unstable_requestPaint,Dt=s.unstable_now,Rn=s.unstable_getCurrentPriorityLevel,Tl=s.unstable_ImmediatePriority,Gn=s.unstable_UserBlockingPriority,yt=s.unstable_NormalPriority,Dn=s.unstable_LowPriority,nl=s.unstable_IdlePriority,Tt=s.log,Si=s.unstable_setDisableYieldValue,ct=null,_t=null;function zt(e){if(typeof Tt=="function"&&Si(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(ct,e)}catch{}}var at=Math.clz32?Math.clz32:tn,zn=Math.log,na=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(zn(e)/na|0)|0}var Ot=256,nn=262144,Qn=4194304;function bt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zt(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var a=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var d=l&134217727;return d!==0?(l=d&~i,l!==0?a=bt(l):(u&=d,u!==0?a=bt(u):n||(n=d&~e,n!==0&&(a=bt(n))))):(d=l&~i,d!==0?a=bt(d):u!==0?a=bt(u):n||(n=l&~e,n!==0&&(a=bt(n)))),a===0?0:t!==0&&t!==a&&(t&i)===0&&(i=a&-a,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:a}function ln(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var e=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),e}function On(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ei(e,t,n,l,a,i){var u=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,p=e.expirationTimes,A=e.hiddenUpdates;for(n=u&~n;0<n;){var U=31-at(n),q=1<<U;d[U]=0,p[U]=-1;var j=A[U];if(j!==null)for(A[U]=null,U=0;U<j.length;U++){var M=j[U];M!==null&&(M.lane&=-536870913)}n&=~q}l!==0&&gn(e,l,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function gn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-at(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function la(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-at(n),a=1<<l;a&t|e[l]&t&&(e[l]|=t),n&=~a}}function Vn(e,t){var n=t&-t;return n=(n&42)!==0?1:Al(n),(n&(e.suspendedLanes|t))!==0?0:n}function Al(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function aa(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Fh(e.type))}function Da(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var At=Math.random().toString(36).slice(2),De="__reactFiber$"+At,tt="__reactProps$"+At,Zn="__reactContainer$"+At,Un="__reactEvents$"+At,ia="__reactListeners$"+At,sa="__reactHandles$"+At,Kn="__reactResources$"+At,vn="__reactMarker$"+At;function ua(e){delete e[De],delete e[tt],delete e[Un],delete e[ia],delete e[sa]}function Bn(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oh(e);e!==null;){if(n=e[De])return n;e=Oh(e)}return t}e=n,n=e.parentNode}return null}function Xt(e){if(e=e[De]||e[Zn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function yn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Hn(e){var t=e[Kn];return t||(t=e[Kn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function w(e){e[vn]=!0}var G=new Set,H={};function se(e,t){Z(e,t),Z(e+"Capture",t)}function Z(e,t){for(H[e]=t,e=0;e<t.length;e++)G.add(t[e])}var ve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ue={},Ye={};function Ee(e){return kt.call(Ye,e)?!0:kt.call(ue,e)?!1:ve.test(e)?Ye[e]=!0:(ue[e]=!0,!1)}function Ae(e,t,n){if(Ee(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function it(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nt(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fu(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var a=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){n=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ll(e){if(!e._valueTracker){var t=bs(e)?"checked":"value";e._valueTracker=Fu(e,t,""+e[t])}}function jl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=bs(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ss=/[\n"\\]/g;function Gt(e){return e.replace(Ss,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function an(e,t,n,l,a,i,u,d){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Oa(e,u,Ut(t)):n!=null?Oa(e,u,Ut(n)):l!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Ut(d):e.removeAttribute("name")}function al(e,t,n,l,a,i,u,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ll(e);return}n=n!=null?""+Ut(n):"",t=t!=null?""+Ut(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}l=l??a,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=d?e.checked:!!l,e.defaultChecked=!!l,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),ll(e)}function Oa(e,t,n){t==="number"&&za(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Kt(e,t,n,l){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Cl(e,t,n){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ut(n):""}function xs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(ke(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Ut(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),ll(e)}function Ml(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||il.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function sn(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var a in t)l=t[a],t.hasOwnProperty(a)&&n[a]!==l&&xt(e,a,l)}else for(var i in t)t.hasOwnProperty(i)&&xt(e,i,t[i])}function Ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(e){return Wu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var dt=null;function ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jn=null,Qt=null;function ws(e){var t=Xt(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(an(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=l[tt]||null;if(!a)throw Error(r(90));an(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&jl(l)}break e;case"textarea":Cl(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Kt(e,!!n.multiple,t,!1)}}}var Rl=!1;function Ba(e,t,n){if(Rl)return e(t,n);Rl=!0;try{var l=e(t);return l}finally{if(Rl=!1,(Jn!==null||Qt!==null)&&(gu(),Jn&&(t=Jn,e=Qt,Qt=Jn=null,ws(t),e)))for(t=0;t<e.length;t++)ws(e[t])}}function sl(e,t){var n=e.stateNode;if(n===null)return null;var l=n[tt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(Bt)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Ha=!1}var $n=null,qa=null,La=null;function wi(){if(La)return La;var e,t=qa,n=t.length,l,a="value"in $n?$n.value:$n.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var u=n-e;for(l=1;l<=u&&t[n-l]===a[i-l];l++);return La=a.slice(e,1<l?1-l:void 0)}function ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function Ns(){return!1}function Ht(e){function t(n,l,a,i,u){this._reactName=n,this._targetInst=a,this.type=l,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oa:Ns,this.isPropagationStopped=Ns,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Ht(ul),fa=C({},ul,{view:0,detail:0}),Iu=Ht(fa),Ni,Ti,da,Ya=C({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(Ni=e.screenX-da.screenX,Ti=e.screenY-da.screenY):Ti=Ni=0,da=e),Ni)},movementY:function(e){return"movementY"in e?e.movementY:Ti}}),Ts=Ht(Ya),Pu=C({},Ya,{dataTransfer:0}),_i=Ht(Pu),ec=C({},fa,{relatedTarget:0}),Ai=Ht(ec),tc=C({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=Ht(tc),lc=C({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ac=Ht(lc),ic=C({},ul,{data:0}),_s=Ht(ic),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cc[e])?!!t[e]:!1}function zl(){return rc}var oc=C({},fa,{key:function(e){if(e.key){var t=sc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zl,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fc=Ht(oc),dc=C({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=Ht(dc),hc=C({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zl}),mc=Ht(hc),js=C({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=Ht(js),Cs=C({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pc=Ht(Cs),Ms=C({},ul,{newState:0,oldState:0}),Rs=Ht(Ms),vc=[9,13,27,32],ji=Bt&&"CompositionEvent"in window,ha=null;Bt&&"documentMode"in document&&(ha=document.documentMode);var yc=Bt&&"TextEvent"in window&&!ha,Ds=Bt&&(!ji||ha&&8<ha&&11>=ha),cl=" ",zs=!1;function E(e,t){switch(e){case"keyup":return vc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ee=!1;function Ne(e,t){switch(e){case"compositionend":return V(t);case"keypress":return t.which!==32?null:(zs=!0,cl);case"textInput":return e=t.data,e===cl&&zs?null:e;default:return null}}function Te(e,t){if(ee)return e==="compositionend"||!ji&&E(e,t)?(e=wi(),La=qa=$n=null,ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ds&&t.locale!=="ko"?null:t.data;default:return null}}var Et={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Et[e.type]:t==="textarea"}function Xa(e,t,n,l){Jn?Qt?Qt.push(l):Qt=[l]:Jn=l,t=Eu(t,"onChange"),0<t.length&&(n=new ka("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bn=null,rl=null;function Wm(e){Sh(e,0)}function Os(e){var t=yn(e);if(jl(t))return e}function qo(e,t){if(e==="change")return t}var Lo=!1;if(Bt){var bc;if(Bt){var Sc="oninput"in document;if(!Sc){var ko=document.createElement("div");ko.setAttribute("oninput","return;"),Sc=typeof ko.oninput=="function"}bc=Sc}else bc=!1;Lo=bc&&(!document.documentMode||9<document.documentMode)}function Yo(){bn&&(bn.detachEvent("onpropertychange",Xo),rl=bn=null)}function Xo(e){if(e.propertyName==="value"&&Os(rl)){var t=[];Xa(t,rl,e,ca(e)),Ba(Wm,t)}}function Im(e,t,n){e==="focusin"?(Yo(),bn=t,rl=n,bn.attachEvent("onpropertychange",Xo)):e==="focusout"&&Yo()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(rl)}function eg(e,t){if(e==="click")return Os(t)}function tg(e,t){if(e==="input"||e==="change")return Os(t)}function ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:ng;function Ci(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var a=n[l];if(!kt.call(t,a)||!un(e[a],t[a]))return!1}return!0}function Go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qo(e,t){var n=Go(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Go(n)}}function Vo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=za(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=za(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lg=Bt&&"documentMode"in document&&11>=document.documentMode,Ga=null,Ec=null,Mi=null,wc=!1;function Ko(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wc||Ga==null||Ga!==za(l)||(l=Ga,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mi&&Ci(Mi,l)||(Mi=l,l=Eu(Ec,"onSelect"),0<l.length&&(t=new ka("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ga)))}function ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qa={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Nc={},Jo={};Bt&&(Jo=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ga(e){if(Nc[e])return Nc[e];if(!Qa[e])return e;var t=Qa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jo)return Nc[e]=t[n];return e}var $o=ga("animationend"),Fo=ga("animationiteration"),Wo=ga("animationstart"),ag=ga("transitionrun"),ig=ga("transitionstart"),sg=ga("transitioncancel"),Io=ga("transitionend"),Po=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function kn(e,t){Po.set(e,t),se(t,[e])}var Us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Va=0,_c=0;function Bs(){for(var e=Va,t=_c=Va=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var a=Sn[t];Sn[t++]=null;var i=Sn[t];if(Sn[t++]=null,l!==null&&a!==null){var u=l.pending;u===null?a.next=a:(a.next=u.next,u.next=a),l.pending=a}i!==0&&ef(n,a,i)}}function Hs(e,t,n,l){Sn[Va++]=e,Sn[Va++]=t,Sn[Va++]=n,Sn[Va++]=l,_c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ac(e,t,n,l){return Hs(e,t,n,l),qs(e)}function pa(e,t){return Hs(e,null,null,t),qs(e)}function ef(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var a=!1,i=e.return;i!==null;)i.childLanes|=n,l=i.alternate,l!==null&&(l.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-at(n),e=i.hiddenUpdates,l=e[a],l===null?e[a]=[t]:l.push(t),t.lane=n|536870912),i):null}function qs(e){if(50<Ii)throw Ii=0,Br=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Za={};function ug(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,l){return new ug(e,t,n,l)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function tf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ls(e,t,n,l,a,i){var u=0;if(l=e,typeof e=="function")jc(e)&&(u=1);else if(typeof e=="string")u=dp(e,n,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=cn(31,n,t,a),e.elementType=ge,e.lanes=i,e;case te:return va(n.children,a,i,t);case I:u=8,a|=24;break;case P:return e=cn(12,n,t,a|2),e.elementType=P,e.lanes=i,e;case J:return e=cn(13,n,t,a),e.elementType=J,e.lanes=i,e;case ne:return e=cn(19,n,t,a),e.elementType=ne,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:u=10;break e;case W:u=9;break e;case le:u=11;break e;case Q:u=14;break e;case F:u=16,l=null;break e}u=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=cn(u,n,t,a),t.elementType=e,t.type=l,t.lanes=i,t}function va(e,t,n,l){return e=cn(7,e,l,t),e.lanes=n,e}function Cc(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function nf(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function Mc(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lf=new WeakMap;function xn(e,t){if(typeof e=="object"&&e!==null){var n=lf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:en(t)},lf.set(e,t),t)}return{value:e,source:t,stack:en(t)}}var Ka=[],Ja=0,ks=null,Ri=0,En=[],wn=0,Ol=null,Wn=1,In="";function fl(e,t){Ka[Ja++]=Ri,Ka[Ja++]=ks,ks=e,Ri=t}function af(e,t,n){En[wn++]=Wn,En[wn++]=In,En[wn++]=Ol,Ol=e;var l=Wn;e=In;var a=32-at(l)-1;l&=~(1<<a),n+=1;var i=32-at(t)+a;if(30<i){var u=a-a%5;i=(l&(1<<u)-1).toString(32),l>>=u,a-=u,Wn=1<<32-at(t)+a|n<<a|l,In=i+e}else Wn=1<<i|n<<a|l,In=e}function Rc(e){e.return!==null&&(fl(e,1),af(e,1,0))}function Dc(e){for(;e===ks;)ks=Ka[--Ja],Ka[Ja]=null,Ri=Ka[--Ja],Ka[Ja]=null;for(;e===Ol;)Ol=En[--wn],En[wn]=null,In=En[--wn],En[wn]=null,Wn=En[--wn],En[wn]=null}function sf(e,t){En[wn++]=Wn,En[wn++]=In,En[wn++]=Ol,Wn=t.id,In=t.overflow,Ol=e}var jt=null,Ie=null,ze=!1,Ul=null,Nn=!1,zc=Error(r(519));function Bl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Di(xn(t,e)),zc}function uf(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[De]=e,t[tt]=l,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<es.length;n++)Ce(es[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),al(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),xs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Nh(t.textContent,n)?(l.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),l.onScroll!=null&&Ce("scroll",t),l.onScrollEnd!=null&&Ce("scrollend",t),l.onClick!=null&&(t.onclick=Ln),t=!0):t=!1,t||Bl(e,!0)}function cf(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:jt=jt.return}}function $a(e){if(e!==jt)return!1;if(!ze)return cf(e),ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Wr(e.type,e.memoizedProps)),n=!n),n&&Ie&&Bl(e),cf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=zh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=zh(e)}else t===27?(t=Ie,Fl(e.type)?(e=no,no=null,Ie=e):Ie=t):Ie=jt?_n(e.stateNode.nextSibling):null;return!0}function ya(){Ie=jt=null,ze=!1}function Oc(){var e=Ul;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),Ul=null),e}function Di(e){Ul===null?Ul=[e]:Ul.push(e)}var Uc=b(null),ba=null,dl=null;function Hl(e,t,n){X(Uc,t._currentValue),t._currentValue=n}function hl(e){e._currentValue=Uc.current,z(Uc)}function Bc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Hc(e,t,n,l){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var u=a.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=a;for(var p=0;p<t.length;p++)if(d.context===t[p]){i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Bc(i.return,n,e),l||(u=null);break e}i=d.next}}else if(a.tag===18){if(u=a.return,u===null)throw Error(r(341));u.lanes|=n,i=u.alternate,i!==null&&(i.lanes|=n),Bc(u,n,e),u=null}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}}function Fa(e,t,n,l){e=null;for(var a=t,i=!1;a!==null;){if(!i){if((a.flags&524288)!==0)i=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var u=a.alternate;if(u===null)throw Error(r(387));if(u=u.memoizedProps,u!==null){var d=a.type;un(a.pendingProps.value,u.value)||(e!==null?e.push(d):e=[d])}}else if(a===Se.current){if(u=a.alternate,u===null)throw Error(r(387));u.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(is):e=[is])}a=a.return}e!==null&&Hc(t,e,n,l),t.flags|=262144}function Ys(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ba=e,dl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return rf(ba,e)}function Xs(e,t){return ba===null&&Sa(e),rf(e,t)}function rf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dl===null){if(e===null)throw Error(r(308));dl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dl=dl.next=t;return n}var cg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},rg=s.unstable_scheduleCallback,og=s.unstable_NormalPriority,ht={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new cg,data:new Map,refCount:0}}function zi(e){e.refCount--,e.refCount===0&&rg(og,function(){e.controller.abort()})}var Oi=null,Lc=0,Wa=0,Ia=null;function fg(e,t){if(Oi===null){var n=Oi=[];Lc=0,Wa=Xr(),Ia={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Lc++,t.then(of,of),t}function of(){if(--Lc===0&&Oi!==null){Ia!==null&&(Ia.status="fulfilled");var e=Oi;Oi=null,Wa=0,Ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dg(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(l.status="rejected",l.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),l}var ff=R.S;R.S=function(e,t){Jd=Dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fg(e,t),ff!==null&&ff(e,t)};var xa=b(null);function kc(){var e=xa.current;return e!==null?e:Fe.pooledCache}function Gs(e,t){t===null?X(xa,xa.current):X(xa,t.pool)}function df(){var e=kc();return e===null?null:{parent:ht._currentValue,pool:e}}var Pa=Error(r(460)),Yc=Error(r(474)),Qs=Error(r(542)),Vs={then:function(){}};function hf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ln,Ln),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e;default:if(typeof t.status=="string")t.then(Ln,Ln);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=l}},function(l){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e}throw wa=t,Pa}}function Ea(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wa=n,Pa):n}}var wa=null;function gf(){if(wa===null)throw Error(r(459));var e=wa;return wa=null,e}function pf(e){if(e===Pa||e===Qs)throw Error(r(483))}var ei=null,Ui=0;function Zs(e){var t=Ui;return Ui+=1,ei===null&&(ei=[]),mf(ei,e,t)}function Bi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ks(e,t){throw t.$$typeof===Y?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vf(e){function t(T,x){if(e){var _=T.deletions;_===null?(T.deletions=[x],T.flags|=16):_.push(x)}}function n(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function l(T){for(var x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function a(T,x){return T=ol(T,x),T.index=0,T.sibling=null,T}function i(T,x,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<x?(T.flags|=67108866,x):_):(T.flags|=67108866,x)):(T.flags|=1048576,x)}function u(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function d(T,x,_,B){return x===null||x.tag!==6?(x=Cc(_,T.mode,B),x.return=T,x):(x=a(x,_),x.return=T,x)}function p(T,x,_,B){var he=_.type;return he===te?U(T,x,_.props.children,B,_.key):x!==null&&(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===F&&Ea(he)===x.type)?(x=a(x,_.props),Bi(x,_),x.return=T,x):(x=Ls(_.type,_.key,_.props,null,T.mode,B),Bi(x,_),x.return=T,x)}function A(T,x,_,B){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Mc(_,T.mode,B),x.return=T,x):(x=a(x,_.children||[]),x.return=T,x)}function U(T,x,_,B,he){return x===null||x.tag!==7?(x=va(_,T.mode,B,he),x.return=T,x):(x=a(x,_),x.return=T,x)}function q(T,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Cc(""+x,T.mode,_),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return _=Ls(x.type,x.key,x.props,null,T.mode,_),Bi(_,x),_.return=T,_;case K:return x=Mc(x,T.mode,_),x.return=T,x;case F:return x=Ea(x),q(T,x,_)}if(ke(x)||ye(x))return x=va(x,T.mode,_,null),x.return=T,x;if(typeof x.then=="function")return q(T,Zs(x),_);if(x.$$typeof===oe)return q(T,Xs(T,x),_);Ks(T,x)}return null}function j(T,x,_,B){var he=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return he!==null?null:d(T,x,""+_,B);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case k:return _.key===he?p(T,x,_,B):null;case K:return _.key===he?A(T,x,_,B):null;case F:return _=Ea(_),j(T,x,_,B)}if(ke(_)||ye(_))return he!==null?null:U(T,x,_,B,null);if(typeof _.then=="function")return j(T,x,Zs(_),B);if(_.$$typeof===oe)return j(T,x,Xs(T,_),B);Ks(T,_)}return null}function M(T,x,_,B,he){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(_)||null,d(x,T,""+B,he);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return T=T.get(B.key===null?_:B.key)||null,p(x,T,B,he);case K:return T=T.get(B.key===null?_:B.key)||null,A(x,T,B,he);case F:return B=Ea(B),M(T,x,_,B,he)}if(ke(B)||ye(B))return T=T.get(_)||null,U(x,T,B,he,null);if(typeof B.then=="function")return M(T,x,_,Zs(B),he);if(B.$$typeof===oe)return M(T,x,_,Xs(x,B),he);Ks(x,B)}return null}function ae(T,x,_,B){for(var he=null,Be=null,ie=x,we=x=0,Re=null;ie!==null&&we<_.length;we++){ie.index>we?(Re=ie,ie=null):Re=ie.sibling;var He=j(T,ie,_[we],B);if(He===null){ie===null&&(ie=Re);break}e&&ie&&He.alternate===null&&t(T,ie),x=i(He,x,we),Be===null?he=He:Be.sibling=He,Be=He,ie=Re}if(we===_.length)return n(T,ie),ze&&fl(T,we),he;if(ie===null){for(;we<_.length;we++)ie=q(T,_[we],B),ie!==null&&(x=i(ie,x,we),Be===null?he=ie:Be.sibling=ie,Be=ie);return ze&&fl(T,we),he}for(ie=l(ie);we<_.length;we++)Re=M(ie,T,we,_[we],B),Re!==null&&(e&&Re.alternate!==null&&ie.delete(Re.key===null?we:Re.key),x=i(Re,x,we),Be===null?he=Re:Be.sibling=Re,Be=Re);return e&&ie.forEach(function(ta){return t(T,ta)}),ze&&fl(T,we),he}function me(T,x,_,B){if(_==null)throw Error(r(151));for(var he=null,Be=null,ie=x,we=x=0,Re=null,He=_.next();ie!==null&&!He.done;we++,He=_.next()){ie.index>we?(Re=ie,ie=null):Re=ie.sibling;var ta=j(T,ie,He.value,B);if(ta===null){ie===null&&(ie=Re);break}e&&ie&&ta.alternate===null&&t(T,ie),x=i(ta,x,we),Be===null?he=ta:Be.sibling=ta,Be=ta,ie=Re}if(He.done)return n(T,ie),ze&&fl(T,we),he;if(ie===null){for(;!He.done;we++,He=_.next())He=q(T,He.value,B),He!==null&&(x=i(He,x,we),Be===null?he=He:Be.sibling=He,Be=He);return ze&&fl(T,we),he}for(ie=l(ie);!He.done;we++,He=_.next())He=M(ie,T,we,He.value,B),He!==null&&(e&&He.alternate!==null&&ie.delete(He.key===null?we:He.key),x=i(He,x,we),Be===null?he=He:Be.sibling=He,Be=He);return e&&ie.forEach(function(wp){return t(T,wp)}),ze&&fl(T,we),he}function $e(T,x,_,B){if(typeof _=="object"&&_!==null&&_.type===te&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case k:e:{for(var he=_.key;x!==null;){if(x.key===he){if(he=_.type,he===te){if(x.tag===7){n(T,x.sibling),B=a(x,_.props.children),B.return=T,T=B;break e}}else if(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===F&&Ea(he)===x.type){n(T,x.sibling),B=a(x,_.props),Bi(B,_),B.return=T,T=B;break e}n(T,x);break}else t(T,x);x=x.sibling}_.type===te?(B=va(_.props.children,T.mode,B,_.key),B.return=T,T=B):(B=Ls(_.type,_.key,_.props,null,T.mode,B),Bi(B,_),B.return=T,T=B)}return u(T);case K:e:{for(he=_.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(T,x.sibling),B=a(x,_.children||[]),B.return=T,T=B;break e}else{n(T,x);break}else t(T,x);x=x.sibling}B=Mc(_,T.mode,B),B.return=T,T=B}return u(T);case F:return _=Ea(_),$e(T,x,_,B)}if(ke(_))return ae(T,x,_,B);if(ye(_)){if(he=ye(_),typeof he!="function")throw Error(r(150));return _=he.call(_),me(T,x,_,B)}if(typeof _.then=="function")return $e(T,x,Zs(_),B);if(_.$$typeof===oe)return $e(T,x,Xs(T,_),B);Ks(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(T,x.sibling),B=a(x,_),B.return=T,T=B):(n(T,x),B=Cc(_,T.mode,B),B.return=T,T=B),u(T)):n(T,x)}return function(T,x,_,B){try{Ui=0;var he=$e(T,x,_,B);return ei=null,he}catch(ie){if(ie===Pa||ie===Qs)throw ie;var Be=cn(29,ie,null,T.mode);return Be.lanes=B,Be.return=T,Be}}}var Na=vf(!0),yf=vf(!1),ql=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,t=qs(e),ef(e,null,n),t}return Hs(e,l,t,n),qs(e)}function Hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,la(e,n)}}function Qc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=u:i=i.next=u,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Vc=!1;function qi(){if(Vc){var e=Ia;if(e!==null)throw e}}function Li(e,t,n,l){Vc=!1;var a=e.updateQueue;ql=!1;var i=a.firstBaseUpdate,u=a.lastBaseUpdate,d=a.shared.pending;if(d!==null){a.shared.pending=null;var p=d,A=p.next;p.next=null,u===null?i=A:u.next=A,u=p;var U=e.alternate;U!==null&&(U=U.updateQueue,d=U.lastBaseUpdate,d!==u&&(d===null?U.firstBaseUpdate=A:d.next=A,U.lastBaseUpdate=p))}if(i!==null){var q=a.baseState;u=0,U=A=p=null,d=i;do{var j=d.lane&-536870913,M=j!==d.lane;if(M?(Me&j)===j:(l&j)===j){j!==0&&j===Wa&&(Vc=!0),U!==null&&(U=U.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var ae=e,me=d;j=t;var $e=n;switch(me.tag){case 1:if(ae=me.payload,typeof ae=="function"){q=ae.call($e,q,j);break e}q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=me.payload,j=typeof ae=="function"?ae.call($e,q,j):ae,j==null)break e;q=C({},q,j);break e;case 2:ql=!0}}j=d.callback,j!==null&&(e.flags|=64,M&&(e.flags|=8192),M=a.callbacks,M===null?a.callbacks=[j]:M.push(j))}else M={lane:j,tag:d.tag,payload:d.payload,callback:d.callback,next:null},U===null?(A=U=M,p=q):U=U.next=M,u|=j;if(d=d.next,d===null){if(d=a.shared.pending,d===null)break;M=d,d=M.next,M.next=null,a.lastBaseUpdate=M,a.shared.pending=null}}while(!0);U===null&&(p=q),a.baseState=p,a.firstBaseUpdate=A,a.lastBaseUpdate=U,i===null&&(a.shared.lanes=0),Vl|=u,e.lanes=u,e.memoizedState=q}}function bf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Sf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bf(n[e],t)}var ti=b(null),Js=b(0);function xf(e,t){e=El,X(Js,e),X(ti,t),El=e|t.baseLanes}function Zc(){X(Js,El),X(ti,ti.current)}function Kc(){El=Js.current,z(ti),z(Js)}var rn=b(null),Tn=null;function Yl(e){var t=e.alternate;X(rt,rt.current&1),X(rn,e),Tn===null&&(t===null||ti.current!==null||t.memoizedState!==null)&&(Tn=e)}function Jc(e){X(rt,rt.current),X(rn,e),Tn===null&&(Tn=e)}function Ef(e){e.tag===22?(X(rt,rt.current),X(rn,e),Tn===null&&(Tn=e)):Xl()}function Xl(){X(rt,rt.current),X(rn,rn.current)}function on(e){z(rn),Tn===e&&(Tn=null),z(rt)}var rt=b(0);function $s(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||eo(n)||to(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=0,xe=null,Ke=null,mt=null,Fs=!1,ni=!1,Ta=!1,Ws=0,ki=0,li=null,hg=0;function st(){throw Error(r(321))}function $c(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Fc(e,t,n,l,a,i){return ml=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?id:fr,Ta=!1,i=n(l,a),Ta=!1,ni&&(i=Nf(t,n,l,a)),wf(e),i}function wf(e){R.H=Gi;var t=Ke!==null&&Ke.next!==null;if(ml=0,mt=Ke=xe=null,Fs=!1,ki=0,li=null,t)throw Error(r(300));e===null||gt||(e=e.dependencies,e!==null&&Ys(e)&&(gt=!0))}function Nf(e,t,n,l){xe=e;var a=0;do{if(ni&&(li=null),ki=0,ni=!1,25<=a)throw Error(r(301));if(a+=1,mt=Ke=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}R.H=sd,i=t(n,l)}while(ni);return i}function mg(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Yi(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(xe.flags|=1024),t}function Wc(){var e=Ws!==0;return Ws=0,e}function Ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Pc(e){if(Fs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fs=!1}ml=0,mt=Ke=xe=null,ni=!1,ki=Ws=0,li=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?xe.memoizedState=mt=e:mt=mt.next=e,mt}function ot(){if(Ke===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=mt===null?xe.memoizedState:mt.next;if(t!==null)mt=t,Ke=e;else{if(e===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},mt===null?xe.memoizedState=mt=e:mt=mt.next=e}return mt}function Is(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yi(e){var t=ki;return ki+=1,li===null&&(li=[]),e=mf(li,e,t),t=xe,(mt===null?t.memoizedState:mt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?id:fr),e}function Ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yi(e);if(e.$$typeof===oe)return Ct(e)}throw Error(r(438,String(e)))}function er(e){var t=null,n=xe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Is(),xe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Oe;return t.index++,n}function gl(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=ot();return tr(t,Ke,e)}function tr(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var a=e.baseQueue,i=l.pending;if(i!==null){if(a!==null){var u=a.next;a.next=i.next,i.next=u}t.baseQueue=a=i,l.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var d=u=null,p=null,A=t,U=!1;do{var q=A.lane&-536870913;if(q!==A.lane?(Me&q)===q:(ml&q)===q){var j=A.revertLane;if(j===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),q===Wa&&(U=!0);else if((ml&j)===j){A=A.next,j===Wa&&(U=!0);continue}else q={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(d=p=q,u=i):p=p.next=q,xe.lanes|=j,Vl|=j;q=A.action,Ta&&n(i,q),i=A.hasEagerState?A.eagerState:n(i,q)}else j={lane:q,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(d=p=j,u=i):p=p.next=j,xe.lanes|=q,Vl|=q;A=A.next}while(A!==null&&A!==t);if(p===null?u=i:p.next=d,!un(i,e.memoizedState)&&(gt=!0,U&&(n=Ia,n!==null)))throw n;e.memoizedState=i,e.baseState=u,e.baseQueue=p,l.lastRenderedState=i}return a===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nr(e){var t=ot(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do i=e(i,u.action),u=u.next;while(u!==a);un(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function Tf(e,t,n){var l=xe,a=ot(),i=ze;if(i){if(n===void 0)throw Error(r(407));n=n()}else n=t();var u=!un((Ke||a).memoizedState,n);if(u&&(a.memoizedState=n,gt=!0),a=a.queue,ir(jf.bind(null,l,a,e),[e]),a.getSnapshot!==t||u||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,ai(9,{destroy:void 0},Af.bind(null,l,a,n,t),null),Fe===null)throw Error(r(349));i||(ml&127)!==0||_f(l,t,n)}return n}function _f(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t=Is(),xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Af(e,t,n,l){t.value=n,t.getSnapshot=l,Cf(t)&&Mf(e)}function jf(e,t,n){return n(function(){Cf(t)&&Mf(e)})}function Cf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Mf(e){var t=pa(e,2);t!==null&&It(t,e,2)}function lr(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),Ta){zt(!0);try{n()}finally{zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t}function Rf(e,t,n,l){return e.baseState=n,tr(e,Ke,typeof l=="function"?l:gl)}function gg(e,t,n,l,a){if(lu(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};R.T!==null?n(!0):i.isTransition=!1,l(i),n=t.pending,n===null?(i.next=t.pending=i,Df(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Df(e,t){var n=t.action,l=t.payload,a=e.state;if(t.isTransition){var i=R.T,u={};R.T=u;try{var d=n(a,l),p=R.S;p!==null&&p(u,d),zf(e,t,d)}catch(A){ar(e,t,A)}finally{i!==null&&u.types!==null&&(i.types=u.types),R.T=i}}else try{i=n(a,l),zf(e,t,i)}catch(A){ar(e,t,A)}}function zf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Of(e,t,l)},function(l){return ar(e,t,l)}):Of(e,t,n)}function Of(e,t,n){t.status="fulfilled",t.value=n,Uf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Df(e,n)))}function ar(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Uf(t),t=t.next;while(t!==l)}e.action=null}function Uf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bf(e,t){return t}function Hf(e,t){if(ze){var n=Fe.formState;if(n!==null){e:{var l=xe;if(ze){if(Ie){t:{for(var a=Ie,i=Nn;a.nodeType!==8;){if(!i){a=null;break t}if(a=_n(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ie=_n(a.nextSibling),l=a.data==="F!";break e}}Bl(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:t},n.queue=l,n=nd.bind(null,xe,l),l.dispatch=n,l=lr(!1),i=or.bind(null,xe,!1,l.queue),l=Vt(),a={state:t,dispatch:null,action:e,pending:null},l.queue=a,n=gg.bind(null,xe,a,i,n),a.dispatch=n,l.memoizedState=e,[t,n,!1]}function qf(e){var t=ot();return Lf(t,Ke,e)}function Lf(e,t,n){if(t=tr(e,t,Bf)[0],e=eu(gl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Yi(t)}catch(u){throw u===Pa?Qs:u}else l=t;t=ot();var a=t.queue,i=a.dispatch;return n!==t.memoizedState&&(xe.flags|=2048,ai(9,{destroy:void 0},pg.bind(null,a,n),null)),[l,i,e]}function pg(e,t){e.action=t}function kf(e){var t=ot(),n=Ke;if(n!==null)return Lf(t,n,e);ot(),t=t.memoizedState,n=ot();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function ai(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Is(),xe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Yf(){return ot().memoizedState}function tu(e,t,n,l){var a=Vt();xe.flags|=e,a.memoizedState=ai(1|t,{destroy:void 0},n,l===void 0?null:l)}function nu(e,t,n,l){var a=ot();l=l===void 0?null:l;var i=a.memoizedState.inst;Ke!==null&&l!==null&&$c(l,Ke.memoizedState.deps)?a.memoizedState=ai(t,i,n,l):(xe.flags|=e,a.memoizedState=ai(1|t,i,n,l))}function Xf(e,t){tu(8390656,8,e,t)}function ir(e,t){nu(2048,8,e,t)}function vg(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=Is(),xe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Gf(e){var t=ot().memoizedState;return vg({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Qf(e,t){return nu(4,2,e,t)}function Vf(e,t){return nu(4,4,e,t)}function Zf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kf(e,t,n){n=n!=null?n.concat([e]):null,nu(4,4,Zf.bind(null,t,e),n)}function sr(){}function Jf(e,t){var n=ot();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&$c(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function $f(e,t){var n=ot();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&$c(t,l[1]))return l[0];if(l=e(),Ta){zt(!0);try{e()}finally{zt(!1)}}return n.memoizedState=[l,t],l}function ur(e,t,n){return n===void 0||(ml&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Fd(),xe.lanes|=e,Vl|=e,n)}function Ff(e,t,n,l){return un(n,t)?n:ti.current!==null?(e=ur(e,n,l),un(e,t)||(gt=!0),e):(ml&42)===0||(ml&1073741824)!==0&&(Me&261930)===0?(gt=!0,e.memoizedState=n):(e=Fd(),xe.lanes|=e,Vl|=e,t)}function Wf(e,t,n,l,a){var i=O.p;O.p=i!==0&&8>i?i:8;var u=R.T,d={};R.T=d,or(e,!1,t,n);try{var p=a(),A=R.S;if(A!==null&&A(d,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var U=dg(p,l);Xi(e,t,U,hn(e))}else Xi(e,t,l,hn(e))}catch(q){Xi(e,t,{then:function(){},status:"rejected",reason:q},hn())}finally{O.p=i,u!==null&&d.types!==null&&(u.types=d.types),R.T=u}}function yg(){}function cr(e,t,n,l){if(e.tag!==5)throw Error(r(476));var a=If(e).queue;Wf(e,a,t,L,n===null?yg:function(){return Pf(e),n(l)})}function If(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=If(e);t.next===null&&(t=e.alternate.memoizedState),Xi(e,t.next.queue,{},hn())}function rr(){return Ct(is)}function ed(){return ot().memoizedState}function td(){return ot().memoizedState}function bg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Ll(n);var l=kl(t,e,n);l!==null&&(It(l,t,n),Hi(l,t,n)),t={cache:qc()},e.payload=t;return}t=t.return}}function Sg(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},lu(e)?ld(t,n):(n=Ac(e,t,n,l),n!==null&&(It(n,e,l),ad(n,t,l)))}function nd(e,t,n){var l=hn();Xi(e,t,n,l)}function Xi(e,t,n,l){var a={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(lu(e))ld(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,d=i(u,n);if(a.hasEagerState=!0,a.eagerState=d,un(d,u))return Hs(e,t,a,0),Fe===null&&Bs(),!1}catch{}if(n=Ac(e,t,a,l),n!==null)return It(n,e,l),ad(n,t,l),!0}return!1}function or(e,t,n,l){if(l={lane:2,revertLane:Xr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lu(e)){if(t)throw Error(r(479))}else t=Ac(e,n,l,2),t!==null&&It(t,e,2)}function lu(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function ld(e,t){ni=Fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ad(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,la(e,n)}}var Gi={readContext:Ct,use:Ps,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Gi.useEffectEvent=st;var id={readContext:Ct,use:Ps,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Xf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,tu(4194308,4,Zf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tu(4194308,4,e,t)},useInsertionEffect:function(e,t){tu(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(Ta){zt(!0);try{e()}finally{zt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var a=n(t);if(Ta){zt(!0);try{n(t)}finally{zt(!1)}}}else a=t;return l.memoizedState=l.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},l.queue=e,e=e.dispatch=Sg.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=lr(e);var t=e.queue,n=nd.bind(null,xe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sr,useDeferredValue:function(e,t){var n=Vt();return ur(n,e,t)},useTransition:function(){var e=lr(!1);return e=Wf.bind(null,xe,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=xe,a=Vt();if(ze){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Fe===null)throw Error(r(349));(Me&127)!==0||_f(l,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Xf(jf.bind(null,l,i,e),[e]),l.flags|=2048,ai(9,{destroy:void 0},Af.bind(null,l,i,n,t),null),n},useId:function(){var e=Vt(),t=Fe.identifierPrefix;if(ze){var n=In,l=Wn;n=(l&~(1<<32-at(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ws++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=hg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rr,useFormState:Hf,useActionState:Hf,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=or.bind(null,xe,!0,n),n.dispatch=t,[e,t]},useMemoCache:er,useCacheRefresh:function(){return Vt().memoizedState=bg.bind(null,xe)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if((Le&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},fr={readContext:Ct,use:Ps,useCallback:Jf,useContext:Ct,useEffect:ir,useImperativeHandle:Kf,useInsertionEffect:Qf,useLayoutEffect:Vf,useMemo:$f,useReducer:eu,useRef:Yf,useState:function(){return eu(gl)},useDebugValue:sr,useDeferredValue:function(e,t){var n=ot();return Ff(n,Ke.memoizedState,e,t)},useTransition:function(){var e=eu(gl)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Yi(e),t]},useSyncExternalStore:Tf,useId:ed,useHostTransitionStatus:rr,useFormState:qf,useActionState:qf,useOptimistic:function(e,t){var n=ot();return Rf(n,Ke,e,t)},useMemoCache:er,useCacheRefresh:td};fr.useEffectEvent=Gf;var sd={readContext:Ct,use:Ps,useCallback:Jf,useContext:Ct,useEffect:ir,useImperativeHandle:Kf,useInsertionEffect:Qf,useLayoutEffect:Vf,useMemo:$f,useReducer:nr,useRef:Yf,useState:function(){return nr(gl)},useDebugValue:sr,useDeferredValue:function(e,t){var n=ot();return Ke===null?ur(n,e,t):Ff(n,Ke.memoizedState,e,t)},useTransition:function(){var e=nr(gl)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Yi(e),t]},useSyncExternalStore:Tf,useId:ed,useHostTransitionStatus:rr,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var n=ot();return Ke!==null?Rf(n,Ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:er,useCacheRefresh:td};sd.useEffectEvent=Gf;function dr(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hr={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),a=Ll(l);a.payload=t,n!=null&&(a.callback=n),t=kl(e,a,l),t!==null&&(It(t,e,l),Hi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),a=Ll(l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=kl(e,a,l),t!==null&&(It(t,e,l),Hi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=Ll(n);l.tag=2,t!=null&&(l.callback=t),t=kl(e,l,n),t!==null&&(It(t,e,n),Hi(t,e,n))}};function ud(e,t,n,l,a,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,u):t.prototype&&t.prototype.isPureReactComponent?!Ci(n,l)||!Ci(a,i):!0}function cd(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&hr.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function rd(e){Us(e)}function od(e){console.error(e)}function fd(e){Us(e)}function au(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function dd(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function mr(e,t,n){return n=Ll(n),n.tag=3,n.payload={element:null},n.callback=function(){au(e,t)},n}function hd(e){return e=Ll(e),e.tag=3,e}function md(e,t,n,l){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=l.value;e.payload=function(){return a(i)},e.callback=function(){dd(t,n,l)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){dd(t,n,l),typeof a!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var d=l.stack;this.componentDidCatch(l.value,{componentStack:d!==null?d:""})})}function xg(e,t,n,l,a){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Fa(t,n,a,!0),n=rn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?pu():n.alternate===null&&ut===0&&(ut=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===Vs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Lr(e,l,a)),!1;case 22:return n.flags|=65536,l===Vs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Lr(e,l,a)),!1}throw Error(r(435,n.tag))}return Lr(e,l,a),pu(),!1}if(ze)return t=rn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==zc&&(e=Error(r(422),{cause:l}),Di(xn(e,n)))):(l!==zc&&(t=Error(r(423),{cause:l}),Di(xn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,l=xn(l,n),a=mr(e.stateNode,l,a),Qc(e,a),ut!==4&&(ut=2)),!1;var i=Error(r(520),{cause:l});if(i=xn(i,n),Wi===null?Wi=[i]:Wi.push(i),ut!==4&&(ut=2),t===null)return!0;l=xn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=mr(n.stateNode,l,e),Qc(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Zl===null||!Zl.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=hd(a),md(a,e,n,l),Qc(n,a),!1}n=n.return}while(n!==null);return!1}var gr=Error(r(461)),gt=!1;function Mt(e,t,n,l){t.child=e===null?yf(t,null,n,l):Na(t,e.child,n,l)}function gd(e,t,n,l,a){n=n.render;var i=t.ref;if("ref"in l){var u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}else u=l;return Sa(t),l=Fc(e,t,n,u,i,a),d=Wc(),e!==null&&!gt?(Ic(e,t,a),pl(e,t,a)):(ze&&d&&Rc(t),t.flags|=1,Mt(e,t,l,a),t.child)}function pd(e,t,n,l,a){if(e===null){var i=n.type;return typeof i=="function"&&!jc(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,vd(e,t,i,l,a)):(e=Ls(n.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!wr(e,a)){var u=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(u,l)&&e.ref===t.ref)return pl(e,t,a)}return t.flags|=1,e=ol(i,l),e.ref=t.ref,e.return=t,t.child=e}function vd(e,t,n,l,a){if(e!==null){var i=e.memoizedProps;if(Ci(i,l)&&e.ref===t.ref)if(gt=!1,t.pendingProps=l=i,wr(e,a))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,pl(e,t,a)}return pr(e,t,n,l,a)}function yd(e,t,n,l){var a=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(l=t.child=e.child,a=0;l!==null;)a=a|l.lanes|l.childLanes,l=l.sibling;l=a&~i}else l=0,t.child=null;return bd(e,t,i,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gs(t,i!==null?i.cachePool:null),i!==null?xf(t,i):Zc(),Ef(t);else return l=t.lanes=536870912,bd(e,t,i!==null?i.baseLanes|n:n,n,l)}else i!==null?(Gs(t,i.cachePool),xf(t,i),Xl(),t.memoizedState=null):(e!==null&&Gs(t,null),Zc(),Xl());return Mt(e,t,a,n),t.child}function Qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bd(e,t,n,l,a){var i=kc();return i=i===null?null:{parent:ht._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Gs(t,null),Zc(),Ef(t),e!==null&&Fa(e,t,l,!0),t.childLanes=a,null}function iu(e,t){return t=uu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sd(e,t,n){return Na(t,e.child,null,n),e=iu(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function Eg(e,t,n){var l=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(l.mode==="hidden")return e=iu(t,l),t.lanes=536870912,Qi(null,e);if(Jc(t),(e=Ie)?(e=Dh(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ol!==null?{id:Wn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},n=nf(e),n.return=t,t.child=n,jt=t,Ie=null)):e=null,e===null)throw Bl(t);return t.lanes=536870912,null}return iu(t,l)}var i=e.memoizedState;if(i!==null){var u=i.dehydrated;if(Jc(t),a)if(t.flags&256)t.flags&=-257,t=Sd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(gt||Fa(e,t,n,!1),a=(n&e.childLanes)!==0,gt||a){if(l=Fe,l!==null&&(u=Vn(l,n),u!==0&&u!==i.retryLane))throw i.retryLane=u,pa(e,u),It(l,e,u),gr;pu(),t=Sd(e,t,n)}else e=i.treeContext,Ie=_n(u.nextSibling),jt=t,ze=!0,Ul=null,Nn=!1,e!==null&&sf(t,e),t=iu(t,l),t.flags|=4096;return t}return e=ol(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function su(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function pr(e,t,n,l,a){return Sa(t),n=Fc(e,t,n,l,void 0,a),l=Wc(),e!==null&&!gt?(Ic(e,t,a),pl(e,t,a)):(ze&&l&&Rc(t),t.flags|=1,Mt(e,t,n,a),t.child)}function xd(e,t,n,l,a,i){return Sa(t),t.updateQueue=null,n=Nf(t,l,n,a),wf(e),l=Wc(),e!==null&&!gt?(Ic(e,t,i),pl(e,t,i)):(ze&&l&&Rc(t),t.flags|=1,Mt(e,t,n,i),t.child)}function Ed(e,t,n,l,a){if(Sa(t),t.stateNode===null){var i=Za,u=n.contextType;typeof u=="object"&&u!==null&&(i=Ct(u)),i=new n(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Xc(t),u=n.contextType,i.context=typeof u=="object"&&u!==null?Ct(u):Za,i.state=t.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(dr(t,n,u,l),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&hr.enqueueReplaceState(i,i.state,null),Li(t,l,i,a),qi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,p=_a(n,d);i.props=p;var A=i.context,U=n.contextType;u=Za,typeof U=="object"&&U!==null&&(u=Ct(U));var q=n.getDerivedStateFromProps;U=typeof q=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||A!==u)&&cd(t,i,l,u),ql=!1;var j=t.memoizedState;i.state=j,Li(t,l,i,a),qi(),A=t.memoizedState,d||j!==A||ql?(typeof q=="function"&&(dr(t,n,q,l),A=t.memoizedState),(p=ql||ud(t,n,p,l,j,A,u))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),i.props=l,i.state=A,i.context=u,l=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Gc(e,t),u=t.memoizedProps,U=_a(n,u),i.props=U,q=t.pendingProps,j=i.context,A=n.contextType,p=Za,typeof A=="object"&&A!==null&&(p=Ct(A)),d=n.getDerivedStateFromProps,(A=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==q||j!==p)&&cd(t,i,l,p),ql=!1,j=t.memoizedState,i.state=j,Li(t,l,i,a),qi();var M=t.memoizedState;u!==q||j!==M||ql||e!==null&&e.dependencies!==null&&Ys(e.dependencies)?(typeof d=="function"&&(dr(t,n,d,l),M=t.memoizedState),(U=ql||ud(t,n,U,l,j,M,p)||e!==null&&e.dependencies!==null&&Ys(e.dependencies))?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,M,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,M,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=M),i.props=l,i.state=M,i.context=p,l=U):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,su(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,n,a)):Mt(e,t,n,a),t.memoizedState=i.state,e=t.child):e=pl(e,t,a),e}function wd(e,t,n,l){return ya(),t.flags|=256,Mt(e,t,n,l),t.child}var vr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:df()}}function br(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Nd(e,t,n){var l=t.pendingProps,a=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),u&&(a=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(a?Yl(t):Xl(),(e=Ie)?(e=Dh(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ol!==null?{id:Wn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},n=nf(e),n.return=t,t.child=n,jt=t,Ie=null)):e=null,e===null)throw Bl(t);return to(e)?t.lanes=32:t.lanes=536870912,null}var d=l.children;return l=l.fallback,a?(Xl(),a=t.mode,d=uu({mode:"hidden",children:d},a),l=va(l,a,n,null),d.return=t,l.return=t,d.sibling=l,t.child=d,l=t.child,l.memoizedState=yr(n),l.childLanes=br(e,u,n),t.memoizedState=vr,Qi(null,l)):(Yl(t),Sr(t,d))}var p=e.memoizedState;if(p!==null&&(d=p.dehydrated,d!==null)){if(i)t.flags&256?(Yl(t),t.flags&=-257,t=xr(e,t,n)):t.memoizedState!==null?(Xl(),t.child=e.child,t.flags|=128,t=null):(Xl(),d=l.fallback,a=t.mode,l=uu({mode:"visible",children:l.children},a),d=va(d,a,n,null),d.flags|=2,l.return=t,d.return=t,l.sibling=d,t.child=l,Na(t,e.child,null,n),l=t.child,l.memoizedState=yr(n),l.childLanes=br(e,u,n),t.memoizedState=vr,t=Qi(null,l));else if(Yl(t),to(d)){if(u=d.nextSibling&&d.nextSibling.dataset,u)var A=u.dgst;u=A,l=Error(r(419)),l.stack="",l.digest=u,Di({value:l,source:null,stack:null}),t=xr(e,t,n)}else if(gt||Fa(e,t,n,!1),u=(n&e.childLanes)!==0,gt||u){if(u=Fe,u!==null&&(l=Vn(u,n),l!==0&&l!==p.retryLane))throw p.retryLane=l,pa(e,l),It(u,e,l),gr;eo(d)||pu(),t=xr(e,t,n)}else eo(d)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Ie=_n(d.nextSibling),jt=t,ze=!0,Ul=null,Nn=!1,e!==null&&sf(t,e),t=Sr(t,l.children),t.flags|=4096);return t}return a?(Xl(),d=l.fallback,a=t.mode,p=e.child,A=p.sibling,l=ol(p,{mode:"hidden",children:l.children}),l.subtreeFlags=p.subtreeFlags&65011712,A!==null?d=ol(A,d):(d=va(d,a,n,null),d.flags|=2),d.return=t,l.return=t,l.sibling=d,t.child=l,Qi(null,l),l=t.child,d=e.child.memoizedState,d===null?d=yr(n):(a=d.cachePool,a!==null?(p=ht._currentValue,a=a.parent!==p?{parent:p,pool:p}:a):a=df(),d={baseLanes:d.baseLanes|n,cachePool:a}),l.memoizedState=d,l.childLanes=br(e,u,n),t.memoizedState=vr,Qi(e.child,l)):(Yl(t),n=e.child,e=n.sibling,n=ol(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=n,t.memoizedState=null,n)}function Sr(e,t){return t=uu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function uu(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function xr(e,t,n){return Na(t,e.child,null,n),e=Sr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Td(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Bc(e.return,t,n)}function Er(e,t,n,l,a,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:a,treeForkCount:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=a,u.treeForkCount=i)}function _d(e,t,n){var l=t.pendingProps,a=l.revealOrder,i=l.tail;l=l.children;var u=rt.current,d=(u&2)!==0;if(d?(u=u&1|2,t.flags|=128):u&=1,X(rt,u),Mt(e,t,l,n),l=ze?Ri:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,n,t);else if(e.tag===19)Td(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&$s(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Er(t,!1,a,n,i,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$s(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Er(t,!0,n,null,i,l);break;case"together":Er(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function pl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Fa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=ol(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ol(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ys(e)))}function wg(e,t,n){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),Hl(t,ht,e.memoizedState.cache),ya();break;case 27:case 5:qe(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:Hl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Yl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Nd(e,t,n):(Yl(t),e=pl(e,t,n),e!==null?e.sibling:null);Yl(t);break;case 19:var a=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Fa(e,t,n,!1),l=(n&t.childLanes)!==0),a){if(l)return _d(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),X(rt,rt.current),l)break;return null;case 22:return t.lanes=0,yd(e,t,n,t.pendingProps);case 24:Hl(t,ht,e.memoizedState.cache)}return pl(e,t,n)}function Ad(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!wr(e,n)&&(t.flags&128)===0)return gt=!1,wg(e,t,n);gt=(e.flags&131072)!==0}else gt=!1,ze&&(t.flags&1048576)!==0&&af(t,Ri,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ea(t.elementType),t.type=e,typeof e=="function")jc(e)?(l=_a(e,l),t.tag=1,t=Ed(null,t,e,l,n)):(t.tag=0,t=pr(null,t,e,l,n));else{if(e!=null){var a=e.$$typeof;if(a===le){t.tag=11,t=gd(null,t,e,l,n);break e}else if(a===Q){t.tag=14,t=pd(null,t,e,l,n);break e}}throw t=et(e)||e,Error(r(306,t,""))}}return t;case 0:return pr(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,a=_a(l,t.pendingProps),Ed(e,t,l,a,n);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var i=t.memoizedState;a=i.element,Gc(e,t),Li(t,l,null,n);var u=t.memoizedState;if(l=u.cache,Hl(t,ht,l),l!==i.cache&&Hc(t,[ht],n,!0),qi(),l=u.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=wd(e,t,l,n);break e}else if(l!==a){a=xn(Error(r(424)),t),Di(a),t=wd(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=_n(e.firstChild),jt=t,ze=!0,Ul=null,Nn=!0,n=yf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),l===a){t=pl(e,t,n);break e}Mt(e,t,l,n)}t=t.child}return t;case 26:return su(e,t),e===null?(n=qh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ze||(n=t.type,e=t.pendingProps,l=wu(re.current).createElement(n),l[De]=t,l[tt]=e,Rt(l,n,e),w(l),t.stateNode=l):t.memoizedState=qh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qe(t),e===null&&ze&&(l=t.stateNode=Uh(t.type,t.pendingProps,re.current),jt=t,Nn=!0,a=Ie,Fl(t.type)?(no=a,Ie=_n(l.firstChild)):Ie=a),Mt(e,t,t.pendingProps.children,n),su(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((a=l=Ie)&&(l=Pg(l,t.type,t.pendingProps,Nn),l!==null?(t.stateNode=l,jt=t,Ie=_n(l.firstChild),Nn=!1,a=!0):a=!1),a||Bl(t)),qe(t),a=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,l=i.children,Wr(a,i)?l=null:u!==null&&Wr(a,u)&&(t.flags|=32),t.memoizedState!==null&&(a=Fc(e,t,mg,null,null,n),is._currentValue=a),su(e,t),Mt(e,t,l,n),t.child;case 6:return e===null&&ze&&((e=n=Ie)&&(n=ep(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,jt=t,Ie=null,e=!0):e=!1),e||Bl(t)),null;case 13:return Nd(e,t,n);case 4:return We(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Na(t,null,l,n):Mt(e,t,l,n),t.child;case 11:return gd(e,t,t.type,t.pendingProps,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Hl(t,t.type,l.value),Mt(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,Sa(t),a=Ct(a),l=l(a),t.flags|=1,Mt(e,t,l,n),t.child;case 14:return pd(e,t,t.type,t.pendingProps,n);case 15:return vd(e,t,t.type,t.pendingProps,n);case 19:return _d(e,t,n);case 31:return Eg(e,t,n);case 22:return yd(e,t,n,t.pendingProps);case 24:return Sa(t),l=Ct(ht),e===null?(a=kc(),a===null&&(a=Fe,i=qc(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:l,cache:a},Xc(t),Hl(t,ht,a)):((e.lanes&n)!==0&&(Gc(e,t),Li(t,null,null,n),qi()),a=e.memoizedState,i=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Hl(t,ht,l)):(l=i.cache,Hl(t,ht,l),l!==a.cache&&Hc(t,[ht],n,!0))),Mt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function vl(e){e.flags|=4}function Nr(e,t,n,l,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(eh())e.flags|=8192;else throw wa=Vs,Yc}else e.flags&=-16777217}function jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gh(t))if(eh())e.flags|=8192;else throw wa=Vs,Yc}function cu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_l():536870912,e.lanes|=t,ci|=t)}function Vi(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags&65011712,l|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Ng(e,t,n){var l=t.pendingProps;switch(Dc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hl(ht),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($a(t)?vl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oc())),Pe(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(vl(t),i!==null?(Pe(t),jd(t,i)):(Pe(t),Nr(t,a,null,l,n))):i?i!==e.memoizedState?(vl(t),Pe(t),jd(t,i)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&vl(t),Pe(t),Nr(t,a,e,l,n)),null;case 27:if(Nt(t),n=re.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Pe(t),null}e=$.current,$a(t)?uf(t):(e=Uh(a,l,n),t.stateNode=e,vl(t))}return Pe(t),null;case 5:if(Nt(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Pe(t),null}if(i=$.current,$a(t))uf(t);else{var u=wu(re.current);switch(i){case 1:i=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=u.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}i[De]=t,i[tt]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=i;e:switch(Rt(i,a,l),a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vl(t)}}return Pe(t),Nr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=re.current,$a(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,a=jt,a!==null)switch(a.tag){case 27:case 5:l=a.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Nh(e.nodeValue,n)),e||Bl(t,!0)}else e=wu(e).createTextNode(l),e[De]=t,t.stateNode=e}return Pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=$a(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[De]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else n=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Pe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=$a(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(r(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));a[De]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),a=!1}else a=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,a=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(a=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==a&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cu(t,t.updateQueue),Pe(t),null);case 4:return Ue(),e===null&&Zr(t.stateNode.containerInfo),Pe(t),null;case 10:return hl(t.type),Pe(t),null;case 19:if(z(rt),l=t.memoizedState,l===null)return Pe(t),null;if(a=(t.flags&128)!==0,i=l.rendering,i===null)if(a)Vi(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=$s(e),i!==null){for(t.flags|=128,Vi(l,!1),e=i.updateQueue,t.updateQueue=e,cu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)tf(n,e),n=n.sibling;return X(rt,rt.current&1|2),ze&&fl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Dt()>hu&&(t.flags|=128,a=!0,Vi(l,!1),t.lanes=4194304)}else{if(!a)if(e=$s(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,cu(t,e),Vi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ze)return Pe(t),null}else 2*Dt()-l.renderingStartTime>hu&&n!==536870912&&(t.flags|=128,a=!0,Vi(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,n=rt.current,X(rt,a?n&1|2:n&1),ze&&fl(t,l.treeForkCount),e):(Pe(t),null);case 22:case 23:return on(t),Kc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),n=t.updateQueue,n!==null&&cu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&z(xa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hl(ht),Pe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Tg(e,t){switch(Dc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(ht),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Nt(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(r(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(rt),null;case 4:return Ue(),null;case 10:return hl(t.type),null;case 22:case 23:return on(t),Kc(),e!==null&&z(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hl(ht),null;case 25:return null;default:return null}}function Cd(e,t){switch(Dc(t),t.tag){case 3:hl(ht),Ue();break;case 26:case 27:case 5:Nt(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:z(rt);break;case 10:hl(t.type);break;case 22:case 23:on(t),Kc(),e!==null&&z(xa);break;case 24:hl(ht)}}function Zi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var a=l.next;n=a;do{if((n.tag&e)===e){l=void 0;var i=n.create,u=n.inst;l=i(),u.destroy=l}n=n.next}while(n!==a)}}catch(d){Ge(t,t.return,d)}}function Gl(e,t,n){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var i=a.next;l=i;do{if((l.tag&e)===e){var u=l.inst,d=u.destroy;if(d!==void 0){u.destroy=void 0,a=t;var p=n,A=d;try{A()}catch(U){Ge(a,p,U)}}}l=l.next}while(l!==i)}}catch(U){Ge(t,t.return,U)}}function Md(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Sf(t,n)}catch(l){Ge(e,e.return,l)}}}function Rd(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ge(e,t,l)}}function Ki(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(a){Ge(e,t,a)}}function Pn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(a){Ge(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ge(e,t,a)}else n.current=null}function Dd(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(a){Ge(e,e.return,a)}}function Tr(e,t,n){try{var l=e.stateNode;Kg(l,e.type,n,t),l[tt]=t}catch(a){Ge(e,e.return,a)}}function zd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fl(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ln));else if(l!==4&&(l===27&&Fl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ar(e,t,n),e=e.sibling;e!==null;)Ar(e,t,n),e=e.sibling}function ru(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Fl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function Od(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Rt(t,l,n),t[De]=e,t[tt]=n}catch(i){Ge(e,e.return,i)}}var yl=!1,pt=!1,jr=!1,Ud=typeof WeakSet=="function"?WeakSet:Set,wt=null;function _g(e,t){if(e=e.containerInfo,$r=Mu,e=Zo(e),xc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var a=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var u=0,d=-1,p=-1,A=0,U=0,q=e,j=null;t:for(;;){for(var M;q!==n||a!==0&&q.nodeType!==3||(d=u+a),q!==i||l!==0&&q.nodeType!==3||(p=u+l),q.nodeType===3&&(u+=q.nodeValue.length),(M=q.firstChild)!==null;)j=q,q=M;for(;;){if(q===e)break t;if(j===n&&++A===a&&(d=u),j===i&&++U===l&&(p=u),(M=q.nextSibling)!==null)break;q=j,j=q.parentNode}q=M}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fr={focusedElem:e,selectionRange:n},Mu=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,l=n.stateNode;try{var ae=_a(n.type,a);e=l.getSnapshotBeforeUpdate(ae,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ge(n,n.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pr(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function Bd(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),l&4&&Zi(5,n);break;case 1:if(Sl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(u){Ge(n,n.return,u)}else{var a=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Ge(n,n.return,u)}}l&64&&Md(n),l&512&&Ki(n,n.return);break;case 3:if(Sl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Sf(e,t)}catch(u){Ge(n,n.return,u)}}break;case 27:t===null&&l&4&&Od(n);case 26:case 5:Sl(e,n),t===null&&l&4&&Dd(n),l&512&&Ki(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),l&4&&Ld(e,n);break;case 13:Sl(e,n),l&4&&kd(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ug.bind(null,n),tp(e,n))));break;case 22:if(l=n.memoizedState!==null||yl,!l){t=t!==null&&t.memoizedState!==null||pt,a=yl;var i=pt;yl=l,(pt=t)&&!i?xl(e,n,(n.subtreeFlags&8772)!==0):Sl(e,n),yl=a,pt=i}break;case 30:break;default:Sl(e,n)}}function Hd(e){var t=e.alternate;t!==null&&(e.alternate=null,Hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ua(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Jt=!1;function bl(e,t,n){for(n=n.child;n!==null;)qd(e,t,n),n=n.sibling}function qd(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ct,n)}catch{}switch(n.tag){case 26:pt||Pn(n,t),bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pt||Pn(n,t);var l=lt,a=Jt;Fl(n.type)&&(lt=n.stateNode,Jt=!1),bl(e,t,n),ns(n.stateNode),lt=l,Jt=a;break;case 5:pt||Pn(n,t);case 6:if(l=lt,a=Jt,lt=null,bl(e,t,n),lt=l,Jt=a,lt!==null)if(Jt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(n.stateNode)}catch(i){Ge(n,t,i)}else try{lt.removeChild(n.stateNode)}catch(i){Ge(n,t,i)}break;case 18:lt!==null&&(Jt?(e=lt,Mh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),pi(e)):Mh(lt,n.stateNode));break;case 4:l=lt,a=Jt,lt=n.stateNode.containerInfo,Jt=!0,bl(e,t,n),lt=l,Jt=a;break;case 0:case 11:case 14:case 15:Gl(2,n,t),pt||Gl(4,n,t),bl(e,t,n);break;case 1:pt||(Pn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Rd(n,t,l)),bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:pt=(l=pt)||n.memoizedState!==null,bl(e,t,n),pt=l;break;default:bl(e,t,n)}}function Ld(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pi(e)}catch(n){Ge(t,t.return,n)}}}function kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pi(e)}catch(n){Ge(t,t.return,n)}}function Ag(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ud),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ud),t;default:throw Error(r(435,e.tag))}}function ou(e,t){var n=Ag(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var a=Bg.bind(null,e,l);l.then(a,a)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var a=n[l],i=e,u=t,d=u;e:for(;d!==null;){switch(d.tag){case 27:if(Fl(d.type)){lt=d.stateNode,Jt=!1;break e}break;case 5:lt=d.stateNode,Jt=!1;break e;case 3:case 4:lt=d.stateNode.containerInfo,Jt=!0;break e}d=d.return}if(lt===null)throw Error(r(160));qd(i,u,a),lt=null,Jt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}var Yn=null;function Yd(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),Ft(e),l&4&&(Gl(3,e,e.return),Zi(3,e),Gl(5,e,e.return));break;case 1:$t(t,e),Ft(e),l&512&&(pt||n===null||Pn(n,n.return)),l&64&&yl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var a=Yn;if($t(t,e),Ft(e),l&512&&(pt||n===null||Pn(n,n.return)),l&4){var i=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(l){case"title":i=a.getElementsByTagName("title")[0],(!i||i[vn]||i[De]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(l),a.head.insertBefore(i,a.querySelector("head > title"))),Rt(i,l,n),i[De]=e,w(i),l=i;break e;case"link":var u=Yh("link","href",a).get(l+(n.href||""));if(u){for(var d=0;d<u.length;d++)if(i=u[d],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(d,1);break t}}i=a.createElement(l),Rt(i,l,n),a.head.appendChild(i);break;case"meta":if(u=Yh("meta","content",a).get(l+(n.content||""))){for(d=0;d<u.length;d++)if(i=u[d],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(d,1);break t}}i=a.createElement(l),Rt(i,l,n),a.head.appendChild(i);break;default:throw Error(r(468,l))}i[De]=e,w(i),l=i}e.stateNode=l}else Xh(a,e.type,e.stateNode);else e.stateNode=kh(a,l,e.memoizedProps);else i!==l?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,l===null?Xh(a,e.type,e.stateNode):kh(a,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),Ft(e),l&512&&(pt||n===null||Pn(n,n.return)),n!==null&&l&4&&Tr(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),Ft(e),l&512&&(pt||n===null||Pn(n,n.return)),e.flags&32){a=e.stateNode;try{Ml(a,"")}catch(ae){Ge(e,e.return,ae)}}l&4&&e.stateNode!=null&&(a=e.memoizedProps,Tr(e,a,n!==null?n.memoizedProps:a)),l&1024&&(jr=!0);break;case 6:if($t(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ae){Ge(e,e.return,ae)}}break;case 3:if(_u=null,a=Yn,Yn=Nu(t.containerInfo),$t(t,e),Yn=a,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(ae){Ge(e,e.return,ae)}jr&&(jr=!1,Xd(e));break;case 4:l=Yn,Yn=Nu(e.stateNode.containerInfo),$t(t,e),Ft(e),Yn=l;break;case 12:$t(t,e),Ft(e);break;case 31:$t(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ou(e,l)));break;case 13:$t(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(du=Dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ou(e,l)));break;case 22:a=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,A=yl,U=pt;if(yl=A||a,pt=U||p,$t(t,e),pt=U,yl=A,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||p||yl||pt||Aa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(i=p.stateNode,a)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{d=p.stateNode;var q=p.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null;d.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ae){Ge(p,p.return,ae)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=a?"":p.memoizedProps}catch(ae){Ge(p,p.return,ae)}}}else if(t.tag===18){if(n===null){p=t;try{var M=p.stateNode;a?Rh(M,!0):Rh(p.stateNode,!1)}catch(ae){Ge(p,p.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,ou(e,n))));break;case 19:$t(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ou(e,l)));break;case 30:break;case 21:break;default:$t(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(zd(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode,i=_r(e);ru(e,i,a);break;case 5:var u=n.stateNode;n.flags&32&&(Ml(u,""),n.flags&=-33);var d=_r(e);ru(e,d,u);break;case 3:case 4:var p=n.stateNode.containerInfo,A=_r(e);Ar(e,A,p);break;default:throw Error(r(161))}}catch(U){Ge(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bd(e,t.alternate,t),t=t.sibling}function Aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gl(4,t,t.return),Aa(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Rd(t,t.return,n),Aa(t);break;case 27:ns(t.stateNode);case 26:case 5:Pn(t,t.return),Aa(t);break;case 22:t.memoizedState===null&&Aa(t);break;case 30:Aa(t);break;default:Aa(t)}e=e.sibling}}function xl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,a=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:xl(a,i,n),Zi(4,i);break;case 1:if(xl(a,i,n),l=i,a=l.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(A){Ge(l,l.return,A)}if(l=i,a=l.updateQueue,a!==null){var d=l.stateNode;try{var p=a.shared.hiddenCallbacks;if(p!==null)for(a.shared.hiddenCallbacks=null,a=0;a<p.length;a++)bf(p[a],d)}catch(A){Ge(l,l.return,A)}}n&&u&64&&Md(i),Ki(i,i.return);break;case 27:Od(i);case 26:case 5:xl(a,i,n),n&&l===null&&u&4&&Dd(i),Ki(i,i.return);break;case 12:xl(a,i,n);break;case 31:xl(a,i,n),n&&u&4&&Ld(a,i);break;case 13:xl(a,i,n),n&&u&4&&kd(a,i);break;case 22:i.memoizedState===null&&xl(a,i,n),Ki(i,i.return);break;case 30:break;default:xl(a,i,n)}t=t.sibling}}function Cr(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&zi(n))}function Mr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e))}function Xn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gd(e,t,n,l),t=t.sibling}function Gd(e,t,n,l){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Xn(e,t,n,l),a&2048&&Zi(9,t);break;case 1:Xn(e,t,n,l);break;case 3:Xn(e,t,n,l),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e)));break;case 12:if(a&2048){Xn(e,t,n,l),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,d=i.onPostCommit;typeof d=="function"&&d(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Ge(t,t.return,p)}}else Xn(e,t,n,l);break;case 31:Xn(e,t,n,l);break;case 13:Xn(e,t,n,l);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?Xn(e,t,n,l):Ji(e,t):i._visibility&2?Xn(e,t,n,l):(i._visibility|=2,ii(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Cr(u,t);break;case 24:Xn(e,t,n,l),a&2048&&Mr(t.alternate,t);break;default:Xn(e,t,n,l)}}function ii(e,t,n,l,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,u=t,d=n,p=l,A=u.flags;switch(u.tag){case 0:case 11:case 15:ii(i,u,d,p,a),Zi(8,u);break;case 23:break;case 22:var U=u.stateNode;u.memoizedState!==null?U._visibility&2?ii(i,u,d,p,a):Ji(i,u):(U._visibility|=2,ii(i,u,d,p,a)),a&&A&2048&&Cr(u.alternate,u);break;case 24:ii(i,u,d,p,a),a&&A&2048&&Mr(u.alternate,u);break;default:ii(i,u,d,p,a)}t=t.sibling}}function Ji(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,a=l.flags;switch(l.tag){case 22:Ji(n,l),a&2048&&Cr(l.alternate,l);break;case 24:Ji(n,l),a&2048&&Mr(l.alternate,l);break;default:Ji(n,l)}t=t.sibling}}var $i=8192;function si(e,t,n){if(e.subtreeFlags&$i)for(e=e.child;e!==null;)Qd(e,t,n),e=e.sibling}function Qd(e,t,n){switch(e.tag){case 26:si(e,t,n),e.flags&$i&&e.memoizedState!==null&&hp(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:si(e,t,n);break;case 3:case 4:var l=Yn;Yn=Nu(e.stateNode.containerInfo),si(e,t,n),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=$i,$i=16777216,si(e,t,n),$i=l):si(e,t,n));break;default:si(e,t,n)}}function Vd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];wt=l,Kd(l,e)}Vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zd(e),e=e.sibling}function Zd(e){switch(e.tag){case 0:case 11:case 15:Fi(e),e.flags&2048&&Gl(9,e,e.return);break;case 3:Fi(e);break;case 12:Fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fu(e)):Fi(e);break;default:Fi(e)}}function fu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];wt=l,Kd(l,e)}Vd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gl(8,t,t.return),fu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fu(t));break;default:fu(t)}e=e.sibling}}function Kd(e,t){for(;wt!==null;){var n=wt;switch(n.tag){case 0:case 11:case 15:Gl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,wt=l;else e:for(n=e;wt!==null;){l=wt;var a=l.sibling,i=l.return;if(Hd(l),l===n){wt=null;break e}if(a!==null){a.return=i,wt=a;break e}wt=i}}}var jg={getCacheForType:function(e){var t=Ct(ht),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ct(ht).controller.signal}},Cg=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,je=null,Me=0,Xe=0,fn=null,Ql=!1,ui=!1,Rr=!1,El=0,ut=0,Vl=0,ja=0,Dr=0,dn=0,ci=0,Wi=null,Wt=null,zr=!1,du=0,Jd=0,hu=1/0,mu=null,Zl=null,vt=0,Kl=null,ri=null,wl=0,Or=0,Ur=null,$d=null,Ii=0,Br=null;function hn(){return(Le&2)!==0&&Me!==0?Me&-Me:R.T!==null?Xr():aa()}function Fd(){if(dn===0)if((Me&536870912)===0||ze){var e=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),dn=e}else dn=536870912;return e=rn.current,e!==null&&(e.flags|=32),dn}function It(e,t,n){(e===Fe&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(oi(e,0),Jl(e,Me,dn,!1)),St(e,n),((Le&2)===0||e!==Fe)&&(e===Fe&&((Le&2)===0&&(ja|=n),ut===4&&Jl(e,Me,dn,!1)),el(e))}function Wd(e,t,n){if((Le&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ln(e,t),a=l?Dg(e,t):qr(e,t,!0),i=l;do{if(a===0){ui&&!l&&Jl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Mg(n)){a=qr(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var d=e;a=Wi;var p=d.current.memoizedState.isDehydrated;if(p&&(oi(d,u).flags|=256),u=qr(d,u,!1),u!==2){if(Rr&&!p){d.errorRecoveryDisabledLanes|=i,ja|=i,a=4;break e}i=Wt,Wt=a,i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i))}a=u}if(i=!1,a!==2)continue}}if(a===1){oi(e,0),Jl(e,t,0,!0);break}e:{switch(l=e,i=a,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Jl(l,t,dn,!Ql);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(a=du+300-Dt(),10<a)){if(Jl(l,t,dn,!Ql),Zt(l,0,!0)!==0)break e;wl=t,l.timeoutHandle=jh(Id.bind(null,l,n,Wt,mu,zr,t,dn,ja,ci,Ql,i,"Throttled",-0,0),a);break e}Id(l,n,Wt,mu,zr,t,dn,ja,ci,Ql,i,null,-0,0)}}break}while(!0);el(e)}function Id(e,t,n,l,a,i,u,d,p,A,U,q,j,M){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Qd(t,i,q);var ae=(i&62914560)===i?du-Dt():(i&4194048)===i?Jd-Dt():0;if(ae=mp(q,ae),ae!==null){wl=i,e.cancelPendingCommit=ae(sh.bind(null,e,t,i,n,l,a,u,d,p,U,q,null,j,M)),Jl(e,i,u,!A);return}}sh(e,t,i,n,l,a,u,d,p)}function Mg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var a=n[l],i=a.getSnapshot;a=a.value;try{if(!un(i(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jl(e,t,n,l){t&=~Dr,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var a=t;0<a;){var i=31-at(a),u=1<<i;l[i]=-1,a&=~u}n!==0&&gn(e,n,t)}function gu(){return(Le&6)===0?(Pi(0),!1):!0}function Hr(){if(je!==null){if(Xe===0)var e=je.return;else e=je,dl=ba=null,Pc(e),ei=null,Ui=0,e=je;for(;e!==null;)Cd(e.alternate,e),e=e.return;je=null}}function oi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wl=0,Hr(),Fe=e,je=n=ol(e.current,null),Me=t,Xe=0,fn=null,Ql=!1,ui=ln(e,t),Rr=!1,ci=dn=Dr=ja=Vl=ut=0,Wt=Wi=null,zr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var a=31-at(l),i=1<<a;t|=e[a],l&=~i}return El=t,Bs(),n}function Pd(e,t){xe=null,R.H=Gi,t===Pa||t===Qs?(t=gf(),Xe=3):t===Yc?(t=gf(),Xe=4):Xe=t===gr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,je===null&&(ut=1,au(e,xn(t,e.current)))}function eh(){var e=rn.current;return e===null?!0:(Me&4194048)===Me?Tn===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Tn:!1}function th(){var e=R.H;return R.H=Gi,e===null?Gi:e}function nh(){var e=R.A;return R.A=jg,e}function pu(){ut=4,Ql||(Me&4194048)!==Me&&rn.current!==null||(ui=!0),(Vl&134217727)===0&&(ja&134217727)===0||Fe===null||Jl(Fe,Me,dn,!1)}function qr(e,t,n){var l=Le;Le|=2;var a=th(),i=nh();(Fe!==e||Me!==t)&&(mu=null,oi(e,t)),t=!1;var u=ut;e:do try{if(Xe!==0&&je!==null){var d=je,p=fn;switch(Xe){case 8:Hr(),u=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(t=!0);var A=Xe;if(Xe=0,fn=null,fi(e,d,p,A),n&&ui){u=0;break e}break;default:A=Xe,Xe=0,fn=null,fi(e,d,p,A)}}Rg(),u=ut;break}catch(U){Pd(e,U)}while(!0);return t&&e.shellSuspendCounter++,dl=ba=null,Le=l,R.H=a,R.A=i,je===null&&(Fe=null,Me=0,Bs()),u}function Rg(){for(;je!==null;)lh(je)}function Dg(e,t){var n=Le;Le|=2;var l=th(),a=nh();Fe!==e||Me!==t?(mu=null,hu=Dt()+500,oi(e,t)):ui=ln(e,t);e:do try{if(Xe!==0&&je!==null){t=je;var i=fn;t:switch(Xe){case 1:Xe=0,fn=null,fi(e,t,i,1);break;case 2:case 9:if(hf(i)){Xe=0,fn=null,ah(t);break}t=function(){Xe!==2&&Xe!==9||Fe!==e||(Xe=7),el(e)},i.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:hf(i)?(Xe=0,fn=null,ah(t)):(Xe=0,fn=null,fi(e,t,i,7));break;case 5:var u=null;switch(je.tag){case 26:u=je.memoizedState;case 5:case 27:var d=je;if(u?Gh(u):d.stateNode.complete){Xe=0,fn=null;var p=d.sibling;if(p!==null)je=p;else{var A=d.return;A!==null?(je=A,vu(A)):je=null}break t}}Xe=0,fn=null,fi(e,t,i,5);break;case 6:Xe=0,fn=null,fi(e,t,i,6);break;case 8:Hr(),ut=6;break e;default:throw Error(r(462))}}zg();break}catch(U){Pd(e,U)}while(!0);return dl=ba=null,R.H=l,R.A=a,Le=n,je!==null?0:(Fe=null,Me=0,Bs(),ut)}function zg(){for(;je!==null&&!tl();)lh(je)}function lh(e){var t=Ad(e.alternate,e,El);e.memoizedProps=e.pendingProps,t===null?vu(e):je=t}function ah(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xd(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=xd(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Pc(t);default:Cd(n,t),t=je=tf(t,El),t=Ad(n,t,El)}e.memoizedProps=e.pendingProps,t===null?vu(e):je=t}function fi(e,t,n,l){dl=ba=null,Pc(t),ei=null,Ui=0;var a=t.return;try{if(xg(e,a,t,n,Me)){ut=1,au(e,xn(n,e.current)),je=null;return}}catch(i){if(a!==null)throw je=a,i;ut=1,au(e,xn(n,e.current)),je=null;return}t.flags&32768?(ze||l===1?e=!0:ui||(Me&536870912)!==0?e=!1:(Ql=e=!0,(l===2||l===9||l===3||l===6)&&(l=rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ih(t,e)):vu(t)}function vu(e){var t=e;do{if((t.flags&32768)!==0){ih(t,Ql);return}e=t.return;var n=Ng(t.alternate,t,El);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ut===0&&(ut=5)}function ih(e,t){do{var n=Tg(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);ut=6,je=null}function sh(e,t,n,l,a,i,u,d,p){e.cancelPendingCommit=null;do yu();while(vt!==0);if((Le&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=_c,Ei(e,n,i,u,d,p),e===Fe&&(je=Fe=null,Me=0),ri=t,Kl=e,wl=n,Or=i,Ur=a,$d=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hg(yt,function(){return fh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null,a=O.p,O.p=2,u=Le,Le|=4;try{_g(e,t,n)}finally{Le=u,O.p=a,R.T=l}}vt=1,uh(),ch(),rh()}}function uh(){if(vt===1){vt=0;var e=Kl,t=ri,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var l=O.p;O.p=2;var a=Le;Le|=4;try{Yd(t,e);var i=Fr,u=Zo(e.containerInfo),d=i.focusedElem,p=i.selectionRange;if(u!==d&&d&&d.ownerDocument&&Vo(d.ownerDocument.documentElement,d)){if(p!==null&&xc(d)){var A=p.start,U=p.end;if(U===void 0&&(U=A),"selectionStart"in d)d.selectionStart=A,d.selectionEnd=Math.min(U,d.value.length);else{var q=d.ownerDocument||document,j=q&&q.defaultView||window;if(j.getSelection){var M=j.getSelection(),ae=d.textContent.length,me=Math.min(p.start,ae),$e=p.end===void 0?me:Math.min(p.end,ae);!M.extend&&me>$e&&(u=$e,$e=me,me=u);var T=Qo(d,me),x=Qo(d,$e);if(T&&x&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==x.node||M.focusOffset!==x.offset)){var _=q.createRange();_.setStart(T.node,T.offset),M.removeAllRanges(),me>$e?(M.addRange(_),M.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),M.addRange(_))}}}}for(q=[],M=d;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<q.length;d++){var B=q[d];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Mu=!!$r,Fr=$r=null}finally{Le=a,O.p=l,R.T=n}}e.current=t,vt=2}}function ch(){if(vt===2){vt=0;var e=Kl,t=ri,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var l=O.p;O.p=2;var a=Le;Le|=4;try{Bd(e,t.alternate,t)}finally{Le=a,O.p=l,R.T=n}}vt=3}}function rh(){if(vt===4||vt===3){vt=0,Mn();var e=Kl,t=ri,n=wl,l=$d;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?vt=5:(vt=0,ri=Kl=null,oh(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Zl=null),pn(n),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ct,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=R.T,a=O.p,O.p=2,R.T=null;try{for(var i=e.onRecoverableError,u=0;u<l.length;u++){var d=l[u];i(d.value,{componentStack:d.stack})}}finally{R.T=t,O.p=a}}(wl&3)!==0&&yu(),el(e),a=e.pendingLanes,(n&261930)!==0&&(a&42)!==0?e===Br?Ii++:(Ii=0,Br=e):Ii=0,Pi(0)}}function oh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zi(t)))}function yu(){return uh(),ch(),rh(),fh()}function fh(){if(vt!==5)return!1;var e=Kl,t=Or;Or=0;var n=pn(wl),l=R.T,a=O.p;try{O.p=32>n?32:n,R.T=null,n=Ur,Ur=null;var i=Kl,u=wl;if(vt=0,ri=Kl=null,wl=0,(Le&6)!==0)throw Error(r(331));var d=Le;if(Le|=4,Zd(i.current),Gd(i,i.current,u,n),Le=d,Pi(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ct,i)}catch{}return!0}finally{O.p=a,R.T=l,oh(e,t)}}function dh(e,t,n){t=xn(n,t),t=mr(e.stateNode,t,2),e=kl(e,t,2),e!==null&&(St(e,2),el(e))}function Ge(e,t,n){if(e.tag===3)dh(e,e,n);else for(;t!==null;){if(t.tag===3){dh(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zl===null||!Zl.has(l))){e=xn(n,e),n=hd(2),l=kl(t,n,2),l!==null&&(md(n,l,t,e),St(l,2),el(l));break}}t=t.return}}function Lr(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Cg;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(n)||(Rr=!0,a.add(n),e=Og.bind(null,e,t,n),t.then(e,e))}function Og(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Me&n)===n&&(ut===4||ut===3&&(Me&62914560)===Me&&300>Dt()-du?(Le&2)===0&&oi(e,0):Dr|=n,ci===Me&&(ci=0)),el(e)}function hh(e,t){t===0&&(t=_l()),e=pa(e,t),e!==null&&(St(e,t),el(e))}function Ug(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hh(e,n)}function Bg(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),hh(e,n)}function Hg(e,t){return Yt(e,t)}var bu=null,di=null,kr=!1,Su=!1,Yr=!1,$l=0;function el(e){e!==di&&e.next===null&&(di===null?bu=di=e:di=di.next=e),Su=!0,kr||(kr=!0,Lg())}function Pi(e,t){if(!Yr&&Su){Yr=!0;do for(var n=!1,l=bu;l!==null;){if(e!==0){var a=l.pendingLanes;if(a===0)var i=0;else{var u=l.suspendedLanes,d=l.pingedLanes;i=(1<<31-at(42|e)+1)-1,i&=a&~(u&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,vh(l,i))}else i=Me,i=Zt(l,l===Fe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||ln(l,i)||(n=!0,vh(l,i));l=l.next}while(n);Yr=!1}}function qg(){mh()}function mh(){Su=kr=!1;var e=0;$l!==0&&$g()&&(e=$l);for(var t=Dt(),n=null,l=bu;l!==null;){var a=l.next,i=gh(l,t);i===0?(l.next=null,n===null?bu=a:n.next=a,a===null&&(di=n)):(n=l,(e!==0||(i&3)!==0)&&(Su=!0)),l=a}vt!==0&&vt!==5||Pi(e),$l!==0&&($l=0)}function gh(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-at(i),d=1<<u,p=a[u];p===-1?((d&n)===0||(d&l)!==0)&&(a[u]=xi(d,t)):p<=t&&(e.expiredLanes|=d),i&=~d}if(t=Fe,n=Me,n=Zt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ln(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&mn(l),pn(n)){case 2:case 8:n=Gn;break;case 32:n=yt;break;case 268435456:n=nl;break;default:n=yt}return l=ph.bind(null,e),n=Yt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&mn(l),e.callbackPriority=2,e.callbackNode=null,2}function ph(e,t){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yu()&&e.callbackNode!==n)return null;var l=Me;return l=Zt(e,e===Fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Wd(e,l,t),gh(e,Dt()),e.callbackNode!=null&&e.callbackNode===n?ph.bind(null,e):null)}function vh(e,t){if(yu())return null;Wd(e,t,!0)}function Lg(){Wg(function(){(Le&6)!==0?Yt(Tl,qg):mh()})}function Xr(){if($l===0){var e=Wa;e===0&&(e=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),$l=e}return $l}function yh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qn(""+e)}function bh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kg(e,t,n,l,a){if(t==="submit"&&n&&n.stateNode===a){var i=yh((a[tt]||null).action),u=l.submitter;u&&(t=(t=u[tt]||null)?yh(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var d=new ka("action","action",null,l,a);e.push({event:d,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($l!==0){var p=u?bh(a,u):new FormData(a);cr(n,{pending:!0,data:p,method:a.method,action:i},null,p)}}else typeof i=="function"&&(d.preventDefault(),p=u?bh(a,u):new FormData(a),cr(n,{pending:!0,data:p,method:a.method,action:i},i,p))},currentTarget:a}]})}}for(var Gr=0;Gr<Tc.length;Gr++){var Qr=Tc[Gr],Yg=Qr.toLowerCase(),Xg=Qr[0].toUpperCase()+Qr.slice(1);kn(Yg,"on"+Xg)}kn($o,"onAnimationEnd"),kn(Fo,"onAnimationIteration"),kn(Wo,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(ag,"onTransitionRun"),kn(ig,"onTransitionStart"),kn(sg,"onTransitionCancel"),kn(Io,"onTransitionEnd"),Z("onMouseEnter",["mouseout","mouseover"]),Z("onMouseLeave",["mouseout","mouseover"]),Z("onPointerEnter",["pointerout","pointerover"]),Z("onPointerLeave",["pointerout","pointerover"]),se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),se("onBeforeInput",["compositionend","keypress","textInput","paste"]),se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function Sh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],a=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var u=l.length-1;0<=u;u--){var d=l[u],p=d.instance,A=d.currentTarget;if(d=d.listener,p!==i&&a.isPropagationStopped())break e;i=d,a.currentTarget=A;try{i(a)}catch(U){Us(U)}a.currentTarget=null,i=p}else for(u=0;u<l.length;u++){if(d=l[u],p=d.instance,A=d.currentTarget,d=d.listener,p!==i&&a.isPropagationStopped())break e;i=d,a.currentTarget=A;try{i(a)}catch(U){Us(U)}a.currentTarget=null,i=p}}}}function Ce(e,t){var n=t[Un];n===void 0&&(n=t[Un]=new Set);var l=e+"__bubble";n.has(l)||(xh(t,e,2,!1),n.add(l))}function Vr(e,t,n){var l=0;t&&(l|=4),xh(n,e,l,t)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[xu]){e[xu]=!0,G.forEach(function(n){n!=="selectionchange"&&(Gg.has(n)||Vr(n,!1,e),Vr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xu]||(t[xu]=!0,Vr("selectionchange",!1,t))}}function xh(e,t,n,l){switch(Fh(t)){case 2:var a=vp;break;case 8:a=yp;break;default:a=uo}n=a.bind(null,t,n,e),a=void 0,!Ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Kr(e,t,n,l,a){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var u=l.tag;if(u===3||u===4){var d=l.stateNode.containerInfo;if(d===a)break;if(u===4)for(u=l.return;u!==null;){var p=u.tag;if((p===3||p===4)&&u.stateNode.containerInfo===a)return;u=u.return}for(;d!==null;){if(u=Bn(d),u===null)return;if(p=u.tag,p===5||p===6||p===26||p===27){l=i=u;continue e}d=d.parentNode}}l=l.return}Ba(function(){var A=i,U=ca(n),q=[];e:{var j=Po.get(e);if(j!==void 0){var M=ka,ae=e;switch(e){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":M=fc;break;case"focusin":ae="focus",M=Ai;break;case"focusout":ae="blur",M=Ai;break;case"beforeblur":case"afterblur":M=Ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=_i;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=mc;break;case $o:case Fo:case Wo:M=nc;break;case Io:M=gc;break;case"scroll":case"scrollend":M=Iu;break;case"wheel":M=pc;break;case"copy":case"cut":case"paste":M=ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=As;break;case"toggle":case"beforetoggle":M=Rs}var me=(t&4)!==0,$e=!me&&(e==="scroll"||e==="scrollend"),T=me?j!==null?j+"Capture":null:j;me=[];for(var x=A,_;x!==null;){var B=x;if(_=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||_===null||T===null||(B=sl(x,T),B!=null&&me.push(ts(x,B,_))),$e)break;x=x.return}0<me.length&&(j=new M(j,ae,null,n,U),q.push({event:j,listeners:me}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",j&&n!==dt&&(ae=n.relatedTarget||n.fromElement)&&(Bn(ae)||ae[Zn]))break e;if((M||j)&&(j=U.window===U?U:(j=U.ownerDocument)?j.defaultView||j.parentWindow:window,M?(ae=n.relatedTarget||n.toElement,M=A,ae=ae?Bn(ae):null,ae!==null&&($e=y(ae),me=ae.tag,ae!==$e||me!==5&&me!==27&&me!==6)&&(ae=null)):(M=null,ae=A),M!==ae)){if(me=Ts,B="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(me=As,B="onPointerLeave",T="onPointerEnter",x="pointer"),$e=M==null?j:yn(M),_=ae==null?j:yn(ae),j=new me(B,x+"leave",M,n,U),j.target=$e,j.relatedTarget=_,B=null,Bn(U)===A&&(me=new me(T,x+"enter",ae,n,U),me.target=_,me.relatedTarget=$e,B=me),$e=B,M&&ae)t:{for(me=Qg,T=M,x=ae,_=0,B=T;B;B=me(B))_++;B=0;for(var he=x;he;he=me(he))B++;for(;0<_-B;)T=me(T),_--;for(;0<B-_;)x=me(x),B--;for(;_--;){if(T===x||x!==null&&T===x.alternate){me=T;break t}T=me(T),x=me(x)}me=null}else me=null;M!==null&&Eh(q,j,M,me,!1),ae!==null&&$e!==null&&Eh(q,$e,ae,me,!0)}}e:{if(j=A?yn(A):window,M=j.nodeName&&j.nodeName.toLowerCase(),M==="select"||M==="input"&&j.type==="file")var Be=qo;else if(Fn(j))if(Lo)Be=tg;else{Be=Pm;var ie=Im}else M=j.nodeName,!M||M.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?A&&Ua(A.elementType)&&(Be=qo):Be=eg;if(Be&&(Be=Be(e,A))){Xa(q,Be,n,U);break e}ie&&ie(e,j,A),e==="focusout"&&A&&j.type==="number"&&A.memoizedProps.value!=null&&Oa(j,"number",j.value)}switch(ie=A?yn(A):window,e){case"focusin":(Fn(ie)||ie.contentEditable==="true")&&(Ga=ie,Ec=A,Mi=null);break;case"focusout":Mi=Ec=Ga=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Ko(q,n,U);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":Ko(q,n,U)}var we;if(ji)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ee?E(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(Ds&&n.locale!=="ko"&&(ee||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ee&&(we=wi()):($n=U,qa="value"in $n?$n.value:$n.textContent,ee=!0)),ie=Eu(A,Re),0<ie.length&&(Re=new _s(Re,e,null,n,U),q.push({event:Re,listeners:ie}),we?Re.data=we:(we=V(n),we!==null&&(Re.data=we)))),(we=yc?Ne(e,n):Te(e,n))&&(Re=Eu(A,"onBeforeInput"),0<Re.length&&(ie=new _s("onBeforeInput","beforeinput",null,n,U),q.push({event:ie,listeners:Re}),ie.data=we)),kg(q,e,A,n,U)}Sh(q,t)})}function ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eu(e,t){for(var n=t+"Capture",l=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=sl(e,n),a!=null&&l.unshift(ts(e,a,i)),a=sl(e,t),a!=null&&l.push(ts(e,a,i))),e.tag===3)return l;e=e.return}return[]}function Qg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eh(e,t,n,l,a){for(var i=t._reactName,u=[];n!==null&&n!==l;){var d=n,p=d.alternate,A=d.stateNode;if(d=d.tag,p!==null&&p===l)break;d!==5&&d!==26&&d!==27||A===null||(p=A,a?(A=sl(n,i),A!=null&&u.unshift(ts(n,A,p))):a||(A=sl(n,i),A!=null&&u.push(ts(n,A,p)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Vg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function wh(e){return(typeof e=="string"?e:""+e).replace(Vg,`
`).replace(Zg,"")}function Nh(e,t){return t=wh(t),wh(e)===t}function Je(e,t,n,l,a,i){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ml(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ml(e,""+l);break;case"className":it(e,"class",l);break;case"tabIndex":it(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,l);break;case"style":sn(e,l,i);break;case"data":if(t!=="object"){it(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=qn(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Je(e,t,"name",a.name,a,null),Je(e,t,"formEncType",a.formEncType,a,null),Je(e,t,"formMethod",a.formMethod,a,null),Je(e,t,"formTarget",a.formTarget,a,null)):(Je(e,t,"encType",a.encType,a,null),Je(e,t,"method",a.method,a,null),Je(e,t,"target",a.target,a,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=qn(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=qn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Ae(e,"popover",l);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ae(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Es.get(n)||n,Ae(e,n,l))}}function Jr(e,t,n,l,a,i){switch(n){case"style":sn(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ml(e,l):(typeof l=="number"||typeof l=="bigint")&&Ml(e,""+l);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),i=e[tt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof l=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,a);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Ae(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var l=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(e,t,i,u,n,null)}}a&&Je(e,t,"srcSet",n.srcSet,n,null),l&&Je(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var d=i=u=a=null,p=null,A=null;for(l in n)if(n.hasOwnProperty(l)){var U=n[l];if(U!=null)switch(l){case"name":a=U;break;case"type":u=U;break;case"checked":p=U;break;case"defaultChecked":A=U;break;case"value":i=U;break;case"defaultValue":d=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Je(e,t,l,U,n,null)}}al(e,i,d,p,A,u,a,!1);return;case"select":Ce("invalid",e),l=u=i=null;for(a in n)if(n.hasOwnProperty(a)&&(d=n[a],d!=null))switch(a){case"value":i=d;break;case"defaultValue":u=d;break;case"multiple":l=d;default:Je(e,t,a,d,n,null)}t=i,n=u,e.multiple=!!l,t!=null?Kt(e,!!l,t,!1):n!=null&&Kt(e,!!l,n,!0);return;case"textarea":Ce("invalid",e),i=a=l=null;for(u in n)if(n.hasOwnProperty(u)&&(d=n[u],d!=null))switch(u){case"value":l=d;break;case"defaultValue":a=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:Je(e,t,u,d,n,null)}xs(e,l,a,i);return;case"option":for(p in n)n.hasOwnProperty(p)&&(l=n[p],l!=null)&&(p==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(e,t,p,l,n,null));return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(l=0;l<es.length;l++)Ce(es[l],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in n)if(n.hasOwnProperty(A)&&(l=n[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(e,t,A,l,n,null)}return;default:if(Ua(t)){for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!==void 0&&Jr(e,t,U,l,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(l=n[d],l!=null&&Je(e,t,d,l,n,null))}function Kg(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,u=null,d=null,p=null,A=null,U=null;for(M in n){var q=n[M];if(n.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":p=q;default:l.hasOwnProperty(M)||Je(e,t,M,null,l,q)}}for(var j in l){var M=l[j];if(q=n[j],l.hasOwnProperty(j)&&(M!=null||q!=null))switch(j){case"type":i=M;break;case"name":a=M;break;case"checked":A=M;break;case"defaultChecked":U=M;break;case"value":u=M;break;case"defaultValue":d=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==q&&Je(e,t,j,M,l,q)}}an(e,u,d,p,A,U,i,a);return;case"select":M=u=d=j=null;for(i in n)if(p=n[i],n.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":M=p;default:l.hasOwnProperty(i)||Je(e,t,i,null,l,p)}for(a in l)if(i=l[a],p=n[a],l.hasOwnProperty(a)&&(i!=null||p!=null))switch(a){case"value":j=i;break;case"defaultValue":d=i;break;case"multiple":u=i;default:i!==p&&Je(e,t,a,i,l,p)}t=d,n=u,l=M,j!=null?Kt(e,!!n,j,!1):!!l!=!!n&&(t!=null?Kt(e,!!n,t,!0):Kt(e,!!n,n?[]:"",!1));return;case"textarea":M=j=null;for(d in n)if(a=n[d],n.hasOwnProperty(d)&&a!=null&&!l.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Je(e,t,d,null,l,a)}for(u in l)if(a=l[u],i=n[u],l.hasOwnProperty(u)&&(a!=null||i!=null))switch(u){case"value":j=a;break;case"defaultValue":M=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(r(91));break;default:a!==i&&Je(e,t,u,a,l,i)}Cl(e,j,M);return;case"option":for(var ae in n)j=n[ae],n.hasOwnProperty(ae)&&j!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?e.selected=!1:Je(e,t,ae,null,l,j));for(p in l)j=l[p],M=n[p],l.hasOwnProperty(p)&&j!==M&&(j!=null||M!=null)&&(p==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Je(e,t,p,j,l,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in n)j=n[me],n.hasOwnProperty(me)&&j!=null&&!l.hasOwnProperty(me)&&Je(e,t,me,null,l,j);for(A in l)if(j=l[A],M=n[A],l.hasOwnProperty(A)&&j!==M&&(j!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:Je(e,t,A,j,l,M)}return;default:if(Ua(t)){for(var $e in n)j=n[$e],n.hasOwnProperty($e)&&j!==void 0&&!l.hasOwnProperty($e)&&Jr(e,t,$e,void 0,l,j);for(U in l)j=l[U],M=n[U],!l.hasOwnProperty(U)||j===M||j===void 0&&M===void 0||Jr(e,t,U,j,l,M);return}}for(var T in n)j=n[T],n.hasOwnProperty(T)&&j!=null&&!l.hasOwnProperty(T)&&Je(e,t,T,null,l,j);for(q in l)j=l[q],M=n[q],!l.hasOwnProperty(q)||j===M||j==null&&M==null||Je(e,t,q,j,l,M)}function Th(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var a=n[l],i=a.transferSize,u=a.initiatorType,d=a.duration;if(i&&d&&Th(u)){for(u=0,d=a.responseEnd,l+=1;l<n.length;l++){var p=n[l],A=p.startTime;if(A>d)break;var U=p.transferSize,q=p.initiatorType;U&&Th(q)&&(p=p.responseEnd,u+=U*(p<d?1:(d-A)/(p-A)))}if(--l,t+=8*(i+u)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $r=null,Fr=null;function wu(e){return e.nodeType===9?e:e.ownerDocument}function _h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ah(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ir=null;function $g(){var e=window.event;return e&&e.type==="popstate"?e===Ir?!1:(Ir=e,!0):(Ir=null,!1)}var jh=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,Wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(Ig)}:jh;function Ig(e){setTimeout(function(){throw e})}function Fl(e){return e==="head"}function Mh(e,t){var n=t,l=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(a),pi(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")ns(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ns(n);for(var i=n.firstChild;i;){var u=i.nextSibling,d=i.nodeName;i[vn]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=u}}else n==="body"&&ns(e.ownerDocument.body);n=a}while(n);pi(t)}function Rh(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Pr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pr(n),ua(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Pg(e,t,n,l){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=_n(e.nextSibling),e===null)break}return null}function ep(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=_n(e.nextSibling),e===null))return null;return e}function Dh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_n(e.nextSibling),e===null))return null;return e}function eo(e){return e.data==="$?"||e.data==="$~"}function to(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tp(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var no=null;function zh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return _n(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Uh(e,t,n){switch(t=wu(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ns(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ua(e)}var An=new Map,Bh=new Set;function Nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nl=O.d;O.d={f:np,r:lp,D:ap,C:ip,L:sp,m:up,X:rp,S:cp,M:op};function np(){var e=Nl.f(),t=gu();return e||t}function lp(e){var t=Xt(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):Nl.r(e)}var hi=typeof document>"u"?null:document;function Hh(e,t,n){var l=hi;if(l&&typeof t=="string"&&t){var a=Gt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Bh.has(a)||(Bh.add(a),e={rel:e,crossOrigin:n,href:t},l.querySelector(a)===null&&(t=l.createElement("link"),Rt(t,"link",e),w(t),l.head.appendChild(t)))}}function ap(e){Nl.D(e),Hh("dns-prefetch",e,null)}function ip(e,t){Nl.C(e,t),Hh("preconnect",e,t)}function sp(e,t,n){Nl.L(e,t,n);var l=hi;if(l&&e&&t){var a='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Gt(n.imageSizes)+'"]')):a+='[href="'+Gt(e)+'"]';var i=a;switch(t){case"style":i=mi(e);break;case"script":i=gi(e)}An.has(i)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(i,e),l.querySelector(a)!==null||t==="style"&&l.querySelector(ls(i))||t==="script"&&l.querySelector(as(i))||(t=l.createElement("link"),Rt(t,"link",e),w(t),l.head.appendChild(t)))}}function up(e,t){Nl.m(e,t);var n=hi;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(e)+'"]',i=a;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=gi(e)}if(!An.has(i)&&(e=C({rel:"modulepreload",href:e},t),An.set(i,e),n.querySelector(a)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(as(i)))return}l=n.createElement("link"),Rt(l,"link",e),w(l),n.head.appendChild(l)}}}function cp(e,t,n){Nl.S(e,t,n);var l=hi;if(l&&e){var a=Hn(l).hoistableStyles,i=mi(e);t=t||"default";var u=a.get(i);if(!u){var d={loading:0,preload:null};if(u=l.querySelector(ls(i)))d.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(i))&&lo(e,n);var p=u=l.createElement("link");w(p),Rt(p,"link",e),p._p=new Promise(function(A,U){p.onload=A,p.onerror=U}),p.addEventListener("load",function(){d.loading|=1}),p.addEventListener("error",function(){d.loading|=2}),d.loading|=4,Tu(u,t,l)}u={type:"stylesheet",instance:u,count:1,state:d},a.set(i,u)}}}function rp(e,t){Nl.X(e,t);var n=hi;if(n&&e){var l=Hn(n).hoistableScripts,a=gi(e),i=l.get(a);i||(i=n.querySelector(as(a)),i||(e=C({src:e,async:!0},t),(t=An.get(a))&&ao(e,t),i=n.createElement("script"),w(i),Rt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(a,i))}}function op(e,t){Nl.M(e,t);var n=hi;if(n&&e){var l=Hn(n).hoistableScripts,a=gi(e),i=l.get(a);i||(i=n.querySelector(as(a)),i||(e=C({src:e,async:!0,type:"module"},t),(t=An.get(a))&&ao(e,t),i=n.createElement("script"),w(i),Rt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(a,i))}}function qh(e,t,n,l){var a=(a=re.current)?Nu(a):null;if(!a)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=mi(n.href),n=Hn(a).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=mi(n.href);var i=Hn(a).hoistableStyles,u=i.get(e);if(u||(a=a.ownerDocument||a,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=a.querySelector(ls(e)))&&!i._p&&(u.instance=i,u.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),i||fp(a,e,n,u.state))),t&&l===null)throw Error(r(528,""));return u}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gi(n),n=Hn(a).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function mi(e){return'href="'+Gt(e)+'"'}function ls(e){return'link[rel="stylesheet"]['+e+"]"}function Lh(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function fp(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),w(t),e.head.appendChild(t))}function gi(e){return'[src="'+Gt(e)+'"]'}function as(e){return"script[async]"+e}function kh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Gt(n.href)+'"]');if(l)return t.instance=l,w(l),l;var a=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),w(l),Rt(l,"style",a),Tu(l,n.precedence,e),t.instance=l;case"stylesheet":a=mi(n.href);var i=e.querySelector(ls(a));if(i)return t.state.loading|=4,t.instance=i,w(i),i;l=Lh(n),(a=An.get(a))&&lo(l,a),i=(e.ownerDocument||e).createElement("link"),w(i);var u=i;return u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),Rt(i,"link",l),t.state.loading|=4,Tu(i,n.precedence,e),t.instance=i;case"script":return i=gi(n.src),(a=e.querySelector(as(i)))?(t.instance=a,w(a),a):(l=n,(a=An.get(i))&&(l=C({},n),ao(l,a)),e=e.ownerDocument||e,a=e.createElement("script"),w(a),Rt(a,"link",l),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Tu(l,n.precedence,e));return t.instance}function Tu(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=l.length?l[l.length-1]:null,i=a,u=0;u<l.length;u++){var d=l[u];if(d.dataset.precedence===t)i=d;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _u=null;function Yh(e,t,n){if(_u===null){var l=new Map,a=_u=new Map;a.set(n,l)}else a=_u,l=a.get(n),l||(l=new Map,a.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[vn]||i[De]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var d=l.get(u);d?d.push(i):l.set(u,[i])}}return l}function Xh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function dp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hp(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=mi(l.href),i=t.querySelector(ls(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Au.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,w(i);return}i=t.ownerDocument||t,l=Lh(l),(a=An.get(a))&&lo(l,a),i=i.createElement("link"),w(i);var u=i;u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),Rt(i,"link",l),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Au.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var io=0;function mp(e,t){return e.stylesheets&&e.count===0&&Cu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&io===0&&(io=62500*Jg());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>io?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(a)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ju=null;function Cu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ju=new Map,t.forEach(gp,e),ju=null,Au.call(e))}function gp(e,t){if(!(t.state.loading&4)){var n=ju.get(e);if(n)var l=n.get(null);else{n=new Map,ju.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var u=a[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),l=u)}l&&n.set(null,l)}a=t.instance,u=a.getAttribute("data-precedence"),i=n.get(u)||l,i===l&&n.set(null,a),n.set(u,a),this.count++,l=Au.bind(this),a.addEventListener("load",l),a.addEventListener("error",l),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var is={$$typeof:oe,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function pp(e,t,n,l,a,i,u,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=l,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Qh(e,t,n,l,a,i,u,d,p,A,U,q){return e=new pp(e,t,n,u,p,A,U,q,d),t=1,i===!0&&(t|=24),i=cn(3,null,null,t),e.current=i,i.stateNode=e,t=qc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:n,cache:t},Xc(i),e}function Vh(e){return e?(e=Za,e):Za}function Zh(e,t,n,l,a,i){a=Vh(a),l.context===null?l.context=a:l.pendingContext=a,l=Ll(t),l.payload={element:n},i=i===void 0?null:i,i!==null&&(l.callback=i),n=kl(e,l,t),n!==null&&(It(n,e,t),Hi(n,e,t))}function Kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function so(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}function Jh(e){if(e.tag===13||e.tag===31){var t=pa(e,67108864);t!==null&&It(t,e,67108864),so(e,67108864)}}function $h(e){if(e.tag===13||e.tag===31){var t=hn();t=Al(t);var n=pa(e,t);n!==null&&It(n,e,t),so(e,t)}}var Mu=!0;function vp(e,t,n,l){var a=R.T;R.T=null;var i=O.p;try{O.p=2,uo(e,t,n,l)}finally{O.p=i,R.T=a}}function yp(e,t,n,l){var a=R.T;R.T=null;var i=O.p;try{O.p=8,uo(e,t,n,l)}finally{O.p=i,R.T=a}}function uo(e,t,n,l){if(Mu){var a=co(l);if(a===null)Kr(e,t,l,Ru,n),Wh(e,l);else if(Sp(a,e,t,n,l))l.stopPropagation();else if(Wh(e,l),t&4&&-1<bp.indexOf(e)){for(;a!==null;){var i=Xt(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=bt(i.pendingLanes);if(u!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;u;){var p=1<<31-at(u);d.entanglements[1]|=p,u&=~p}el(i),(Le&6)===0&&(hu=Dt()+500,Pi(0))}}break;case 31:case 13:d=pa(i,2),d!==null&&It(d,i,2),gu(),so(i,2)}if(i=co(l),i===null&&Kr(e,t,l,Ru,n),i===a)break;a=i}a!==null&&l.stopPropagation()}else Kr(e,t,l,null,n)}}function co(e){return e=ca(e),ro(e)}var Ru=null;function ro(e){if(Ru=null,e=Bn(e),e!==null){var t=y(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ru=e,null}function Fh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rn()){case Tl:return 2;case Gn:return 8;case yt:case Dn:return 32;case nl:return 268435456;default:return 32}default:return 32}}var oo=!1,Wl=null,Il=null,Pl=null,ss=new Map,us=new Map,ea=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wh(e,t){switch(e){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function cs(e,t,n,l,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Xt(t),t!==null&&Jh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Sp(e,t,n,l,a){switch(t){case"focusin":return Wl=cs(Wl,e,t,n,l,a),!0;case"dragenter":return Il=cs(Il,e,t,n,l,a),!0;case"mouseover":return Pl=cs(Pl,e,t,n,l,a),!0;case"pointerover":var i=a.pointerId;return ss.set(i,cs(ss.get(i)||null,e,t,n,l,a)),!0;case"gotpointercapture":return i=a.pointerId,us.set(i,cs(us.get(i)||null,e,t,n,l,a)),!0}return!1}function Ih(e){var t=Bn(e.target);if(t!==null){var n=y(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,Da(e.priority,function(){$h(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,Da(e.priority,function(){$h(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Du(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=co(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);dt=l,n.target.dispatchEvent(l),dt=null}else return t=Xt(n),t!==null&&Jh(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){Du(e)&&n.delete(t)}function xp(){oo=!1,Wl!==null&&Du(Wl)&&(Wl=null),Il!==null&&Du(Il)&&(Il=null),Pl!==null&&Du(Pl)&&(Pl=null),ss.forEach(Ph),us.forEach(Ph)}function zu(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xp)))}var Ou=null;function em(e){Ou!==e&&(Ou=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ou===e&&(Ou=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],a=e[t+2];if(typeof l!="function"){if(ro(l||n)===null)continue;break}var i=Xt(n);i!==null&&(e.splice(t,3),t-=3,cr(i,{pending:!0,data:a,method:n.method,action:l},l,a))}}))}function pi(e){function t(p){return zu(p,e)}Wl!==null&&zu(Wl,e),Il!==null&&zu(Il,e),Pl!==null&&zu(Pl,e),ss.forEach(t),us.forEach(t);for(var n=0;n<ea.length;n++){var l=ea[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)Ih(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var a=n[l],i=n[l+1],u=a[tt]||null;if(typeof i=="function")u||em(n);else if(u){var d=null;if(i&&i.hasAttribute("formAction")){if(a=i,u=i[tt]||null)d=u.formAction;else if(ro(a)!==null)continue}else d=u.action;typeof d=="function"?n[l+1]=d:(n.splice(l,3),l-=3),em(n)}}}function tm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(u){return a=u})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function fo(e){this._internalRoot=e}Uu.prototype.render=fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=hn();Zh(n,l,e,t,null,null)},Uu.prototype.unmount=fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),gu(),t[Zn]=null}};function Uu(e){this._internalRoot=e}Uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=aa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&Ih(e)}};var nm=c.version;if(nm!=="19.2.4")throw Error(r(527,nm,"19.2.4"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var Ep={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{ct=Bu.inject(Ep),_t=Bu}catch{}}return os.createRoot=function(e,t){if(!h(e))throw Error(r(299));var n=!1,l="",a=rd,i=od,u=fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Qh(e,1,!1,null,null,n,l,null,a,i,u,tm),e[Zn]=t.current,Zr(e),new fo(t)},os.hydrateRoot=function(e,t,n){if(!h(e))throw Error(r(299));var l=!1,a="",i=rd,u=od,d=fd,p=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=Qh(e,1,!0,t,n??null,l,a,p,i,u,d,tm),t.context=Vh(null),n=t.current,l=hn(),l=Al(l),a=Ll(l),a.callback=null,kl(n,a,l),n=l,t.current.lanes=n,St(t,n),el(t),e[Zn]=t.current,Zr(e),new Uu(t)},os.version="19.2.4",os}var dm;function Rp(){if(dm)return go.exports;dm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),go.exports=Mp(),go.exports}var Dp=Rp();function zp(){return o.jsxs("footer",{className:"marker-footer","aria-label":"Site footer",children:[o.jsx("div",{className:"footer-copy",children:" 2025 Vysti Research. All rights reserved."}),o.jsx("img",{className:"footer-logo",src:"/assets/logo_black.png",alt:"Vysti"})]})}let ds=null,Hu=null;async function Cm(){return ds||Hu||(Hu=(async()=>{const s=await fetch("/student-react-config.json",{cache:"no-store"});if(!s.ok)throw new Error(`Failed to load runtime config (${s.status})`);const c=await s.json();if(!c||typeof c!="object")throw new Error("Invalid runtime config");return ds=c,window.__vystiRuntimeConfig=c,ds})(),Hu)}function Ro(){return ds||window.__vystiRuntimeConfig||{}}function Vu(s="https://vysti-rules.onrender.com"){const c=Ro().apiBaseUrl||s;return String(c).replace(/\/$/,"")}function Op(){return document.querySelector('meta[name="app-build-id"]')?.content||"dev"}const hm={apiBaseUrl:"",supabaseUrl:"",supabaseAnonKey:"",buildId:"",featureFlags:{reactBeta:!1,revisionPracticeReact:!1,debugRevisionPractice:!1,practiceNavigationReact:!1,practiceHighlightReact:!1,debugPracticeNavigation:!1,hardeningReact:!1,cancelRequestsReact:!1,strictFileValidationReact:!1,statusToastsReact:!1,debugHardening:!1,autosaveDraftReact:!1,revisionHistoryReact:!1,debugAutosave:!1,debugHistory:!1}};let Ca=null,wo=null;const No=s=>{const c={...hm,...s||{},featureFlags:{...hm.featureFlags,...s?.featureFlags||{}}};return c.buildId||(c.buildId=Op()),c},Up=s=>!s.supabaseUrl||!s.supabaseAnonKey||!s.apiBaseUrl?new Error("Missing required app configuration."):null,Bp=1.5;async function Hp(){if(Ca)return Ca;try{await Cm();const c=Ro();Ca=No(c)}catch(c){wo=c,Ca=No()}const s=Up(Ca);return s&&(wo=s),Ca}function ys(){return Ca||No()}function Mm(){return wo}const Rm=[{value:"textual_analysis",label:"Analytic essay"},{value:"peel_paragraph",label:"Mini-essay paragraph"},{value:"reader_response",label:"Reader response"},{value:"argumentation",label:"Argumentation"}],mm={textual_analysis:{description:"A formal and academic essay of analysis with all Vysti Rules running.",details:["No first-person allowed or personal pronouns","First sentence should state the author, genre, title, and summary.","Requires a closed thesis statement.","Requires quoted evidence in body paragraphs.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},peel_paragraph:{description:"One focused analytical paragraph following the Vysti Rules.",details:["The first sentence should state the author, genre, title, and summary.","The first sentence should include devices and/or strategies like a closed thesis","No first-person allowed or personal pronouns","Requires quoted evidence in the body of the paragraph.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},reader_response:{description:"More personal voice allowed, but still needs argument + evidence.",details:["Allows first-person and personal pronouns","Allows contractions and 'which'","First sentence should state the author, genre, title, and summary.","Requires a closed thesis statement.","Requires quoted evidence in body paragraphs.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},argumentation:{description:"Argumentation is more open mode beyond textual analysis.",details:["Allows for past tense.","Allows first-person and personal pronouns","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]}};function qp(){const{buildId:s}=ys(),c=()=>{try{localStorage.setItem("uiMode","classic")}catch{}};return o.jsxs("div",{className:"beta-banner",role:"status","aria-live":"polite",children:[o.jsx("span",{className:"beta-badge",children:"React Beta"}),o.jsxs("span",{className:"beta-text",children:["React Beta  if anything looks wrong, use"," ",o.jsx("a",{href:"/student.html",onClick:c,children:"student.html"})]}),s?o.jsxs("span",{className:"beta-build",children:["Build ",s]}):null,o.jsx("a",{className:"beta-link",href:"/student.html",onClick:c,children:"Return to classic student.html"})]})}let Zu="";const Yu=[];let Dm=null;const Lp=s=>{Yu.push(s),Yu.length>50&&Yu.shift()};function kp(s){Zu=s?.buildId||""}function jn(s,c={}){Lp({type:s,details:c,buildId:Zu,at:new Date().toISOString()})}function Pt(s,c={}){Dm={message:s,...c,at:new Date().toISOString(),buildId:Zu},jn("error",{message:s,...c})}function zm(){return{buildId:Zu,lastError:Dm,recentEvents:Yu.slice(-12)}}const Yp=/key|secret|token|anonkey|authorization/i,gm=(s,c="full")=>{const f=String(s||"");return f&&c==="partial"&&f.length>=8?`${f.slice(0,4)}${f.slice(-4)}`:"[REDACTED]"},Xp=s=>s?Yp.test(String(s)):!1,Gp=(s,c)=>c==="supabaseAnonKey"?gm(s,"partial"):Xp(c)?gm(s):s,To=s=>{if(Array.isArray(s))return s.map(f=>To(f));if(!s||typeof s!="object")return s;const c={};return Object.entries(s).forEach(([f,r])=>{r&&typeof r=="object"?c[f]=To(r):c[f]=Gp(r,f)}),c};function Qp(s){return To(s)}function Vp({data:s,isOpen:c,onToggle:f,rolloutConfig:r,rolloutReason:h,uiMode:y,buildId:v,onForceClassic:N,onForceReact:S,onClearUiMode:m}){const[D,C]=g.useState(!1),[Y,k]=g.useState(""),K=g.useRef(null),te=typeof f=="function"?c:D,I=()=>{typeof f=="function"?f():C(J=>!J)};g.useEffect(()=>{te&&K.current?.focus()},[te]);const P=g.useMemo(()=>{if(!te)return"";const J=s||zm(),ne=Qp(J);return JSON.stringify(ne,null,2)},[s,te]),W=async()=>{try{await navigator.clipboard.writeText(P),k("Copied.")}catch{k("Copy failed.")}window.setTimeout(()=>k(""),2e3)},oe=r?JSON.stringify(r,null,2):"Missing rollout config",le=h?JSON.stringify(h,null,2):"No rollout reason";return o.jsxs("div",{className:"diagnostics",children:[o.jsx("button",{type:"button",className:"diagnostics-link",onClick:I,"aria-expanded":te,children:"Diagnostics"}),te?o.jsxs("div",{className:"diagnostics-panel",role:"dialog","aria-modal":"true",tabIndex:-1,ref:K,onKeyDown:J=>{if(J.key==="Escape"&&(J.preventDefault(),I()),J.key==="Tab"){const ne=K.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!ne||ne.length===0)return;const Q=Array.from(ne),F=Q[0],ge=Q[Q.length-1];J.shiftKey&&document.activeElement===F?(J.preventDefault(),ge.focus()):!J.shiftKey&&document.activeElement===ge&&(J.preventDefault(),F.focus())}},children:[o.jsxs("div",{className:"diagnostics-row",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:W,children:"Copy debug info"}),Y?o.jsx("span",{className:"diagnostics-status",children:Y}):null]}),o.jsxs("div",{className:"diagnostics-row diagnostics-controls",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"diagnostics-status",children:["uiMode: ",y||"unset"]}),o.jsxs("div",{className:"diagnostics-status",children:["buildId: ",v||"unknown"]})]}),o.jsxs("div",{className:"diagnostics-actions",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:N,children:"Force Classic"}),o.jsx("button",{type:"button",className:"secondary-btn",onClick:S,children:"Force React"}),o.jsx("button",{type:"button",className:"secondary-btn",onClick:m,children:"Clear override"})]})]}),o.jsx("pre",{className:"diagnostics-pre",children:le}),o.jsx("pre",{className:"diagnostics-pre",children:oe}),o.jsx("pre",{className:"diagnostics-pre",children:P})]}):null]})}function Zp({mode:s,onChange:c}){return o.jsxs("label",{children:[o.jsx("span",{className:"label-row mode-select-label-row",children:o.jsx("span",{className:"visually-hidden",children:"Assignment type"})}),o.jsx("select",{id:"mode",value:s,onChange:f=>c(f.target.value),"aria-label":"Assignment type",children:Rm.map(f=>o.jsx("option",{value:f.value,children:f.label},f.value))})]})}function Kp({label:s,description:c,details:f=[]}){const[r,h]=g.useState(!1);return o.jsxs("div",{className:"mode-card",id:"modeCard",children:[o.jsxs("div",{className:"mode-card-header",children:[o.jsx("span",{className:"mode-badge",id:"modeBadge",children:s}),o.jsx("span",{className:"mode-tag",id:"modeTag"})]}),o.jsx("div",{className:"mode-desc",id:"modeDesc",children:c}),o.jsx("button",{type:"button",className:"mode-more",id:"modeMoreBtn","aria-expanded":r,onClick:()=>h(y=>!y),children:r?"Hide details":"Want more details?"}),o.jsx("div",{className:"mode-details",id:"modeDetails",hidden:!r,children:o.jsx("ul",{id:"modeDetailsList",children:f.map(y=>o.jsx("li",{children:y},y))})})]})}function Jp({blob:s,zoom:c,containerRef:f,onError:r,onEdit:h}){const y=g.useRef(0),v=g.useRef(null);g.useEffect(()=>{const N=f.current;if(!N)return;y.current+=1;const S=y.current;if(N.innerHTML="",!s){N.innerHTML="<p class='preview-empty'>Upload and mark an essay to preview it here.</p>";return}return(async()=>{try{const D=window.docx?.renderAsync||window.docxPreview?.renderAsync;if(!D){const Y=new Error("Preview library not loaded");r&&r(Y);return}const C=await s.arrayBuffer();if(S!==y.current||(await D(C,N,null,{inWrapper:!0}),S!==y.current))return;if(N.contentEditable="true",N.spellcheck=!0,N.classList.add("preview-editable"),N.style.zoom=c,typeof h=="function"){const Y=()=>h();v.current=Y,N.addEventListener("input",Y),N.addEventListener("paste",Y)}r&&r(null)}catch(D){if(console.error("Failed to render preview",D),S!==y.current)return;r&&r(D)}})(),()=>{v.current&&(N.removeEventListener("input",v.current),N.removeEventListener("paste",v.current),v.current=null),y.current+=1}},[s,f,r,h,c])}const $p=["Avoid referring to the reader or audience unless necessary","Avoid the words 'therefore', 'thereby', 'hence', and 'thus'","Use the authors name instead of 'the author'"],Fp=["Avoid the word 'which'","Avoid using the word 'and' more than twice in a sentence","Shorten, modify, and integrate quotations"],Wp=["Avoid overly general words like 'society', 'universe', 'reality', 'life', and 'truth'","Clarify pronouns and antecedents","Do not refer to the text as a text; refer to context instead","Avoid absolute language like 'always' or 'never'"],Om={power:{title:"Power",body:"Power measures how specific your verb choices are (avoiding weak verbs like show/use).",tips:["Swap show/use for precise verbs (illustrates, highlights, underscores).","Avoid repeating the same verb across sentences.","Aim for verbs that express analysis, not reporting."]},variety:{title:"Variety",body:"Variety measures analytical depth across techniques, evidence, development, and structure.",tips:["Use 3+ unique devices per body paragraph.","Add 2+ short quotes per body paragraph.","Build paragraphs to 4+ sentences with varied starts."]},cohesion:{title:"Cohesion",body:"Cohesion measures how well ideas connect within paragraphs (sentence boundaries) and across paragraph breaks (paragraph boundaries). You earn the most points from boundary statementsrepeating key content words or word families.",tips:["Carry a thesis noun into each paragraphs topic sentence.","Repeat a key noun/verb/adjective or its word family (race  racial).","Use occasional within-paragraph transitions, but avoid repeats."]},precision:{title:"Precision",body:"Precision measures unnecessary, wordy, and imprecise language that can weaken analysis.",tips:['Unnecessary: remove filler, reader/audience, banned connectors, and "the author".',"Wordy: cut which-clauses, too-many-and chains, and long quotations.","Imprecise: avoid vague terms, unclear pronouns, text-as-text, and absolutes."]}},pm=new Set(["show","shows","showed","shown","showing","use","uses","used","using","make","makes","made","making","do","does","did","doing","get","gets","got","getting","have","has","had","having"]),Ip=new Map([["show","show"],["shows","show"],["showed","show"],["shown","show"],["showing","show"],["use","use"],["uses","use"],["used","use"],["using","use"],["make","make"],["makes","make"],["made","make"],["making","make"],["do","do"],["does","do"],["did","do"],["doing","do"],["get","get"],["gets","get"],["got","get"],["getting","get"],["have","have"],["has","have"],["had","have"],["having","have"]]),Pp=new Set(["this","that","these","those","it","they","he","she","we","i","you","there"]),Um=new Set(["the","a","an","and","or","but","if","then","so","because","since","as","while","when","after","before","though","although","however","therefore","thus","moreover","furthermore","additionally","also","likewise","similarly","from","into","onto","with","within","without","of","to","in","on","at","by","for","about","over","under","between","through","during","is","are","was","were","be","been","being","am","have","has","had","do","does","did","doing","that","this","these","those","it","its","their","they","them","he","she","his","her","we","our","us","you","your","i","me","my","mine","yours","ours","theirs","not","no","yes","can","could","would","should","may","might","must","will","just","very","really","more","most","less","least","such","than","too","each","every","some","any","all","both","either","neither","nor","own","same","other","another","there","here","then","now","who","whom","which","what","where","why","how","up","down","out","off","again","further","once"]),ev=new Set([...Um,"essay","text","story","novel","poem","poetry","author","writer","reader","audience","character","quote","quotation","example","evidence","paragraph","sentence","chapter"]),bi=(s,c,f)=>Math.min(Math.max(s,c),f),Do=s=>String(s||"").replace(/[]/g,'"').replace(/[]/g,"'").replace(/[]/g,"-"),Bm=s=>Do(s).replace(/\r\n/g,`
`).replace(/\r/g,`
`),tv=s=>String(s||"").replace(/"[^"]+"/g," "),Ku=s=>(String(s||"").toLowerCase().match(/[a-z']+/g)||[]).filter(Boolean),nv=s=>Bm(s).split(/\n\s*\n+/).map(c=>c.trim()).filter(Boolean),Xu=s=>Do(s).split(new RegExp("(?<=[.!?])\\s+")).map(c=>c.trim()).filter(Boolean),lv=s=>{const c=Ku(s);if(!c.length)return"";let f=0;for(;f<c.length&&Um.has(c[f]);)f+=1;return c[f]||c[0]||""},av=s=>{const c=String(s||"").match(/"[^"]{2,140}"/g);return c?c.length:0},iv=s=>{const c=nv(s),f=c.filter(r=>Ku(r).length>=5);return{rawParagraphs:c,filteredParagraphs:f}},sv=s=>s.length<=2?s.map((c,f)=>f):s.slice(1,-1).map((c,f)=>f+1),bo=(s,c)=>s.reduce((f,r)=>f+(Number(c?.[r])||0),0),uv=s=>{const c=Number(s)||0;return c<200?0:c<=500?5:c<=800?10:10+5*Math.ceil((c-800)/300)},cv=(s,c)=>s[c]!=="use"&&s[c]!=="uses"?!1:s[c-1]==="the"&&s[c+1]==="of",rv=(s,c)=>["do","does","did"].includes(s[c])?s[c-1]==="only"&&s[c-2]==="not":!1,ov=s=>String(s||"").toLowerCase().replace(/'s$/g,"").replace(/'/g,""),So=s=>Ku(s).map(ov).filter(f=>f.length>2&&!ev.has(f)),fv=s=>{const c={sentenceBoundaryHits:0,sentenceBoundaryDenom:0,paragraphBoundaryHits:0,paragraphBoundaryDenom:0,transitionsWithinCount:0,transitionsWithinUnique:0,paragraphStartTransitionsCount:0,issues:{weakTransitions:[]},sourceText:s.join(`

`)},f=new Set(["however","therefore","thus","moreover","furthermore","additionally","also","likewise","similarly","instead","meanwhile","consequently","finally","overall","nevertheless"]),r=new Set,h=[];s.forEach(m=>{Xu(m).forEach(C=>{const Y=So(C);if(h.push(Y),Y.length){const k=Y[0];f.has(k)&&(c.transitionsWithinCount+=1,r.has(k)?c.issues.weakTransitions.push({reason:"Repeated transition",token:k}):(r.add(k),c.transitionsWithinUnique+=1))}})});for(let m=0;m<h.length-1;m+=1){c.sentenceBoundaryDenom+=1;const D=new Set(h[m]);(h[m+1]||[]).some(k=>D.has(k))&&(c.sentenceBoundaryHits+=1)}for(let m=0;m<s.length-1;m+=1){const D=Xu(s[m]).slice(-1)[0]||"",C=Xu(s[m+1])[0]||"",Y=new Set(So(D)),k=So(C);c.paragraphBoundaryDenom+=1,k.some(te=>Y.has(te))&&(c.paragraphBoundaryHits+=1)}const y=c.sentenceBoundaryDenom?c.sentenceBoundaryHits/c.sentenceBoundaryDenom:0,v=c.paragraphBoundaryDenom?c.paragraphBoundaryHits/c.paragraphBoundaryDenom:0,N=Math.min(c.transitionsWithinUnique*2,10);return{cohesionScore:bi(Math.round(100*(.7*y+.3*v)+N),0,100),cohesionSub:"",details:c}},dv=s=>{const c=new Map;return String(s||"").split(`
`).map(f=>f.trim()).filter(f=>f&&!f.startsWith("#")).forEach(f=>{const[r,h]=f.split(",").map(N=>N?.trim());if(!r)return;const y=r.toLowerCase(),v=(h||r).toLowerCase();c.set(y,v)}),c},hv=async s=>{const c=["/thesis_devices.txt","./thesis_devices.txt","/assets/thesis_devices.txt"];let f=null;for(const r of c)try{const h=await fetch(r,{cache:"no-store"});if(!h.ok){f=new Error(`Failed ${r} (${h.status})`);continue}const y=await h.text();return{lexicon:dv(y),source:r}}catch(h){f=h}return f&&console.warn("Failed to load thesis devices lexicon:",f),{lexicon:new Map,source:""}},mv=(s,c)=>{if(!c||!c.size)return new Set;const f=String(s||"").toLowerCase(),r=new Set;for(const[h,y]of c.entries())f.includes(h)&&r.add(y);return r},gv=(s,c,{labelCounts:f,markEventId:r,powerVerbFormsSet:h,thesisDevicesLexicon:y}={})=>{const v=Bm(s||""),S=tv(Do(s||"")).toLowerCase().replace(/\s+/g," ").trim(),m=Ku(S),D=m.length,C={show:0,use:0,make:0,do:0,get:0,have:0};let Y=0;for(let _e=0;_e<m.length;_e+=1){const Ve=m[_e];if(!pm.has(Ve)||cv(m,_e)||rv(m,_e))continue;Y+=1;const Ze=Ip.get(Ve);Ze&&C[Ze]!==void 0&&(C[Ze]+=1)}let k=0,K=uv(D);if(h&&K>0){const _e=new Set;for(const Ve of m)pm.has(Ve)||h.has(Ve)&&_e.add(Ve);k=_e.size}const te=D?Y/D*100:0,I=bi(Math.round(100-te*8),0,100),P=K===0?100:bi(Math.round(k/K*100),0,100),W=bi(Math.round(I*.6+P*.4),0,100),{rawParagraphs:oe,filteredParagraphs:le}=iv(v),J=le,ne=J.map(_e=>Xu(_e)),F=ne.flat().length,ge=sv(J),Oe=ge.map(_e=>J[_e]||""),pe=Oe.length,ye=[],Qe=[],et=[],ke=[];let R=0,O=0,L=0,ce=0;const fe=!!(y&&y.size);Oe.forEach((_e,Ve)=>{const Ze=ge[Ve];if((ne[Ze]?.length||0)<4&&(L+=1,et.push(Ze)),av(_e)>=2?O+=1:Qe.push(Ze),!fe)return;mv(_e,y).size>=3?R+=1:ye.push(Ze)}),fe||(R=pe);const b=[];let z=0;ge.forEach(_e=>{const Ve=ne[_e]||[];let Ze=0;Ve.forEach(ft=>{const en=lv(ft);en&&Pp.has(en)&&(Ze+=1,ce+=1,ke.push({sentence:ft,paragraph_index:_e}))}),Ze>1?b.push(_e):z+=1});const X=pe?R/pe:1,$=pe?O/pe:1,de=pe?1-L/pe:1,re=pe?z/pe:1,Se=bi(Math.round(100*(.35*X+.35*$+.2*de+.1*re)),0,100),We=fv(J),Ue=We.cohesionScore,qe=f&&typeof f=="object"?f:{},Nt=r!=null;let Cn=null,Lt={unnecessaryCount:0,wordyCount:0,impreciseCount:0,hasCounts:!1};if(Nt){const _e=bo($p,qe),Ve=bo(Fp,qe),Ze=bo(Wp,qe),ft=_e*3+Ve*2+Ze*3;Cn=bi(100-ft,0,100),Lt={unnecessaryCount:_e,wordyCount:Ve,impreciseCount:Ze,hasCounts:!0}}return{power:{score:W,sub:"",details:{weakCount:Y,weakByBase:C,powerCount:k,powerTarget:K}},variety:{score:Se,sub:"",details:{bodyParagraphCount:pe,bodyParagraphIndices:ge,paragraphsFiltered:J,techniqueOkCount:R,techniqueFailures:ye,evidenceOkCount:O,evidenceFailures:Qe,undevelopedCount:L,undevelopedParagraphs:et,structureOkCount:z,structureFailures:b,weakStartCount:ce,weakStartSentences:ke,totalSentenceCount:F,techniquesUnavailable:!fe}},cohesion:{score:Ue,sub:We.cohesionSub,details:We.details},precision:{score:Cn,sub:"",details:Lt},meta:{paragraphs:oe.length,sentences:F,mode:c||""}}},pv=s=>s==null||Number.isNaN(s)?"":`${s}/100`;function vv({metrics:s,collapsed:c,onToggleDetails:f,onOpenInfo:r,onOpenPillHint:h,mode:y}){const v=y==="peel_paragraph",N=v?null:s?.cohesion?.score;return o.jsxs("div",{className:"preview-metrics-wrap",children:[o.jsx("div",{className:"metrics-details-toggle",children:o.jsx("button",{type:"button",className:"metrics-toggle-btn",id:"metricsDetailsToggle","aria-expanded":!c,onClick:f,children:c?"Show details":"Hide details"})}),o.jsx("div",{className:`student-metrics-grid metrics-inline${c?" details-collapsed":""}`,id:"metricsGrid",children:["power","variety","cohesion","precision"].map(S=>{if(S==="cohesion"&&v)return null;const m=s?.[S],D=S==="cohesion"?N:m?.score,C=Om[S]?.title||S;return o.jsxs("div",{className:"metric-card",id:`metric-${S}`,children:[o.jsxs("div",{className:"metric-head",children:[o.jsxs("div",{className:"metric-title",children:[C,o.jsx("button",{className:"metric-info metric-info-btn",type:"button","data-metric":S,"aria-label":`${C} info`,onClick:r,children:"i"})]}),o.jsx("div",{className:`metric-score${D===100?" perfect":""}`,children:pv(D)})]}),o.jsx("div",{className:"metric-meter",children:o.jsx("div",{className:`metric-meter-fill${D===100?" perfect":""}`,style:{width:D?`${D}%`:"0%"}})}),o.jsxs("div",{className:"metric-sub",children:[S==="power"&&m?.details?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"metric-success",children:["Power verbs: ",m.details.powerCount,"/",m.details.powerTarget]}),o.jsxs("div",{className:"metric-persistent",children:["Weak verbs: ",m.details.weakCount]}),m.details.weakCount>0?o.jsx("button",{type:"button",className:"example-btn power-verb-pill",onClick:Y=>h?.({anchorEl:Y.currentTarget,mode:"anchor",dismissKey:"power_verbs_needed",data:{title:"Power verbs needed",body:"Select from the Power Verbs list to strengthen the highlighted verbs."}}),children:"Power verbs needed"}):null]}):null,S==="variety"&&m?.details?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"metric-success",children:["Techniques: ",m.details.techniqueOkCount,"/",m.details.bodyParagraphCount]}),o.jsxs("div",{className:"metric-persistent",children:["Evidence: ",m.details.evidenceOkCount,"/",m.details.bodyParagraphCount]})]}):null,S==="cohesion"&&m?.details?o.jsxs("div",{className:"metric-success",children:["Sentence links: ",m.details.sentenceBoundaryHits,"/",m.details.sentenceBoundaryDenom]}):null,S==="precision"&&m?.details?.hasCounts?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"metric-success",children:["Unnecessary: ",m.details.unnecessaryCount]}),o.jsxs("div",{className:"metric-persistent",children:["Wordy: ",m.details.wordyCount,", Imprecise: ",m.details.impreciseCount]})]}):S==="precision"?o.jsx("div",{className:"metric-success",children:"Mark to unlock precision score."}):null]})]},S)})})]})}function yv({hint:s,onDismiss:c}){return s?o.jsx("div",{id:"previewHintDock",className:"preview-hint-dock","aria-live":"polite",children:o.jsxs("div",{className:"tour-popover hint-card",children:[o.jsx("button",{type:"button",className:"tour-close","aria-label":"Close hint",onClick:c,children:""}),s.title?o.jsx("div",{className:"tour-title",children:s.title}):null,s.subheader?o.jsx("div",{className:"pill-hint-subheader",children:s.subheader}):null,s.body?o.jsx("div",{className:"tour-body",children:s.body}):null,o.jsx("div",{className:"pill-hint-footer",children:o.jsx("button",{type:"button",className:"secondary-btn",onClick:c,children:"Got it"})})]})}):null}function bv({markedBlob:s,zoom:c,onZoomChange:f,previewRef:r,onRecheck:h,isRechecking:y,isProcessing:v,onEdit:N,onDownloadMarked:S,onDownloadRevised:m,isDownloading:D,hasRevisedSinceMark:C,wordCount:Y,totalIssues:k,metrics:K,metricsCollapsed:te,onToggleMetricsDetails:I,onOpenMetricInfo:P,onOpenPillHint:W,onOpenPowerVerbs:oe,hint:le,onDismissHint:J,mode:ne,previewError:Q,previewErrorStack:F,showDebug:ge,onClearPreview:Oe,onPreviewError:pe}){return Jp({blob:s,zoom:c,containerRef:r,onEdit:N,onError:pe}),o.jsxs("section",{className:"card marked-preview-card",id:"markedPreviewCard",style:{display:s?"block":"none"},children:[o.jsxs("div",{className:"preview-header",children:[o.jsx("h2",{className:"preview-title",children:"Preview"}),o.jsxs("div",{className:"preview-header-right",children:[s?o.jsx("div",{className:"preview-header-stats",id:"statsPanel",children:o.jsxs("div",{className:"preview-header-stats-row",children:[o.jsxs("div",{className:"student-stat preview-stat",children:[o.jsx("div",{className:"student-stat-label",children:"Word count"}),o.jsx("div",{className:"student-stat-value",id:"wordCountStat",children:Y??""})]}),o.jsxs("div",{className:"student-stat preview-stat",children:[o.jsx("div",{className:"student-stat-label",children:"Total issues"}),o.jsx("div",{className:"student-stat-value",id:"totalIssuesStat",children:k??""})]})]})}):null,o.jsxs("div",{className:"preview-tools",children:[o.jsxs("label",{className:"preview-zoom",htmlFor:"previewZoom",children:[o.jsx("span",{children:"Zoom"}),o.jsxs("select",{id:"previewZoom",value:c,onChange:ye=>f(Number(ye.target.value)),children:[o.jsx("option",{value:.8,children:"80%"}),o.jsx("option",{value:.9,children:"90%"}),o.jsx("option",{value:1,children:"100%"}),o.jsx("option",{value:1.1,children:"110%"}),o.jsx("option",{value:1.25,children:"125%"}),o.jsx("option",{value:1.5,children:"150%"})]})]}),o.jsxs("button",{type:"button",className:"preview-pill-btn",id:"previewPowerVerbsBtn","aria-label":"Open Power Verbs",onClick:oe,children:[o.jsx("span",{className:"preview-pill-icon","aria-hidden":"true",children:""}),"Power Verbs"]})]})]})]}),s?o.jsx(vv,{metrics:K,collapsed:te,onToggleDetails:I,onOpenInfo:P,onOpenPillHint:W,mode:ne}):null,Q?o.jsxs("div",{className:"preview-error-panel",children:[o.jsx("p",{children:"Preview failed to render."}),o.jsxs("p",{className:"helper-text",children:["Error: ",Q]}),ge&&F?o.jsx("pre",{className:"preview-error-stack",children:F}):null,o.jsxs("div",{className:"results-actions",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:Oe,children:"Clear preview"}),o.jsx("button",{type:"button",className:"secondary-btn",onClick:S,disabled:!s,children:"Download marked essay"})]})]}):o.jsxs("div",{className:"preview-stage",children:[o.jsx(yv,{hint:le,onDismiss:J}),o.jsx("div",{id:"markedPreview",ref:r,className:"marked-preview-container"})]}),o.jsxs("div",{className:"preview-actions",children:[o.jsx("button",{type:"button",className:`primary-btn${y?" is-loading loading-cursor":""}`,id:"recheckDocumentBtn",onClick:h,disabled:!s||y||v||!!Q,children:y?"Processing":"Recheck my essay"}),o.jsx("button",{type:"button",className:"secondary-btn",id:"downloadMarkedBtn",onClick:S,disabled:!s||v,children:"Download marked essay"}),o.jsx("button",{type:"button",className:`secondary-btn${D?" is-loading loading-cursor":""}`,id:"downloadBtn",onClick:()=>m?.(),disabled:!s||!C||D||v||!!Q,title:!C&&s?"Make at least one change in Preview to enable download":"",children:D?"Preparing":"Download revised essay"})]}),!C&&s?o.jsx("p",{className:"helper-text",children:"Make at least one change in Preview to enable download."}):null]})}const Sv="p, li, h1, h2, h3",Hm=s=>String(s||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).map(c=>c.replace(/[ \t]+$/g,"")).join(`
`),vm=s=>{const c=s?.innerText||s?.textContent||"";return Hm(c).trim()};function Ma(s){if(!s)return"";const f=Array.from(s.querySelectorAll(Sv)).filter(r=>!r.closest("table")&&!r.closest(".docx-table")).map(vm).filter(Boolean);return f.length?f.join(`

`):vm(s)}function xv(s){const c=String(s||"").trim();return c?c.split(/\s+/).filter(Boolean).length:0}function Ev(s){const c=Hm(s),f=c.split(`
`),r=f.findIndex(v=>v.trim()==="");if(r<=0)return c;const h=f.slice(0,r);return h.length<=4&&h.length>=1&&h.every(v=>v.trim().length>0&&v.trim().length<=60)?f.slice(r+1).join(`
`).trimStart():c}function wv(s){return Ma(s)}const Nv="vysti_student_tour_hide",_o="vysti_student_tour_completed",qm="vysti_student_helpers_disabled",xo=[{anchor:"#mode",title:"Assignment type",body:"Choose the assignment type so Vysti applies the right rules."},{anchor:"#assignmentName",title:"Assignment Tracker",body:"Name and number your draft to track progress."},{anchor:"#dropZone",title:"Upload",body:"Upload your .docx file here."}],Tv=[{anchor:"#checkBtn",title:"Mark my essay",body:"Click here to generate a preview and revise your work."}],_v=[{anchor:"#downloadBtn",title:"Download",body:"You can download your marked essay now or revise it first."},{anchor:"#mostCommonIssuesWrap",title:"Most Common Issues",body:"Hover to see an explanation. Click a bar to jump to an example."},{anchor:"#markedPreviewCard",title:"Preview",body:"Edit your document directly in this Preview. Use Zoom if you need it. Changes here aren't finalized until you recheck."},{anchor:"#recheckDocumentBtn",title:"Recheck",body:"After editing the Preview, click here to regenerate your feedback."},{anchor:"#examplesList",title:"Practice a revision",body:"Follow Vysti's guidance to repair your work, then click 'Check rewrite'. If it's approved, click 'Apply to Preview' to update your document."}],Av=()=>![qm,_o,Nv].some(s=>localStorage.getItem(s)==="1");function jv({authReady:s,selectedFile:c,markedBlob:f,hasResults:r,previewRef:h},y){const[v,N]=g.useState(xo),[S,m]=g.useState(0),[D,C]=g.useState(!1),[Y,k]=g.useState("tour-arrow-down"),[K,te]=g.useState(!1),I=g.useRef(!1),P=g.useRef(null),W=g.useRef(null),oe=g.useRef(null),le=g.useRef(null),J=g.useRef(0),ne=g.useRef(0),Q=g.useCallback(()=>{W.current&&(W.current.classList.remove("tour-highlight"),W.current=null)},[]),F=g.useCallback(O=>{O==="hide"?(localStorage.setItem(qm,"1"),localStorage.setItem(_o,"1")):O==="completed"&&localStorage.setItem(_o,"1"),Q(),C(!1),te(!1)},[Q]),ge=g.useCallback((O,L)=>{for(let ce=O;ce<L.length;ce+=1){const fe=L[ce],b=document.querySelector(fe.anchor);if(b)return{index:ce,anchor:b}}return null},[]),Oe=g.useCallback(()=>{const O=P.current,L=oe.current,ce=le.current;if(!O||!L||!ce)return;const fe=12,b=12,z=O.getBoundingClientRect();L.style.display="block",L.style.visibility="hidden";const X=L.getBoundingClientRect(),$=z.bottom+fe+X.height<=window.innerHeight;let de=$?z.bottom+fe:z.top-fe-X.height,re=z.left+z.width/2-X.width/2;re=Math.max(b,Math.min(re,window.innerWidth-X.width-b)),de=Math.max(b,Math.min(de,window.innerHeight-X.height-b)),L.style.top=`${Math.round(de)}px`,L.style.left=`${Math.round(re)}px`,k($?"tour-arrow-down":"tour-arrow-up");const Se=z.left+z.width/2,We=Math.max(16,Math.min(Se-re,X.width-16));ce.style.left=`${Math.round(We)}px`,ce.style.top=$?"-6px":"",ce.style.bottom=$?"":"-6px",L.style.visibility="visible"},[]),pe=g.useCallback(()=>{cancelAnimationFrame(J.current),J.current=requestAnimationFrame(()=>{Oe()})},[Oe]),ye=g.useCallback(()=>{const O=!!f,ce=!!(h?.current?wv(h.current):"");return O||ce||r?_v:c?Tv:xo},[r,f,h,c]),Qe=g.useCallback((O,{force:L=!1,steps:ce=xo}={})=>{!L&&!Av()||(N(ce),m(O),te(!1),C(!0))},[]),et=g.useCallback(({force:O=!1}={})=>{const L=ye();Qe(0,{force:O,steps:L})},[ye,Qe]);if(g.useImperativeHandle(y,()=>({restartTour:({force:O=!0}={})=>{F("dismissed"),et({force:O})},dismissTour:()=>F("dismissed")}),[F,et]),g.useEffect(()=>{if(!D)return;const O=ge(S,v);if(!O){F("dismissed");return}if(O.index!==S){m(O.index);return}P.current=O.anchor,Q(),O.anchor.classList.add("tour-highlight"),W.current=O.anchor,O.anchor.scrollIntoView({block:"center",behavior:"smooth"}),pe(),clearTimeout(ne.current),ne.current=window.setTimeout(()=>{pe()},350)},[v,Q,F,S,D,ge,pe]),g.useEffect(()=>{if(!D)return;const O=()=>{D&&pe()};return window.addEventListener("resize",O),window.addEventListener("scroll",O,!0),()=>{window.removeEventListener("resize",O),window.removeEventListener("scroll",O,!0)}},[D,pe]),g.useEffect(()=>{if(!s||I.current)return;I.current=!0;const O=requestAnimationFrame(()=>{window.setTimeout(()=>{et({force:!1})},50)});return()=>cancelAnimationFrame(O)},[s,et]),g.useEffect(()=>()=>{clearTimeout(ne.current),cancelAnimationFrame(J.current),Q()},[Q]),!D)return null;const ke=v[S],R=`${S+1} of ${v.length}`;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"tour-overlay"}),o.jsxs("div",{className:"tour-popover",role:"dialog","aria-live":"polite",ref:oe,children:[o.jsx("button",{className:"tour-close",type:"button","aria-label":"Close tour",onClick:()=>F("dismissed"),children:""}),o.jsx("div",{className:`tour-arrow ${Y}`,ref:le}),o.jsx("div",{className:"tour-title",children:ke?.title}),o.jsx("div",{className:"tour-body",children:ke?.body}),o.jsxs("div",{className:"tour-footer",children:[o.jsx("div",{className:"tour-step",children:R}),o.jsxs("label",{className:"tour-checkbox-row",htmlFor:"tourHideCheckbox",children:[o.jsx("input",{id:"tourHideCheckbox",type:"checkbox",checked:K,onChange:O=>{const L=O.target.checked;te(L),L&&F("hide")}}),"Do not show again"]}),o.jsx("button",{className:"tour-primary-btn",type:"button",onClick:()=>{if(K){F("hide");return}const O=S+1;if(O>=v.length){F("completed");return}m(O)},children:"Got it"})]})]})]})}const Cv=g.forwardRef(jv);function Mv({onProgress:s,onTeacher:c,onRepeatTutorial:f,onSignOut:r,onBackToClassic:h,onSwitchToReact:y,showReactSwitch:v}){return o.jsxs("header",{className:"topbar",children:[o.jsx("div",{className:"brand",children:o.jsx("img",{src:"/assets/logo.svg",alt:"Vysti"})}),o.jsx("nav",{}),o.jsxs("div",{className:"actions",children:[o.jsx("div",{className:"ph-badge",children:"Project Headache "}),o.jsx("button",{className:"topbar-btn",type:"button",onClick:h,children:"Back to classic"}),v?o.jsx("button",{className:"topbar-btn",type:"button",onClick:y,children:"Switch to React (beta)"}):null,o.jsx("button",{className:"topbar-btn",type:"button",onClick:s,children:"Progress"}),o.jsx("button",{className:"topbar-btn",type:"button",onClick:c,children:"Teacher"}),o.jsx("button",{className:"iconbtn repeat-tutorial-trigger",type:"button","aria-label":"Repeat tutorial","data-tip":"Repeat the tutorial",onClick:f,children:"?"}),o.jsx("button",{className:"topbar-btn",type:"button",onClick:r,children:"Sign Out"})]})]})}function Rv({assignmentName:s,onChange:c}){return o.jsxs("div",{className:"assignment-tracker-block",children:[o.jsx("div",{className:"assignment-tracker-title",children:o.jsx("span",{className:"label-row",children:"Assignment Tracker"})}),o.jsx("label",{className:"visually-hidden",htmlFor:"assignmentName",children:"Assignment name (optional)"}),o.jsx("input",{type:"text",id:"assignmentName",value:s,onChange:f=>c(f.target.value),placeholder:"Assignment 01","aria-label":"Assignment name (optional)"})]})}function Dv({selectedFile:s,isDragOver:c,dragMessage:f,validationError:r,onBrowseClick:h,onFileChange:y,onDrop:v,onDragOver:N,onDragLeave:S,onClearFile:m,fileInputRef:D}){return o.jsxs("section",{className:"card upload-card",children:[o.jsx("label",{children:"Upload"}),o.jsxs("div",{id:"dropZone",className:`drop-zone${c?" dragover":""}`,tabIndex:0,role:"button","aria-label":"Upload .docx file",onClick:h,onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),h())},onDragOver:N,onDragLeave:S,onDrop:v,children:[f?o.jsx("div",{className:"dropzone-overlay",children:o.jsx("span",{children:f})}):null,o.jsx("img",{className:"dz-icon",src:"/assets/cloud-upload.svg",alt:"","aria-hidden":"true"}),o.jsx("div",{className:"dz-title",children:"Drag & drop .docx file here"}),o.jsx("div",{className:"dz-sub",children:"or click to browse"}),o.jsx("input",{ref:D,type:"file",id:"fileInput",name:"file",accept:".docx",hidden:!0,onChange:y})]}),o.jsx("ul",{id:"fileList",className:"file-list",children:s?o.jsx("li",{children:s.name}):null}),r?o.jsx("div",{className:"dropzone-error",children:r}):null,o.jsx("button",{type:"button",id:"clearFileBtn",className:"secondary-btn",style:{display:s?"inline-flex":"none"},onClick:m,children:"Clear file"})]})}const zv=s=>{const c=new Set;return s.slice(0,5).forEach(f=>{Object.keys(f||{}).forEach(r=>{c.size<6&&c.add(r)})}),Array.from(c)};function Ov({isOpen:s,onToggle:c,data:f}){const r=f||{type:"none",items:[],raw:"",error:""},{type:h,items:y,raw:v,error:N}=r,S=g.useMemo(()=>zv(y||[]),[y]);return o.jsxs("section",{className:"card rules-card",children:[o.jsxs("button",{className:"secondary-btn",type:"button",onClick:c,"aria-expanded":s,children:["Techniques (",s?"hide":"show",")"]}),s?o.jsxs("div",{style:{marginTop:"12px"},children:[h==="strings"?o.jsx("ul",{children:y.map((m,D)=>o.jsx("li",{children:m},`${m}-${D}`))}):null,h==="objects"?o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsx("tr",{children:S.map(m=>o.jsx("th",{children:m},m))})}),o.jsx("tbody",{children:y.map((m,D)=>o.jsx("tr",{children:S.map(C=>o.jsx("td",{children:String(m?.[C]??"")},`${D}-${C}`))},`row-${D}`))})]})}):null,h==="invalid"?o.jsxs("div",{children:[o.jsx("div",{children:N||"Techniques header present but invalid JSON"}),o.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:v})]}):null,h==="none"?o.jsx("div",{children:"No techniques data."}):null]}):null]})}function Uv({isOpen:s,initialAssignmentName:c="",onCancel:f,onDownloadAsIs:r,onDownloadMla:h,isBusy:y=!1}){const v=g.useRef(null),N=g.useRef(null),[S,m]=g.useState(""),[D,C]=g.useState(""),[Y,k]=g.useState(""),[K,te]=g.useState("");return g.useEffect(()=>{s&&(te(c||""),window.requestAnimationFrame(()=>{v.current?.focus()}))},[c,s]),g.useEffect(()=>{if(!s)return;const I=P=>{if(P.key==="Escape"){P.preventDefault(),f?.();return}if(P.key!=="Tab")return;const W=N.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!W||W.length===0)return;const oe=Array.from(W),le=oe[0],J=oe[oe.length-1];P.shiftKey&&document.activeElement===le?(P.preventDefault(),J.focus()):!P.shiftKey&&document.activeElement===J&&(P.preventDefault(),le.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[s,f]),s?o.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"modal-card",ref:N,children:[o.jsx("h3",{children:"Download revised essay"}),o.jsxs("label",{children:[o.jsx("span",{children:"Name"}),o.jsx("input",{ref:v,type:"text",value:S,onChange:I=>m(I.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Teacher"}),o.jsx("input",{type:"text",value:D,onChange:I=>C(I.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Date"}),o.jsx("input",{type:"text",value:Y,onChange:I=>k(I.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Assignment"}),o.jsx("input",{type:"text",value:K,onChange:I=>te(I.target.value)})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:f,disabled:y,children:"Cancel"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:r,disabled:y,children:"Download as-is"}),o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>h?.({name:S.trim(),teacher:D.trim(),date:Y.trim(),assignment:K.trim()}),disabled:y,children:"Add MLA + Download"})]})]})}):null}const Bv="vysti_dismiss_noask_v1__",Ao=s=>String(s||"").replace(/[\u201C\u201D\u201E\u201F]/g,'"').replace(/[\u2018\u2019\u201A\u201B]/g,"'").replace(/[\u2013\u2014]/g,"-").replace(/\u00AD/g,"").replace(/\u00A0/g," ").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/\s+/g," ").trim();function ym(s){return Ao(String(s||"")).toLowerCase()}function Hv(s){return String(s||"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"issue"}function Lm(s){return`${Bv}${Hv(s||"")}`}function qv(s){try{return JSON.parse(localStorage.getItem(Lm(s))||"null")}catch{return null}}function Lv(s,c,f){try{localStorage.setItem(Lm(s),JSON.stringify({reason:c,other_text:f||null}))}catch{}}function kv({markEventId:s,fileName:c}){return s!=null&&String(s).trim()!==""?`mark_${s}`:`file_${c||"nofile"}`}function km({markEventId:s,fileName:c}){return`vysti_dismissed__${kv({markEventId:s,fileName:c})}`}function jo({markEventId:s,fileName:c}){const f=km({markEventId:s,fileName:c});try{const r=localStorage.getItem(f);if(!r)return[];const h=JSON.parse(r);return Array.isArray(h)?h:[]}catch(r){return console.warn("Failed to load dismissed issues:",r),[]}}function Yv({markEventId:s,fileName:c,dismissedIssues:f}){const r=km({markEventId:s,fileName:c});try{localStorage.setItem(r,JSON.stringify(f||[]))}catch(h){console.warn("Failed to save dismissed issues:",h)}}function Xv(s,c,f,r){if(!f||!r||!c)return!1;const h=ym(f),y=Ao(r);return(s||[]).some(v=>v?.file_name!==c?!1:ym(v?.label)===h&&Ao(v?.sentence)===y)}function Ym(s,c,f,r){return(s||[]).filter(h=>!Xv(c,f,r||h?.label||"",h?.sentence||""))}function Ra(s,c,f){const r={...s||{}};if(!f)return r;const h={};return(c||[]).filter(y=>y?.file_name===f).forEach(y=>{const v=String(y?.label||"").trim();v&&(h[v]=(h[v]||0)+1)}),Object.entries(h).forEach(([y,v])=>{const N=Number(r[y]||0),S=Math.max(0,N-v);S===0?delete r[y]:r[y]=S}),r}function Gv(s){return String(s||"").toLowerCase().replace(/[]/g,"'").replace(/\s+/g," ").trim()}function Ju(s){const c=Gv(s);return c.includes("first sentence")&&c.includes("author")&&c.includes("full name")}const Qv=s=>{if(!s)return null;if(typeof s=="object")return s;if(typeof s=="string")try{return JSON.parse(s)}catch{return null}return null},Vv=s=>{if(!s)return[];if(Array.isArray(s))return s;if(typeof s=="string")try{const c=JSON.parse(s);return Array.isArray(c)?c:[]}catch{return[]}return[]},Zv=s=>{const c=Qv(s);return!c||typeof c!="object"?{}:Object.entries(c).reduce((f,[r,h])=>(r&&!Ju(r)&&(f[r]=h),f),{})},Kv=s=>Vv(s).filter(f=>!Ju(f?.label||""));async function Xm({supa:s,userId:c,fileName:f,dismissedIssues:r=[]}){const{data:h,error:y}=await s.from("mark_events").select("id, label_counts, issues, created_at, file_name").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(1);if(y)throw y;const v=h?.[0]||null,N=Zv(v?.label_counts||{}),S=Ra(N,r,f),m=Kv(v?.issues||[]);return{markEvent:v,labelCountsFiltered:S,issuesFiltered:m}}const bm=({supa:s,userId:c,fileName:f,label:r})=>s.from("issue_examples").select("sentence, paragraph_index, created_at, label, mark_event_id").eq("user_id",c).eq("file_name",f).eq("label",r).order("created_at",{ascending:!1}).order("paragraph_index",{ascending:!0}).limit(50),Sm=({supa:s,userId:c,fileName:f})=>s.from("issue_examples").select("label, paragraph_index, created_at, mark_event_id").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(500);async function Jv({supa:s,userId:c,fileName:f,label:r,markEventId:h,dismissedIssues:y=[]}){let v=[],N=null;if(h){const C=await bm({supa:s,userId:c,fileName:f,label:r}).eq("mark_event_id",h);v=C.data||[],N=C.error}if((!v||v.length===0)&&!N){const C=await bm({supa:s,userId:c,fileName:f,label:r});v=C.data||[],N=C.error}if(N)throw N;const S=new Set,m=[];return v.forEach(C=>{const Y=String(C?.sentence||"").trim(),k=C?.paragraph_index??0,K=`${k}::${Y}`;!Y||S.has(K)||(S.add(K),m.push({sentence:Y,paragraph_index:k,created_at:C?.created_at,label:C?.label||r}))}),Ym(m,y,f,r).slice(0,10)}async function $v({supa:s,userId:c,fileName:f,markEventId:r}){let h=[],y=null;if(r){const v=await Sm({supa:s,userId:c,fileName:f}).eq("mark_event_id",r);h=v.data||[],y=v.error}if((!h||h.length===0)&&!y){const v=await Sm({supa:s,userId:c,fileName:f});h=v.data||[],y=v.error}if(y)throw y;return h.filter(v=>v?.label&&!Ju(v.label)).map(v=>({label:v.label,paragraph_index:v?.paragraph_index??0,created_at:v?.created_at,mark_event_id:v?.mark_event_id}))}const Fv=[{value:"no_issue",label:"There is no issue"},{value:"unable_to_repair",label:"Unable to repair issue"},{value:"unclear_guidance",label:"Unclear student guidance for issue"},{value:"other",label:"Other"}];function Wv({isOpen:s,onCancel:c,onConfirm:f,onNoAsk:r}){const h=g.useRef(null),[y,v]=g.useState(""),[N,S]=g.useState(""),[m,D]=g.useState(""),C=y==="other",Y=N.length,k=!!(y&&(!C||N.trim().length>0)),K=()=>{v(""),S(""),D("")};g.useEffect(()=>{s&&(K(),window.requestAnimationFrame(()=>{h.current?.focus()}))},[s]);const te=W=>{if(!y){D("Please select a reason to continue.");return}if(C&&!N.trim()){D("Please add a brief explanation for Other.");return}if(D(""),W){r?.({reason:y,other_text:N.trim()||null});return}f?.({reason:y,other_text:N.trim()||null})},I=W=>{W.key==="Escape"&&(W.preventDefault(),c?.())},P=g.useMemo(()=>`${Y}/280`,[Y]);return s?o.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"dismissIssueTitle",onClick:W=>{W.target===W.currentTarget&&c?.()},onKeyDown:I,children:o.jsxs("div",{className:"modal-card dismiss-modal",children:[o.jsx("div",{id:"dismissIssueTitle",className:"modal-title",children:"Dismiss issue"}),o.jsx("div",{className:"modal-question",children:"Why are you dismissing this issue?"}),o.jsx("div",{className:"modal-reasons",children:Fv.map(W=>o.jsxs("label",{children:[o.jsx("input",{type:"radio",name:"dismissReason",value:W.value,checked:y===W.value,onChange:()=>{v(W.value),D("")}}),W.label]},W.value))}),C?o.jsxs(o.Fragment,{children:[o.jsx("textarea",{maxLength:280,className:"dismiss-other",placeholder:"Briefly explain...",value:N,onChange:W=>{S(W.target.value)}}),o.jsx("div",{className:"dismiss-char-count",children:P})]}):null,m?o.jsx("div",{className:"modal-error",children:m}):null,o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{ref:h,className:"secondary-btn",type:"button",onClick:()=>c?.(),children:"Cancel"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>te(!0),disabled:!k,children:"Do not ask me again"}),o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>te(!1),disabled:!k,children:"Dismiss issue"})]})]})}):null}const Iv=s=>{const c=Number(s);return Number.isFinite(c)?c:0},Pv=s=>String(s?.label||s?.technique||s?.name||"").trim(),ey=s=>Iv(s?.count??s?.occurrences??s?.total??0),ty=s=>{if(!s||typeof s!="object")return[];const c=Array.isArray(s.items)?s.items:[];if(!c.length)return[];if(s.type==="strings"){const f=c.reduce((r,h)=>{const y=String(h||"").trim();return y&&(r[y]=(r[y]||0)+1),r},{});return Object.entries(f).map(([r,h])=>({label:r,count:h})).sort((r,h)=>h.count-r.count||r.label.localeCompare(h.label)).slice(0,6)}return s.type==="objects"?c.map(f=>({label:Pv(f),count:ey(f)})).filter(f=>f.label).sort((f,r)=>r.count-f.count||f.label.localeCompare(r.label)).slice(0,6):[]};function ny({wordCount:s,totalIssues:c,topIssue:f,techniques:r}){const h=g.useMemo(()=>ty(r),[r]);return o.jsxs("section",{className:"practice-stat-card",children:[o.jsx("h3",{children:"Stats"}),o.jsxs("div",{className:"practice-stat-row",children:[o.jsx("span",{children:"Word count"}),o.jsx("strong",{children:Number.isFinite(s)?s:""})]}),o.jsxs("div",{className:"practice-stat-row",children:[o.jsx("span",{children:"Total issues"}),o.jsx("strong",{children:c??0})]}),o.jsxs("div",{className:"practice-stat-row",children:[o.jsx("span",{children:"Top issue"}),o.jsx("strong",{children:f||""})]}),h.length?o.jsxs("div",{className:"practice-techniques",children:[o.jsx("h4",{children:"Top techniques"}),o.jsx("ul",{children:h.map(y=>o.jsxs("li",{children:[o.jsx("span",{children:y.label}),o.jsx("strong",{children:y.count})]},y.label))})]}):null]})}function hs(s){return String(s||"").toLowerCase().replace(/[]/g,"'").replace(/[^a-z0-9\s']/g," ").replace(/\s+/g," ").trim()}function Qu(s){return String(s||"").toLowerCase().replace(/[]/g,'"').replace(/[]/g,"'").replace(/\s+/g," ").trim()}function ms(s){return String(s||"").toLowerCase().replace(/[\u2018\u2019]/g,"'").replace(/[^\w\s']/g," ").replace(/\s+/g," ").trim()}function Gm(s){if(!s)return[];const f=Array.from(s.querySelectorAll("p, li")).map(h=>({node:h,text:ms(h.innerText||h.textContent||"")})).filter(h=>h.text),r=f.filter(h=>h.text.length>=20);return(r.length?r:f).map(h=>h.node)}const ly=s=>ms(s).split(" ").filter(c=>c.length>=4);function $u(s,c){if(!s||!c)return null;const f=ms(c).slice(0,80),r=Gm(s);if(!r.length||!f)return null;for(const v of r)if(ms(v.innerText||v.textContent||"").includes(f))return{el:v,score:1};const h=Array.from(new Set(ly(c)));if(!h.length)return null;let y={el:null,score:0};return r.forEach(v=>{const N=ms(v.innerText||v.textContent||"");if(!N)return;const m=h.reduce((D,C)=>N.includes(C)?D+1:D,0)/h.length;m>y.score&&(y={el:v,score:m})}),!y.el||y.score<.25?null:y}function Qm(s){s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("ph-flash"),window.setTimeout(()=>{s.classList.remove("ph-flash")},1400))}function zo(s){s&&s.querySelectorAll(".ph-highlight").forEach(c=>{c.classList.remove("ph-highlight")})}function ay(s,c){if(!s)return 0;zo(s);const f=Array.isArray(c)?c.map(y=>y?.sentence).filter(Boolean):[],r=new Set;let h=0;return f.forEach(y=>{const v=$u(s,y);if(!v?.el)return;const N=v.el;r.has(N)||(r.add(N),v.el.classList.add("ph-highlight"),h+=1)}),h}const iy=s=>String(s||"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),sy=s=>{let c=iy(s);return c=c.replace(/\s+/g,"\\s+"),c=c.replace(/["]/g,'["]'),c=c.replace(/[']/g,"[']"),new RegExp(c,"i")},uy=s=>{const c=document.createTreeWalker(s,NodeFilter.SHOW_TEXT),f=[];let r=c.nextNode();for(;r;)f.push(r),r=c.nextNode();return f},cy=s=>{let c="";const f=s.map(r=>{const h=c.length,y=r.nodeValue||"";return c+=y,{node:r,start:h,end:c.length}});return{fullText:c,ranges:f}},ry=(s,c,f)=>{const r=s.find(v=>c>=v.start&&c<=v.end),h=s.find(v=>f>=v.start&&f<=v.end);if(!r||!h)return null;const y=document.createRange();return y.setStart(r.node,Math.max(0,c-r.start)),y.setEnd(h.node,Math.max(0,f-h.start)),y};function oy({containerEl:s,originalSentence:c,rewrite:f,shouldScroll:r=!0}){if(!s||!c||!f)return{ok:!1,message:"Missing preview or rewrite text."};const h=$u(s,c);if(!h?.el)return{ok:!1,message:"Could not find that sentence in the preview."};const y=h.el,v=uy(y),{fullText:N,ranges:S}=cy(v);if(!N.trim())return{ok:!1,message:"Preview block is empty."};const D=sy(c).exec(N);if(!D){const te=Qu(N),I=Qu(c);return te.includes(I)?{ok:!1,message:"Could not isolate the sentence boundaries. Paste manually."}:{ok:!1,message:"Couldn't isolate that sentence. Paste manually if needed."}}const C=D.index,Y=C+D[0].length,k=ry(S,C,Y);if(!k)return{ok:!1,message:"Could not isolate the sentence range. Paste manually."};k.deleteContents();const K=document.createElement("span");return K.className="vysti-applied-rewrite",K.textContent=f,k.insertNode(K),r&&Qm(K),{ok:!0}}const fs=s=>(s||"").replace(/\s+/g," ").trim(),fy=s=>!s||s.nodeType!==Node.ELEMENT_NODE?!1:s.style&&(s.style.backgroundColor||s.style.background)?!0:!!s.querySelector("*[style*='background']"),dy=s=>{!s||s.nodeType!==Node.ELEMENT_NODE||(s.style&&(s.style.backgroundColor="",s.style.background=""),s.querySelectorAll("*").forEach(c=>{c.style&&(c.style.backgroundColor="",c.style.background="")}))},hy=(s,c)=>{const f=Array.from(s.querySelectorAll("p, li")),r=f.length?f:Gm(s),h=Number.isFinite(c?.paragraph_index)?c.paragraph_index:null;if(h!==null&&r.length){if(r[h])return r[h];if(h>0&&r[h-1])return r[h-1]}return $u(s,c?.sentence||"")?.el||null};function Vm(s,c,{containerEl:f,scroll:r=!0,allowParagraphFallback:h=!1,silent:y=!1}={}){if(!f||!f.innerText.trim())return{ok:!1,message:'Click "Mark my essay" to load the preview first.'};const v=hy(f,c);if(!v)return{ok:!1,message:"Couldn't locate the sentence in the preview."};const N=fs(c?.sentence||"");if(!h&&N&&!fs(v.innerText).includes(N.slice(0,40)))return{ok:!1,message:"Couldn't isolate the exact sentence in preview. Try Find in preview first."};r&&v.scrollIntoView({behavior:"smooth",block:"center"});const S=Array.from(v.querySelectorAll("span, a")).filter(Y=>{const k=fs(Y.textContent);return k.startsWith("")&&k.includes(s)});if(!S.length)return{ok:!1,message:"Couldn't find the issue label in the preview."};let m=S[0];const D=m.parentElement&&m.parentElement.tagName==="SPAN"&&fs(m.parentElement.textContent)===fs(m.textContent)?m.parentElement:m;let C=D.previousSibling;for(;C&&C.nodeType===Node.ELEMENT_NODE;){const Y=C;if(!fy(Y))break;dy(Y),C=C.previousSibling}return D.remove(),zo(f),f.normalize(),{ok:!0,message:y?"":"Dismissed from preview. (This will stay dismissed after Recheck.)",blockEl:v}}function my(s,c,f){if(!s||!f)return;const r=(c||[]).filter(h=>h?.file_name===f);r.length&&r.forEach(h=>{Vm(h?.label||"",h,{containerEl:s,scroll:!1,allowParagraphFallback:!0,silent:!0})})}const gy=["/power_verbs_2025.json"],py="Avoid weak verbs",vy=s=>{if(!s)return null;if(typeof s=="string")return{verb:s.trim(),definition:""};const c=String(s.verb||"").trim();return c?{verb:c,definition:String(s.definition||"").trim()}:null};let qu=null,Lu=null;const Oo=async(s=gy)=>Lu||qu||(qu=(async()=>{let c=null;for(const r of s)try{const h=await fetch(r,{cache:"no-store"});if(!h.ok){c=new Error(`Failed ${r} (${h.status})`);continue}const y=await h.json(),v=Array.isArray(y)?y.map(vy).filter(Boolean):[],N={list:v,map:new Map(v.map(S=>[S.verb.toLowerCase(),S.definition])),source:r};return Lu=N,N}catch(h){c=h}c&&console.warn("Failed to load power verbs from all candidate URLs:",c);const f={list:[],map:new Map,source:""};return Lu=f,f})(),qu),yy=s=>{const c=new Set;return(s||[]).forEach(f=>{const r=String(f?.verb||"").toLowerCase().trim();r&&(c.add(r),r.endsWith("s")&&c.add(r.slice(0,-1)),r.endsWith("es")&&c.add(r.slice(0,-2)),r.endsWith("ed")&&c.add(r.slice(0,-2)),r.endsWith("ing")&&c.add(r.slice(0,-3)))}),c},Co=s=>{const c=[...s||[]];for(let f=c.length-1;f>0;f-=1){const r=Math.floor(Math.random()*(f+1));[c[f],c[r]]=[c[r],c[f]]}return c},Zm=(s,c)=>{if(!s||!c)return!1;const f=s.selectionStart??0,r=s.selectionEnd??0,h=s.value||"",y=h.slice(0,f),v=h.slice(r);s.value=`${y}${c}${v}`;const N=y.length+c.length;return s.setSelectionRange(N,N),s.dispatchEvent(new Event("input",{bubbles:!0})),!0},by=(s,c)=>{if(!s||!c)return!1;const f=window.getSelection?.();if(!f||f.rangeCount===0)return!1;const r=f.getRangeAt(0),h=r.commonAncestorContainer;return s.contains(h)?(r.deleteContents(),r.insertNode(document.createTextNode(c)),r.collapse(!1),f.removeAllRanges(),f.addRange(r),!0):!1},Km=async s=>{if(!s)return!1;try{return await navigator.clipboard.writeText(s),!0}catch{return!1}},xm=5;function Sy({textareaRef:s,onOpenDictionary:c,onVerbApplied:f}){const[r,h]=g.useState([]),[y,v]=g.useState(""),[N,S]=g.useState(""),[m,D]=g.useState([]);g.useEffect(()=>{let k=!0;return Oo().then(({list:K})=>{k&&(h(K),K.length||S("Power verbs list failed to load."))}),()=>{k=!1}},[]),g.useEffect(()=>{r.length&&D(Co(r).slice(0,xm))},[r]);const C=()=>{if(!r.length)return;const k=Co(r).slice(0,xm);D(k),v("Shuffled."),window.setTimeout(()=>v(""),1e3)},Y=async k=>{if(!k)return;const K=s?.current;let te=!1;K&&(te=Zm(K,k)),te?(v("Applied."),f?.(k)):(await Km(k),v("Copied.")),window.setTimeout(()=>v(""),1200)};return o.jsxs("div",{className:"power-verbs-helper",children:[o.jsxs("div",{className:"power-verbs-header",children:[o.jsx("div",{className:"power-verbs-title",children:"Do any of these work?"}),o.jsxs("div",{className:"power-verbs-actions",children:[o.jsx("div",{className:"power-verbs-feedback",children:y||N}),o.jsx("button",{type:"button",className:"power-verbs-iconbtn","aria-label":"Open power verbs dictionary",onClick:c,children:""})]})]}),o.jsxs("div",{className:"power-verbs-suggestions-row",children:[o.jsx("div",{className:"power-verbs-suggestions-list",children:(m||[]).map(k=>o.jsx("button",{type:"button",className:"example-btn power-verb-pill",onClick:()=>Y(k.verb),children:k.verb},k.verb))}),o.jsx("button",{type:"button",className:"power-verbs-shuffle-btn","aria-label":"Shuffle suggestions",onClick:C,children:""})]})]})}function xy(s){const c=new AbortController,f=c.signal;return{signal:f,cancel:()=>{f.aborted||(f.__abortReason="cancel",c.abort())},controller:c,clear:()=>{}}}async function gs(s,c={},{timeoutMs:f}={}){const r=c.signal,h=new AbortController;let y=!1,v=!1,N=null;r&&r.addEventListener("abort",()=>{v=r.__abortReason==="cancel",h.abort()},{once:!0}),f&&Number.isFinite(f)&&f>0&&(N=window.setTimeout(()=>{y=!0,h.abort()},f));try{return await fetch(s,{...c,signal:h.signal})}catch(S){if(y){const m=new Error("Request timed out");throw m.code="TIMEOUT",m}if(h.signal.aborted||S?.name==="AbortError"){const m=new Error("Request canceled");throw m.code="ABORTED",m}throw S}finally{N&&window.clearTimeout(N)}}async function ps(s){if(!s)return"Unknown error";try{const f=(await s.text()).trim().slice(0,200);return`${s.status} ${s.statusText}: ${f||"Request failed"}`}catch{return`${s.status} ${s.statusText}`}}function vs(s){return s?.status===401||s?.status===403}async function Ey({supa:s,label:c,labelTrimmed:f,rewrite:r,mode:h,contextText:y,originalSentence:v,paragraphIndex:N}){if(!s)throw new Error("Supabase is not available.");const{data:S,error:m}=await s.auth.getSession();if(m||!S?.session)throw new Error("Session expired. Please sign in again.");const D=Vu();if(!D)throw new Error("Missing API configuration.");const C={label:c,label_trimmed:f,rewrite:r,mode:h,context_text:y,original_sentence:v,paragraph_index:N??0},Y=await gs(`${D}/revision/check`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S.session.access_token}`},body:JSON.stringify(C)},{timeoutMs:25e3});if(vs(Y))throw new Error("Session expired. Please sign in again.");if(!Y.ok)throw new Error(await ps(Y));return Y.json()}const Uo=({userId:s,fileName:c})=>{const f=String(s||"anon"),r=String(c||"unknown");return`vysti_revision_practice_${f}_${r}`},wy=s=>{try{return sessionStorage.getItem(s)}catch{return null}},Ny=(s,c)=>{try{return sessionStorage.setItem(s,c),!0}catch{try{return localStorage.setItem(s,c),!0}catch{return!1}}},Ty=s=>{try{sessionStorage.removeItem(s)}catch{}try{localStorage.removeItem(s)}catch{}};function _y({userId:s,fileName:c}){const f=Uo({userId:s,fileName:c});try{const r=wy(f)??localStorage.getItem(f);if(!r)return null;const h=JSON.parse(r);return!h||typeof h!="object"?null:h}catch{return null}}function Ay({userId:s,fileName:c,state:f}){const r=Uo({userId:s,fileName:c});try{Ny(r,JSON.stringify(f))}catch{}}function jy({userId:s,fileName:c}){const f=Uo({userId:s,fileName:c});Ty(f)}const Cy=s=>{const c=String(s||"").trim();return c?c.split(/\s+/).filter(Boolean).length:null},vi=(s,c)=>{const f=String(c?.sentence||"").trim(),r=c?.paragraph_index??0;return`${s}::${r}::${f}`},My=s=>{const c=hs(s);return{isIntro:c.includes("title")||c.includes("introduction")||c.includes("thesis")||c.includes("first sentence"),isConclusion:c.includes("conclusion")}},Ry=s=>{if(!s.length)return null;const c=s.reduce((f,r)=>{const h=Number.isFinite(r)?r:0;return f[h]=(f[h]||0)+1,f},{});return Object.entries(c).sort((f,r)=>r[1]-f[1]).map(([f])=>Number(f)).find(f=>Number.isFinite(f))};function Dy({enabled:s,requestActive:c=!1,practiceNavEnabled:f=!1,practiceHighlightEnabled:r=!1,externalAttempt:h=null,onClearExternalAttempt:y,supa:v,selectedFile:N,markedBlob:S,previewRef:m,techniques:D,dismissedIssues:C,onDismissedIssuesChange:Y,selectedLabelOverride:k,onSelectedLabelChange:K,onOpenDiagnostics:te,onNavigateToExample:I,onHighlightExamples:P,onClearHighlights:W,mode:oe,onPreviewEdited:le,onOpenPowerVerbs:J}){const[ne,Q]=g.useState(!1),[F,ge]=g.useState(!1),[Oe,pe]=g.useState(""),[ye,Qe]=g.useState({}),[et,ke]=g.useState({}),[R,O]=g.useState([]),[L,ce]=g.useState(""),[fe,b]=g.useState([]),[z,X]=g.useState([]),[$,de]=g.useState([]),[re,Se]=g.useState(null),[We,Ue]=g.useState(null),[qe,Nt]=g.useState(""),[Cn,Lt]=g.useState(!1),[_e,Ve]=g.useState({}),[Ze,ft]=g.useState({}),[en,kt]=g.useState({}),[Yt,mn]=g.useState(!1),[tl,Mn]=g.useState({}),[Dt,Rn]=g.useState({}),[Tl,Gn]=g.useState(!1),[yt,Dn]=g.useState(null),[nl,Tt]=g.useState(""),[Si,ct]=g.useState(""),[_t,zt]=g.useState([]),at=g.useRef(0),zn=g.useRef(""),na=g.useRef(null),tn=g.useRef({}),[Ot,nn]=g.useState(0),Qn=g.useRef([]),bt=!!ys()?.featureFlags?.debugRevisionPractice,Zt=C??_t,ln=w=>{typeof Y=="function"?Y(w):zt(w)},xi=g.useMemo(()=>Object.values(ye||{}).reduce((w,G)=>w+(Number(G)||0),0),[ye]),_l=R.length?`${R[0].label} (${R[0].count})`:"",On=g.useMemo(()=>{const w=hs(L);return w===hs(py)||w.includes("power verbs")},[L]),St=g.useMemo(()=>Object.entries(Ze).map(([w,G])=>({key:w,...G})),[Ze]),Ei=w=>{w&&(Ve(w.drafts||{}),ft(w.approved||{}),kt(w.applied||{}),mn(!!w.approvedPanelOpen),w.selectedLabel&&ce(w.selectedLabel))};g.useEffect(()=>{if(!qe||!N?.name)return;const w=_y({userId:qe,fileName:N.name});Ei(w)},[qe,N?.name]),g.useEffect(()=>{!qe||!N?.name||Ay({userId:qe,fileName:N.name,state:{drafts:_e,approved:Ze,applied:en,approvedPanelOpen:Yt,selectedLabel:L,markEventId:re}})},[Ze,en,Yt,_e,N,L,re,qe]),g.useEffect(()=>{if(!s)return;const w=m?.current;if(!w)return;const G=()=>{window.clearTimeout(at.current),at.current=window.setTimeout(()=>{const H=Ma(w);H!==zn.current&&(zn.current=H,Ue(Cy(H)))},900)};return G(),w.addEventListener("input",G),w.addEventListener("paste",G),()=>{w.removeEventListener("input",G),w.removeEventListener("paste",G),window.clearTimeout(at.current)}},[s,S,m]),g.useEffect(()=>{if(!s)return;if(h){const H=h.labelCounts||{},se=Object.entries(H).map(([ve,ue])=>({label:ve,count:Number(ue)||0})).filter(ve=>ve.label&&ve.count>0).sort((ve,ue)=>ue.count-ve.count||ve.label.localeCompare(ue.label)).slice(0,10),Z=jo({markEventId:h.id||null,fileName:N?.name||""});ln(Z),ke(H),Qe(Ra(H,Z,N?.name||"")),O(se),Se(h.id||null),X(h.issues||[]),ce(ve=>ve&&se.some(ue=>ue.label===ve)?ve:se[0]?.label||""),Lt(!1),pe(""),Q(!1);return}if(!v||!N||!S){pe(""),Lt(!1),Qe({}),O([]),ce(""),b([]),Se(null),X([]);return}let w=!0;return(async()=>{Q(!0),pe(""),Lt(!1);try{const{data:H,error:se}=await v.auth.getSession();if(se||!H?.session)throw new Error("Session expired. Please sign in again.");const Z=H.session.user?.id;if(!Z)throw new Error("Missing user session.");const{markEvent:ve,labelCountsFiltered:ue,issuesFiltered:Ye}=await Xm({supa:v,userId:Z,fileName:N.name});if(bt&&console.log("[revision-practice] mark event",{hasEvent:!!ve,labelCountKeys:Object.keys(ue||{}).length,issueCount:Ye.length}),!w)return;if(!ve){Lt(!0),Qe({}),ke({}),O([]),ce(""),b([]),Se(null),Nt(Z),X([]),de([]),ln([]);return}const Ee=jo({markEventId:ve.id||null,fileName:N.name});ln(Ee),ke(ue||{}),Qe(Ra(ue||{},Ee,N.name)),Se(ve.id||null),Nt(Z),X(Ye||[]),ce(Ae=>Ae||"")}catch(H){if(!w)return;pe(H?.message||"Failed to load revision data.")}finally{w&&Q(!1)}})(),()=>{w=!1}},[s,S,N,v,bt,h]),g.useEffect(()=>{if(!s||!v||!N||!qe||!re)return;let w=!0;return(async()=>{try{const H=await $v({supa:v,userId:qe,fileName:N.name,markEventId:re});if(!w)return;de(H)}catch(H){if(!w)return;bt&&console.warn("[revision-practice] index fetch failed",H),de([])}})(),()=>{w=!1}},[s,v,N,qe,re,bt]),g.useEffect(()=>{k&&R.some(w=>w.label===k)&&ce(k)},[k,R]),g.useEffect(()=>{ct("")},[L]),g.useEffect(()=>{nn(0),Qn.current=[]},[L,fe.length]),g.useEffect(()=>{N?.name&&Qe(Ra(et,Zt,N.name))},[Zt,et,N?.name]),g.useEffect(()=>{if(!fe.length)return;const w=Ym(fe,Zt,N?.name||"",L);w.length!==fe.length&&b(w)},[Zt,fe,L,N?.name]),g.useEffect(()=>{if(!nl)return;const w=window.setTimeout(()=>Tt(""),2e3);return()=>window.clearTimeout(w)},[nl]),g.useEffect(()=>{Tl&&(c||!s||!S)&&(Gn(!1),Dn(null))},[Tl,c,s,S]),g.useEffect(()=>{if(!s||!L||!v||!N){b([]);return}let w=!0;return(async()=>{ge(!0),pe("");try{let H=qe;if(!H){const{data:Z,error:ve}=await v.auth.getSession();if(ve||!Z?.session?.user?.id)throw new Error("Session expired. Please sign in again.");if(!w)return;H=Z.session.user.id,Nt(H)}const se=await Jv({supa:v,userId:H,fileName:N.name,label:L,markEventId:re,dismissedIssues:Zt});if(bt&&console.log("[revision-practice] examples",{label:L,count:se.length}),!w)return;b(se),ct("")}catch(H){if(!w)return;pe(H?.message||"Failed to load examples.")}finally{w&&ge(!1)}})(),()=>{w=!1}},[s,L,v,N,re,qe,bt,Zt]),g.useEffect(()=>{if(!N?.name||!qe)return;const w=re||null;w&&(na.current&&na.current!==w&&(jy({userId:qe,fileName:N.name}),Ve({}),ft({}),kt({}),mn(!1),Mn({}),Rn({})),na.current=w)},[re,N?.name,qe]);const gn=g.useMemo(()=>{const w=Object.entries(ye||{}).map(([Ee,Ae])=>({label:Ee,count:Number(Ae)||0})).filter(Ee=>Ee.label&&Ee.count>0),G=$.length?$:z,H=G.map(Ee=>Ee?.paragraph_index).filter(Number.isFinite),se=H.length?Math.min(...H):null,Z=H.length?Math.max(...H):null,ve=w.reduce((Ee,Ae)=>{const it=G.filter(nt=>nt?.label===Ae.label).map(nt=>nt?.paragraph_index).filter(Number.isFinite);return Ee[Ae.label]=Ry(it),Ee},{}),ue={intro:[],body:{},conclusion:[]};w.forEach(Ee=>{const Ae=ve[Ee.label],it=My(Ee.label);if(se!==null&&Ae===se||it.isIntro){ue.intro.push(Ee);return}if(Z!==null&&Ae===Z||it.isConclusion){ue.conclusion.push(Ee);return}const nt=se!==null&&Ae!==null?Math.max(1,Ae-se):1;ue.body[nt]||(ue.body[nt]=[]),ue.body[nt].push(Ee)});const Ye=Ee=>Ee.sort((Ae,it)=>it.count-Ae.count||Ae.label.localeCompare(it.label));return ue.intro=Ye(ue.intro),ue.conclusion=Ye(ue.conclusion),Object.keys(ue.body).forEach(Ee=>{ue.body[Ee]=Ye(ue.body[Ee])}),{groups:ue,introIdx:se,conclusionIdx:Z}},[$,z,ye]);g.useEffect(()=>{const w=Object.entries(ye||{}).map(([G,H])=>({label:G,count:Number(H)||0})).filter(G=>G.label&&G.count>0).sort((G,H)=>H.count-G.count||G.label.localeCompare(H.label)).slice(0,10);O(w),ce(G=>G&&w.some(H=>H.label===G)?G:w[0]?.label||"")},[ye]);const la=g.useMemo(()=>new Set(fe.map(w=>vi(L,w))),[fe,L]),Vn=g.useMemo(()=>St.filter(w=>!la.has(w.key)),[la,St]),Al=g.useMemo(()=>{if(!L)return"";const w=z.find(Z=>Z?.label===L),G=String(w?.short_explanation||"").trim();if(G)return G;const H=String(w?.explanation||"").trim();if(!H)return"";const se=H.split(".")[0]?.trim();return se?`${se}.`:H},[z,L]),pn=async w=>{if(w)try{await navigator.clipboard.writeText(w)}catch(G){console.warn("Copy failed",G)}},aa=w=>{const G=String(w||"");return G.length<=140?G:`${G.slice(0,140)}`},Da=()=>{if(!fe.length)return;const w=(Ot+1)%fe.length;nn(w);const G=Qn.current[w];G&&typeof G.scrollIntoView=="function"&&G.scrollIntoView({behavior:"smooth",block:"start"})},At=(w,G)=>{Ve(H=>({...H,[w]:G}))},De=(w,G)=>{Mn(H=>({...H,[w]:{...H[w]||{},...G}}))},tt=w=>{ft(G=>{const H={...G};return delete H[w],H})},Zn=async(w,G)=>{const H=vi(w,G),se=String(_e[H]||"").trim(),Z=String(G?.sentence||"").trim();if(!m?.current){De(H,{error:"Preview not loaded yet."});return}if(!se){De(H,{error:"Enter a rewrite before checking."});return}const ve=Qu(se),ue=Qu(Z);if(ve===ue){De(H,{error:"Rewrite must be different from the original."}),tt(H);return}const Ye=Ma(m.current);if(!Ye){De(H,{error:"Preview text is not available yet."});return}if(!v){De(H,{error:"Supabase is not available."});return}De(H,{loading:!0,error:"",approved:!1});try{const Ee=await Ey({supa:v,label:w,labelTrimmed:hs(w),rewrite:se,mode:oe,contextText:Ye,originalSentence:Z,paragraphIndex:G?.paragraph_index??0});Ee?.approved?(De(H,{approved:!0,message:"Approved!"}),ft(Ae=>({...Ae,[H]:{label:w,sentence:Z,paragraph_index:G?.paragraph_index??0,rewrite:se}}))):(De(H,{approved:!1,error:Ee?.message||"Rewrite not approved yet."}),tt(H))}catch(Ee){De(H,{error:Ee?.message||"Check failed."}),tt(H)}finally{De(H,{loading:!1})}},Un=(w,{shouldScroll:G=!0}={})=>{const H=m?.current;if(!H)return De(w.key,{error:"Preview not ready."}),!1;const se=oy({containerEl:H,originalSentence:w.sentence,rewrite:w.rewrite,shouldScroll:G});return se.ok?(kt(Z=>({...Z,[w.key]:!0})),ft(Z=>{const ve={...Z};return delete ve[w.key],ve}),Qe(Z=>{const ve={...Z};return w.label&&Number.isFinite(ve[w.label])&&(ve[w.label]=Math.max(0,Number(ve[w.label])-1)),ve}),le?.(),De(w.key,{message:"Applied to preview."}),!0):(De(w.key,{error:se.message}),!1)},ia=()=>{if(St.length<2)return;let w=0;St.forEach((G,H)=>{Un(G,{shouldScroll:H===St.length-1})&&(w+=1)}),w>0&&pe("")},sa=w=>{Ve(G=>{const H={...G};return delete H[w],H}),ft(G=>{const H={...G};return delete H[w],H}),kt(G=>{const H={...G};return delete H[w],H}),Mn(G=>{const H={...G};return delete H[w],H})},Kn=async(w,G,H)=>{if(!N?.name)return;const se=N.name,Z={label:w||"",sentence:G?.sentence||"",paragraph_index:G?.paragraph_index??null,file_name:se,created_at:new Date().toISOString(),reason:H.reason,other_text:H.other_text||null},ve=[...Zt||[],Z];if(ln(ve),Yv({markEventId:re,fileName:se,dismissedIssues:ve}),v)try{const Ae=(await v.auth.getSession())?.data?.session?.user?.id||qe;if(Ae){const{error:it}=await v.from("dismissed_issue_feedback").insert({user_id:Ae,file_name:se,mark_event_id:re||null,mode:oe,issue_label:w||"",paragraph_index:Z.paragraph_index,sentence:Z.sentence,reason:H.reason,other_text:H.other_text||null});it&&console.warn("Dismissed issue feedback insert failed:",it)}}catch(Ee){console.warn("Dismissed issue feedback insert failed:",Ee)}const ue=Vm(w,Z,{containerEl:m?.current,scroll:!0,allowParagraphFallback:!0,silent:!1}),Ye=vi(w,G);ue.ok?(Tt(ue.message||"Dismissed."),le?.()):(De(Ye,{error:ue.message||"Preview not available."}),Tt("")),Qe(Ee=>{const Ae={...Ee},it=Number(Ae[w]||0),nt=Math.max(0,it-1);return nt===0?delete Ae[w]:Ae[w]=nt,Ae}),De(Ye,{message:"Dismissed."}),b(Ee=>{const Ae=Ee.filter(it=>vi(w,it)!==Ye);return Ae.length||ct("No remaining examples (they may have been dismissed). Choose a different issue."),Ae}),sa(Ye)},vn=async(w,G)=>{const H=qv(w);if(H?.reason){await Kn(w,G,{reason:H.reason,other_text:H.other_text||null,dontAskAgain:!0});return}Dn({label:w,example:G}),Gn(!0)},ua=()=>{if(!L)return;const w=fe.map(ve=>{const ue=vi(L,ve),Ye=String(_e[ue]||"").trim(),Ae=Ze[ue]?.rewrite||""||Ye||"";return{original:ve?.sentence||"",rewrite:Ae}}),G=[`Label: ${L}`,"",...w.flatMap((ve,ue)=>[`Example ${ue+1}:`,`Original: ${ve.original}`,`Rewrite: ${ve.rewrite||"(none)"}`,""])],H=new Blob([G.join(`
`)],{type:"text/plain"}),se=`revision_notes_${hs(L)||"issue"}.txt`,Z=document.createElement("a");Z.href=URL.createObjectURL(H),Z.download=se,Z.click(),URL.revokeObjectURL(Z.href)},Bn=async({reason:w,other_text:G})=>{if(!yt)return;const{label:H,example:se}=yt;Gn(!1),Dn(null),await Kn(H,se,{reason:w,other_text:G,dontAskAgain:!1})},Xt=async({reason:w,other_text:G})=>{if(!yt)return;const{label:H,example:se}=yt;Lv(H,w,G),Gn(!1),Dn(null),await Kn(H,se,{reason:w,other_text:G,dontAskAgain:!0})};if(!s)return null;const yn=!F&&L&&!fe.length&&St.length>0,Hn=!F&&L&&!fe.length&&!yn;return o.jsxs("section",{className:"card revision-practice-card",id:"revisionPracticeCard",children:[o.jsx("h2",{className:"revision-practice-title",children:"Revision examples"}),te?o.jsx("button",{type:"button",className:"diagnostics-link",onClick:te,children:"Diagnostics"}):null,!N||!S?o.jsx("p",{className:"helper-text",children:"Mark an essay to unlock revision practice."}):null,Oe?o.jsx("p",{className:"helper-text error-text",children:Oe}):null,ne?o.jsx("p",{className:"helper-text",children:"Loading revision data"}):null,h?o.jsxs("div",{className:"helper-text practice-note",children:["Viewing attempt from"," ",h?.createdAt?new Date(h.createdAt).toLocaleString():"earlier"," ",""," ",o.jsx("button",{type:"button",className:"diagnostics-link",onClick:()=>y?.(),children:"Back to latest"})]}):null,Cn&&!ne?o.jsx("p",{className:"helper-text",children:"No revision data yet (mark again)."}):null,N&&S&&!ne?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"practice-grid",children:o.jsx(ny,{wordCount:We,totalIssues:xi,topIssue:_l,techniques:D})}),o.jsx("div",{className:"issue-select-wrapper",children:o.jsxs("div",{id:"issueButtonsWrap",className:"issue-buttons-wrap",children:[o.jsxs("div",{className:"issue-section-block",children:[o.jsx("div",{className:"issue-section-heading",children:"Title and Introduction"}),o.jsx("div",{className:"issue-button-row",children:gn.groups.intro.length?gn.groups.intro.map(w=>o.jsxs("button",{type:"button",className:`issue-btn${L===w.label?" active":""}`,onClick:()=>{ce(w.label),K?.(w.label)},children:[w.label," (",w.count,")"]},w.label)):o.jsx("p",{className:"helper-text",children:"No intro issues."})})]}),Object.keys(gn.groups.body).sort((w,G)=>Number(w)-Number(G)).map(w=>o.jsxs("div",{className:"issue-section-block",children:[o.jsxs("div",{className:"issue-section-heading",children:["Body Paragraph ",w]}),o.jsx("div",{className:"issue-button-row",children:gn.groups.body[w].map(G=>o.jsxs("button",{type:"button",className:`issue-btn${L===G.label?" active":""}`,onClick:()=>{ce(G.label),K?.(G.label)},children:[G.label," (",G.count,")"]},G.label))})]},`body-${w}`)),o.jsxs("div",{className:"issue-section-block",children:[o.jsx("div",{className:"issue-section-heading",children:"Conclusion"}),o.jsx("div",{className:"issue-button-row",children:gn.groups.conclusion.length?gn.groups.conclusion.map(w=>o.jsxs("button",{type:"button",className:`issue-btn${L===w.label?" active":""}`,onClick:()=>{ce(w.label),K?.(w.label)},children:[w.label," (",w.count,")"]},w.label)):o.jsx("p",{className:"helper-text",children:"No conclusion issues."})})]})]})}),Al?o.jsxs("div",{id:"issueExplanationBlock",children:[o.jsx("div",{className:"issue-explanation-header",children:"Explanation of the Issue"}),o.jsx("div",{id:"issueExplanation",className:"issue-explanation",children:Al})]}):null,yn?o.jsx("div",{id:"allApprovedBanner",className:"examples-empty-state",children:"All examples for this issue are approved. Apply them to the Preview to update your progress, then click another bar to revise a different issue."}):null,Hn?o.jsx("div",{id:"examplesEmptyState",className:"examples-empty-state",children:Si||"No examples saved for this issue yet."}):null,fe.length?o.jsxs("div",{id:"exampleNavRow",className:"examples-nav",children:[o.jsxs("div",{id:"exampleNavText",className:"examples-nav-text",children:["Issue ",Ot+1," of ",fe.length]}),o.jsx("button",{type:"button",className:"secondary-btn next-example-btn",id:"nextExampleBtn",onClick:Da,children:"Next "})]}):null,nl?o.jsx("p",{className:"helper-text",children:nl}):null,r&&fe.length?o.jsxs("div",{className:"practice-action-row",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>P?.(fe),children:"Highlight examples"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>W?.(),children:"Clear highlights"})]}):null,F?o.jsx("p",{className:"helper-text",children:"Loading examples"}):o.jsx("ul",{id:"examplesList",className:"examples-list",children:fe.map((w,G)=>{const H=vi(L,w),se=_e[H]||"",Z=Ze[H],ve=!!en[H],ue=tl[H]||{};return tn.current[H]||(tn.current[H]={current:null}),o.jsxs("li",{className:"example-item example-row",ref:Ye=>{Qn.current[G]=Ye},children:[o.jsxs("div",{className:"example-guidance",children:[o.jsx("div",{className:"example-guidance-label",children:"Original sentence"}),o.jsx("div",{className:"example-guidance-text",children:aa(w.sentence)})]}),o.jsxs("div",{className:"example-meta",children:[o.jsxs("span",{children:["Paragraph ",w.paragraph_index??0]}),ue.message?o.jsx("span",{className:"example-status success",children:ue.message}):null,ue.error?o.jsx("span",{className:"example-status error",children:ue.error}):null,Z?o.jsx("span",{className:"example-status approved",children:"Approved!"}):null,ve?o.jsx("span",{className:"example-status applied",children:"Applied"}):null]}),f?o.jsx("button",{type:"button",className:"example-jump",onClick:()=>I?.(w.sentence),title:w.sentence||"",children:"Jump to paragraph"}):null,o.jsx("textarea",{className:"example-rewrite rewrite-input",rows:3,placeholder:"Write a stronger rewrite here",value:se,onChange:Ye=>At(H,Ye.target.value),ref:Ye=>{tn.current[H].current=Ye}}),On?o.jsx(Sy,{textareaRef:tn.current[H],onOpenDictionary:Ye=>J?.({anchorEl:Ye?.currentTarget,textareaRef:tn.current[H]})}):null,o.jsxs("div",{className:"example-actions rewrite-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>pn(w.sentence),children:"Copy sentence"}),o.jsx("button",{className:"secondary-btn dismiss-btn",type:"button",onClick:()=>vn(L,w),disabled:ue.loading,children:"Dismiss issue"}),o.jsx("button",{className:`secondary-btn${ue.loading?" is-loading loading-cursor":""}`,type:"button",onClick:()=>Zn(L,w),disabled:ue.loading,children:ue.loading?"Checking":"Check rewrite"}),o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>Un({key:H,label:L,sentence:w.sentence,paragraph_index:w.paragraph_index,rewrite:Z?.rewrite||""}),disabled:!Z?.rewrite,children:"Apply to Preview"})]})]},`${H}-${G}`)})}),St.length?o.jsxs("div",{id:"approvedRewritesWrap",className:"approved-rewrites-wrap","data-collapsed":Yt?"false":"true",children:[o.jsx("button",{type:"button",className:"secondary-btn apply-all-btn apply-to-preview-btn",id:"applyAllToPreviewBtn",style:{display:St.length>=2?"inline-flex":"none"},onClick:ia,disabled:St.length<2,children:"Apply all rewrites to Preview"}),o.jsxs("div",{className:"approved-rewrites-header",children:[o.jsx("div",{className:"approved-rewrites-title",children:"Approved rewrites"}),o.jsxs("button",{type:"button",className:"approved-rewrites-toggle",id:"approvedRewritesToggle","aria-expanded":Yt,onClick:()=>mn(w=>!w),children:[Yt?"Hide":"Show"," approved rewrites"]})]}),Yt?o.jsx("ul",{id:"approvedRewritesList",className:"approved-rewrites-list",children:Vn.length?Vn.map(w=>{const G=!!Dt[w.key],H=_e[w.key]??w.rewrite;return o.jsxs("li",{className:"approved-rewrite-card",children:[o.jsx("div",{className:"approved-rewrite-label approved-meta",children:w.label}),G?o.jsx("textarea",{className:"example-rewrite rewrite-input",rows:2,value:H,onChange:se=>At(w.key,se.target.value)}):o.jsx("p",{className:"approved-rewrite-text approved-text",children:w.rewrite}),o.jsxs("div",{className:"example-actions rewrite-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Rn(se=>({...se,[w.key]:!se[w.key]})),children:G?"Cancel":"Edit"}),G?o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{const se=String(H||"").trim();se&&(ft(Z=>({...Z,[w.key]:{...w,rewrite:se}})),Rn(Z=>({...Z,[w.key]:!1})))},children:"Save"}):null,o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>Un({key:w.key,label:w.label,sentence:w.sentence,paragraph_index:w.paragraph_index,rewrite:Ze[w.key]?.rewrite||""}),children:"Apply to Preview"})]})]},`approved-${w.key}`)}):o.jsx("li",{className:"approved-rewrite-card",children:o.jsx("p",{className:"helper-text",children:"No other approved rewrites yet."})})}):null]}):null,L?o.jsx("button",{type:"button",className:"secondary-btn",id:"downloadRevisionNotesBtn",style:{marginTop:16},onClick:ua,children:"Download revision notes"}):null]}):null,o.jsx(Wv,{isOpen:Tl,onCancel:()=>{Gn(!1),Dn(null)},onConfirm:Bn,onNoAsk:Xt})]})}const zy=30,Oy=80,Uy=s=>Object.entries(s||{}).filter(([c,f])=>c&&(Number(f)||0)>0).sort((c,f)=>(Number(f[1])||0)-(Number(c[1])||0)).slice(0,zy).map(([c,f])=>({label:c,count:Number(f)||0})),By=s=>{const c=String(s||"").trim();if(!c)return"";const f=c.match(/^(.+?[.!?])(\s|$)/);return f?f[1]:c},Hy=(s,c)=>{const f=new Map;return(c||[]).forEach(r=>{const h=String(r?.label||"").trim();if(!h||f.has(h))return;const y=r?.short_explanation?String(r.short_explanation):By(r?.explanation);y&&f.set(h,y)}),s.map(r=>f.get(r)||"")},qy=()=>{let s=document.getElementById("mostCommonIssuesTooltip");return s||(s=document.createElement("div"),s.id="mostCommonIssuesTooltip",s.className="mci-tooltip",s.innerHTML=`
    <div class="mci-tooltip-header"></div>
    <div class="mci-body"></div>
    <div class="mci-hint">Click the bar chart to revise</div>
  `,s.style.opacity="0",document.body.appendChild(s),s)},Ly=(s,c,f)=>{const r=s.canvas.getBoundingClientRect(),h=r.left+window.scrollX+c.caretX,y=r.top+window.scrollY+c.caretY,v=12,N=f.getBoundingClientRect(),S=Math.max(v,Math.min(h-N.width/2,window.innerWidth-N.width-v)),m=Math.max(v,y-N.height-12);f.style.left=`${S}px`,f.style.top=`${m}px`};function ky({labelCounts:s,issues:c,onSelectLabel:f,markEventId:r}){const h=g.useRef(null),y=g.useRef(null),v=g.useRef(null),N=g.useRef(null),S=g.useRef(null),m=g.useMemo(()=>Uy(s),[s]),D=g.useMemo(()=>m.map(k=>k.label),[m]),C=g.useMemo(()=>m.map(k=>k.count),[m]),Y=g.useMemo(()=>Hy(D,c),[c,D]);return g.useEffect(()=>{const k=h.current,K=N.current;if(!k||!K)return;if(!m.length){k.dataset.hasData="false",k.style.display="none",S.current&&(S.current.destroy(),S.current=null);return}const te=window.Chart;if(!te){k.dataset.hasData="true",k.style.display="block";return}k.dataset.hasData="true",k.style.display="block",S.current&&(S.current.destroy(),S.current=null);const I=y.current,P=v.current;if(I&&r!=null){const Q=String(r);I.dataset.markEventId!==Q&&(delete I.dataset.hasScrolled,I.dataset.markEventId=Q)}const W=I?I.clientWidth:k.clientWidth,oe=Math.max(W,m.length*Oy);K.width=oe,K.style.width=`${oe}px`,K.style.height="280px",P&&(P.style.width=`${oe}px`);const le=I&&!I.dataset.hasScrolled;I&&le&&(I.scrollLeft=0),I&&I.addEventListener("scroll",()=>{I.dataset.hasScrolled="1"},{once:!0});const J=K.getContext("2d"),ne=qy();return S.current=new te(J,{type:"bar",data:{labels:D,datasets:[{data:C,backgroundColor:"rgba(11, 98, 214, 0.6)",borderColor:"rgba(11, 98, 214, 1)",borderWidth:1,explanations:Y}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1,external:({chart:Q,tooltip:F})=>{if(!F||!Q)return;if(F.opacity===0){ne.style.opacity="0";return}const ge=F.title?.[0]||"",Oe=F.body?.[0]?.lines?.[0]||"",pe=F.dataPoints?.[0]?.dataIndex??0,ye=Y[pe]||"";ne.querySelector(".mci-tooltip-header").textContent=ge,ne.querySelector(".mci-body").textContent=`${Oe}${ye?`  ${ye}`:""}`,ne.style.opacity="1",Ly(Q,F,ne)}}},onHover:(Q,F,ge)=>{ge?.canvas&&(ge.canvas.style.cursor=F?.length?"pointer":"default")},onClick:(Q,F,ge)=>{if(!ge)return;const Oe=ge.getElementsAtEventForMode(Q,"nearest",{intersect:!0},!0);if(!Oe.length)return;const pe=Oe[0].index,ye=ge.data.labels?.[pe]||"";ye&&f?.(ye)},scales:{y:{beginAtZero:!0,ticks:{precision:0}},x:{ticks:{autoSkip:!0,maxRotation:45,minRotation:0,font:{size:14,weight:"600"},callback:(Q,F)=>{const ge=D[F]||"";return ge.length>26?`${ge.slice(0,25)}`:ge}}}}}}),()=>{S.current&&(S.current.destroy(),S.current=null)}},[m,Y,D,C,f,r]),o.jsxs("div",{id:"mostCommonIssuesWrap",ref:h,style:{marginTop:"20px"},children:[o.jsx("div",{className:"rules-title",children:"Most Common Issues"}),o.jsx("div",{id:"mciScrollViewport",className:"mci-scroll-viewport",ref:y,children:o.jsx("div",{id:"mciScrollInner",className:"mci-scroll-inner",ref:v,children:o.jsx("canvas",{id:"mostCommonIssuesChart",ref:N})})})]})}const Em={info:3500,success:3500,warn:4500};function Yy({toasts:s,onDismiss:c}){return g.useEffect(()=>{const f=(s||[]).filter(r=>Em[r.kind]).map(r=>{const h=Em[r.kind],y=window.setTimeout(()=>c?.(r.id),h);return()=>window.clearTimeout(y)});return()=>{f.forEach(r=>r())}},[c,s]),s?.length?o.jsx("div",{className:"status-toasts",role:"status","aria-live":"polite",children:s.map(f=>o.jsxs("div",{className:`toast toast-${f.kind||"info"}`,children:[o.jsxs("div",{className:"toast-body",children:[o.jsx("strong",{children:f.title}),f.message?o.jsx("div",{children:f.message}):null]}),o.jsxs("div",{className:"toast-actions",children:[f.kind==="error"?o.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{try{const r=JSON.stringify(f.details||{},null,2);await navigator.clipboard.writeText(r)}catch(r){console.warn("Copy toast details failed",r)}},children:"Copy error details"}):null,o.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>c?.(f.id),children:"Close"})]})]},f.id))}):null}class Gu extends g.Component{constructor(c){super(c),this.state={hasError:!1,error:null,componentStack:"",errorStack:""}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,f){console.error("Student React render error",c),this.setState({componentStack:f?.componentStack||"",errorStack:c?.stack||""})}handleCopyDetails=async()=>{try{const c=this.state.error?.message||"Unknown error",f=this.state.errorStack||this.state.error?.stack||"",r=this.state.componentStack||"",h=zm()||{},y=JSON.stringify({error:c,stack:f,componentStack:r,buildId:h.buildId||"",recentEvents:h.recentEvents||[],url:window.location.href},null,2);await navigator.clipboard.writeText(y)}catch(c){console.warn("Copy debug info failed",c)}};render(){if(this.state.hasError){const{inline:c=!1,title:f="Something broke while rendering the preview.",message:r="Try reloading or returning to the classic view.",showClassic:h=!0}=this.props,y=!!ys()?.featureFlags?.debugHardening,v=new URLSearchParams(window.location.search).get("debug")==="1",N=y||v,S=this.state.error?.message||"Unknown error",m=this.state.componentStack||"",D=c?"section":"main",C=c?"":"page student-page student-react-shell";return o.jsx(D,{className:C,children:o.jsxs("div",{className:"card form-card",children:[o.jsx("p",{children:f}),o.jsx("p",{className:"helper-text",children:r}),o.jsxs("p",{className:"helper-text",children:["Error: ",S]}),N&&m?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"helper-text",children:"Component stack:"}),o.jsx("pre",{className:"preview-error-stack",children:m})]}):null,o.jsxs("div",{className:"results-actions",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>window.location.reload(),children:"Reload page"}),h?o.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>window.location.assign("/student.html"),children:"Return to classic"}):null,o.jsx("button",{type:"button",className:"secondary-btn",onClick:this.handleCopyDetails,children:"Copy debug info"})]})]})})}return this.props.children}}function Xy({visible:s,savedAt:c,onRestore:f,onDismiss:r,onDelete:h}){if(!s)return null;const y=c?new Date(c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"recently";return o.jsxs("div",{className:"draft-banner",children:[o.jsxs("div",{className:"draft-banner-text",children:["Unsaved draft found from ",y]}),o.jsxs("div",{className:"draft-banner-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:f,children:"Restore"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:r,children:"Dismiss"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:h,children:"Delete"})]})]})}function Gy({enabled:s,attempts:c,selectedAttemptId:f,onSelectAttempt:r,onRefresh:h,isLoading:y,error:v}){return s?o.jsxs("section",{className:"card practice-card",children:[o.jsxs("div",{className:"practice-header",children:[o.jsx("h2",{children:"Attempt history"}),o.jsx("button",{className:"diagnostics-link",type:"button",onClick:h,children:"Refresh"})]}),y?o.jsx("p",{className:"helper-text",children:"Loading history"}):null,v?o.jsx("p",{className:"helper-text error-text",children:v}):null,!y&&(!c||c.length===0)?o.jsx("p",{className:"helper-text",children:"No attempts yet for this file."}):null,o.jsx("div",{className:"attempt-list",children:(c||[]).map(N=>{const S=N?.createdAt?new Date(N.createdAt).toLocaleString():"Unknown time";return o.jsxs("button",{type:"button",className:`attempt-item${f===N.id?" is-active":""}`,onClick:()=>r?.(N),children:[o.jsx("div",{className:"attempt-time",children:S}),o.jsxs("div",{className:"attempt-meta",children:[o.jsxs("span",{children:["Total issues: ",N.totalIssues??0]}),o.jsx("span",{children:N.topIssue||"Top issue "})]})]},N.id)})})]}):null}var Bo=jm();function Qy({isOpen:s,anchorEl:c,metricKey:f,onClose:r}){const h=g.useRef(null);if(g.useLayoutEffect(()=>{if(!s||!c||!h.current)return;const v=h.current,N=c.getBoundingClientRect(),S=10,m=12;v.style.display="block",v.style.visibility="hidden";const D=v.getBoundingClientRect(),Y=N.bottom+S+D.height<=window.innerHeight?N.bottom+S:N.top-S-D.height;let k=N.left+N.width/2-D.width/2;k=Math.max(m,Math.min(k,window.innerWidth-D.width-m)),v.style.top=`${Math.round(Y)}px`,v.style.left=`${Math.round(k)}px`,v.style.visibility="visible"},[c,s,f]),g.useEffect(()=>{if(!s)return;const v=m=>{h.current?.contains(m.target)||c?.contains(m.target)||r?.()},N=m=>{m.key==="Escape"&&r?.()},S=()=>{if(!h.current||!c)return;const m=c.getBoundingClientRect(),D=10,C=12,Y=h.current.getBoundingClientRect(),K=m.bottom+D+Y.height<=window.innerHeight?m.bottom+D:m.top-D-Y.height;let te=m.left+m.width/2-Y.width/2;te=Math.max(C,Math.min(te,window.innerWidth-Y.width-C)),h.current.style.top=`${Math.round(K)}px`,h.current.style.left=`${Math.round(te)}px`};return document.addEventListener("mousedown",v,!0),document.addEventListener("touchstart",v,!0),document.addEventListener("keydown",N),window.addEventListener("resize",S),window.addEventListener("scroll",S,!0),()=>{document.removeEventListener("mousedown",v,!0),document.removeEventListener("touchstart",v,!0),document.removeEventListener("keydown",N),window.removeEventListener("resize",S),window.removeEventListener("scroll",S,!0)}},[c,s,r]),!s)return null;const y=Om[f]||{};return Bo.createPortal(o.jsxs("div",{ref:h,className:"tour-popover metric-popover",children:[o.jsx("div",{className:"tour-title",children:y.title||"Metric"}),o.jsx("div",{className:"tour-body",children:y.body||""}),y.tips?.length?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"metric-popover-tips-title",children:"Tips"}),o.jsx("ul",{className:"metric-popover-list",children:y.tips.map(v=>o.jsx("li",{children:v},v))})]}):null]}),document.body)}const wm=12;function Vy({isOpen:s,anchorEl:c,previewRef:f,textareaRef:r,onClose:h,onVerbApplied:y}){const v=g.useRef(null),[N,S]=g.useState([]),[m,D]=g.useState(new Map),[C,Y]=g.useState(0),[k,K]=g.useState(""),[te,I]=g.useState("");g.useEffect(()=>{s&&Oo().then(({list:le,map:J})=>{const ne=Co(le);S(ne),D(J),I(ne.length?"":"Power verbs list failed to load. Check power_verbs_2025.json path.")})},[s]),g.useLayoutEffect(()=>{if(!s||!c||!v.current)return;const le=v.current,J=c.getBoundingClientRect(),ne=10,Q=12;le.style.display="flex",le.style.visibility="hidden";const F=le.getBoundingClientRect();let Oe=J.bottom+ne+F.height<=window.innerHeight?J.bottom+ne:J.top-ne-F.height,pe=J.left+J.width/2-F.width/2;pe=Math.max(Q,Math.min(pe,window.innerWidth-F.width-Q)),Oe<Q&&(Oe=Q),le.style.top=`${Math.round(Oe)}px`,le.style.left=`${Math.round(pe)}px`,le.style.visibility="visible"},[c,s,C,N]),g.useEffect(()=>{if(!s)return;const le=Q=>{v.current?.contains(Q.target)||c?.contains(Q.target)||h?.()},J=Q=>{Q.key==="Escape"&&h?.()},ne=()=>{if(!v.current||!c)return;const Q=c.getBoundingClientRect(),F=10,ge=12,Oe=v.current.getBoundingClientRect();let ye=Q.bottom+F+Oe.height<=window.innerHeight?Q.bottom+F:Q.top-F-Oe.height,Qe=Q.left+Q.width/2-Oe.width/2;Qe=Math.max(ge,Math.min(Qe,window.innerWidth-Oe.width-ge)),ye<ge&&(ye=ge),v.current.style.top=`${Math.round(ye)}px`,v.current.style.left=`${Math.round(Qe)}px`};return document.addEventListener("mousedown",le,!0),document.addEventListener("touchstart",le,!0),document.addEventListener("keydown",J),window.addEventListener("resize",ne),window.addEventListener("scroll",ne,!0),()=>{document.removeEventListener("mousedown",le,!0),document.removeEventListener("touchstart",le,!0),document.removeEventListener("keydown",J),window.removeEventListener("resize",ne),window.removeEventListener("scroll",ne,!0)}},[c,s,h]);const P=g.useMemo(()=>{const le=N||[],J=[];for(let ne=0;ne<le.length;ne+=wm)J.push(le.slice(ne,ne+wm));return J},[N]),W=P[C]||[],oe=async le=>{if(!le)return;const J=f?.current,ne=r?.current;let Q=!1;ne?Q=Zm(ne,le):J&&(Q=by(J,le)),Q?(K("Applied."),ne||y?.(le)):(await Km(le),K("Copied.")),window.setTimeout(()=>K(""),1200)};return s?Bo.createPortal(o.jsxs("div",{ref:v,className:"tour-popover power-verbs-popover",children:[o.jsxs("div",{className:"power-verbs-popover-header",children:[o.jsx("div",{className:"power-verbs-popover-title",children:"Power Verbs"}),o.jsx("button",{className:"power-verbs-popover-close",type:"button","aria-label":"Close",onClick:h,children:""})]}),o.jsx("div",{className:"power-verbs-feedback",children:k}),te?o.jsx("div",{className:"power-verbs-popover-grid",children:te}):o.jsx("div",{className:"power-verbs-popover-grid",children:W.map(le=>{const J=le?.verb||"",ne=le?.definition||m.get(String(J).toLowerCase())||"";return o.jsxs("button",{type:"button",className:"power-verb-card",onClick:()=>oe(J),children:[o.jsxs("div",{className:"power-verb-card-header",children:[o.jsx("div",{className:"power-verb-card-verb",children:J}),o.jsx("div",{className:"power-verb-card-copied",children:k})]}),o.jsx("div",{className:"power-verb-card-def",children:ne})]},J)})}),o.jsxs("div",{className:"power-verbs-popover-footer",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Y(le=>Math.max(le-1,0)),disabled:C===0,children:"Prev"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Y(le=>Math.min(le+1,P.length-1)),disabled:C>=P.length-1,children:"Next"})]})]}),document.body):null}const Zy="vysti_pill_hint_shown_v3__",Jm=s=>`${Zy}${String(s||"").trim()}`,Ky=s=>{if(!s)return!1;try{return sessionStorage.getItem(Jm(s))==="1"}catch{return!1}},Jy=s=>{if(s)try{sessionStorage.setItem(Jm(s),"1")}catch{}};function $y({isOpen:s,mode:c="anchor",anchorEl:f,data:r,nav:h,dismissKey:y,onClose:v}){const N=g.useRef(null);if(g.useLayoutEffect(()=>{if(!s||c!=="anchor"||!f||!N.current)return;const k=N.current,K=f.getBoundingClientRect(),te=12,I=12;k.style.display="block",k.style.visibility="hidden";const P=k.getBoundingClientRect();let W=K.bottom+te,oe=K.left+K.width/2-P.width/2;oe=Math.max(I,Math.min(oe,window.innerWidth-P.width-I)),W+P.height>window.innerHeight-I&&(W=K.top-te-P.height),k.style.top=`${Math.round(W)}px`,k.style.left=`${Math.round(oe)}px`,k.style.visibility="visible"},[f,s,c,r]),g.useEffect(()=>{if(!s)return;const k=I=>{N.current?.contains(I.target)||c==="anchor"&&f?.contains(I.target)||v?.()},K=I=>{I.key==="Escape"&&v?.()},te=()=>{if(!N.current||!f||c!=="anchor")return;const I=f.getBoundingClientRect(),P=12,W=12,oe=N.current.getBoundingClientRect();let le=I.bottom+P,J=I.left+I.width/2-oe.width/2;J=Math.max(W,Math.min(J,window.innerWidth-oe.width-W)),le+oe.height>window.innerHeight-W&&(le=I.top-P-oe.height),N.current.style.top=`${Math.round(le)}px`,N.current.style.left=`${Math.round(J)}px`};return document.addEventListener("mousedown",k,!0),document.addEventListener("touchstart",k,!0),document.addEventListener("keydown",K),window.addEventListener("resize",te),window.addEventListener("scroll",te,!0),()=>{document.removeEventListener("mousedown",k,!0),document.removeEventListener("touchstart",k,!0),document.removeEventListener("keydown",K),window.removeEventListener("resize",te),window.removeEventListener("scroll",te,!0)}},[f,s,c,v]),g.useEffect(()=>{s&&y&&Ky(y)&&v?.()},[y,s,v]),!s||!r)return null;const{title:S,body:m,subheader:D}=r,C=h?.count&&h?.count>1,Y=o.jsxs(o.Fragment,{children:[c==="modal"?o.jsx("div",{className:"pill-hint-backdrop"}):null,o.jsxs("div",{ref:N,className:`tour-popover pill-hint-popover${c==="modal"?" is-modal":""}`,role:"dialog","aria-modal":c==="modal"?"true":"false",children:[o.jsx("button",{className:"tour-close",type:"button","aria-label":"Close",onClick:v,children:""}),o.jsx("div",{className:"tour-arrow"}),o.jsx("div",{className:"tour-title",children:S||"Hint"}),o.jsx("div",{className:"tour-body",children:m||""}),D?o.jsx("div",{className:"pill-hint-subheader",children:D}):null,o.jsxs("div",{className:"pill-hint-footer",children:[C?o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>h?.go?.(-1),disabled:h?.canPrev?!h.canPrev():!1,children:"Prev"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>h?.go?.(1),disabled:h?.canNext?!h.canNext():!1,children:"Next"})]}):null,o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{y&&Jy(y),v?.()},children:"Got it"})]})]})]});return Bo.createPortal(Y,document.body)}let ku=null;function Fy(){if(ku)return ku;if(!window.supabase?.createClient)return null;const s=Ro(),{supabaseUrl:c,supabaseAnonKey:f}=s||{};return!c||!f?null:(ku=window.supabase.createClient(c,f),ku)}function Wy(){return`${location.pathname}${location.search}${location.hash}`}function $m(s){return`/signin.html?redirect=${encodeURIComponent(s||"")}`}function Iy(){location.replace($m(Wy()))}const Py=s=>$m(s),Nm=s=>{const c=Py(s);jn("auth_redirect",{redirectUrl:c}),Iy()};function eb(){const[s,c]=g.useState(null),[f,r]=g.useState(!0),[h,y]=g.useState(""),v=g.useRef(!0);return g.useEffect(()=>{v.current=!0;const N=Fy();if(c(N),!N){y("Supabase client not available."),r(!1),Pt("Supabase client not available");return}const S=async()=>{try{jn("auth_check_start");const{data:D}=await N.auth.getSession();if(!D?.session){jn("auth_session_missing"),Nm();return}localStorage.setItem("vysti_role","student"),v.current&&r(!1),jn("auth_session_valid")}catch(D){console.error("Failed to read session",D),v.current&&(y("Unable to verify session. Please refresh."),r(!1)),Pt("Auth check failed",{error:D?.message})}};S();const{data:m}=N.auth.onAuthStateChange(()=>{S()});return()=>{v.current=!1,m?.subscription?.unsubscribe()}},[]),{supa:s,isChecking:f,authError:h,redirectToSignin:Nm}}function tb({file:s,mode:c,includeSummaryTable:f=!1,assignmentName:r="",detectedWork:h=null}){const y=new FormData;if(y.append("file",s),y.append("mode",c),y.append("include_summary_table",f?"true":"false"),y.append("highlight_thesis_devices","false"),y.append("student_mode","true"),r&&r.trim()&&y.append("assignment_name",r.trim()),h?.confidence==="high"){const v=typeof h.text_is_minor_work=="boolean"?h.text_is_minor_work:h.isMinor;h.author&&y.append("author",h.author),h.title&&y.append("title",h.title),typeof v=="boolean"&&y.append("text_is_minor_work",v?"true":"false")}return y}function Eo(s){if(!s)return null;try{return JSON.parse(s)}catch{return s}}function nb({fileName:s,text:c,mode:f,detectedWork:r=null}){const h={file_name:s,text:c,mode:f,highlight_thesis_devices:!1,student_mode:!0};if(r?.confidence==="high"){const y=typeof r.text_is_minor_work=="boolean"?r.text_is_minor_work:r.isMinor;h.titles=[{author:r.author||"",title:r.title||"",is_minor:!!y}]}return h}function Tm(s,c){const f=URL.createObjectURL(s),r=document.createElement("a");r.href=f,r.download=c,r.click(),URL.revokeObjectURL(f)}async function lb({supa:s,file:c,mode:f,assignmentName:r,onSessionExpired:h,signal:y,timeoutMs:v}){if(jn("mark_start",{mode:f,fileName:c?.name||""}),!s)throw Pt("Supabase is not available"),new Error("Supabase is not available.");const{data:N,error:S}=await s.auth.getSession();if(S||!N?.session)throw h&&h(),Pt("Session expired before mark"),new Error("Session expired. Please sign in again.");const m=Vu();if(!m)throw Pt("Mark URL missing from config"),new Error("Missing API configuration. Please refresh.");try{const D=tb({file:c,mode:f,includeSummaryTable:!1,assignmentName:r}),C=await gs(`${m}/mark`,{method:"POST",headers:{Authorization:`Bearer ${N.session.access_token}`},body:D,signal:y},{timeoutMs:v});if(vs(C)){const K=new Error("Session expired");throw K.code="SESSION_EXPIRED",K}if(!C.ok)throw new Error(await ps(C));const Y=C.headers.get("X-Vysti-Techniques"),k=await C.blob();return jn("mark_success",{size:k.size}),{blob:k,techniquesHeader:Y,status:C.status}}catch(D){throw D?.code==="SESSION_EXPIRED"?(h&&h(),Pt("Session expired during mark"),new Error("Session expired. Please sign in again.")):(Pt("Mark failed",{error:D?.message}),D)}}async function ab({supa:s,payload:c,onSessionExpired:f,signal:r,timeoutMs:h}){if(jn("recheck_start"),!s)throw Pt("Supabase is not available"),new Error("Supabase is not available.");const{data:y,error:v}=await s.auth.getSession();if(v||!y?.session)throw f&&f(),Pt("Session expired before recheck"),new Error("Session expired. Please sign in again.");const N=Vu();if(!N)throw Pt("Recheck URL missing from config"),new Error("Missing API configuration. Please refresh.");try{const S=await gs(`${N}/mark_text`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.session.access_token}`},body:JSON.stringify(c),signal:r},{timeoutMs:h});if(vs(S)){const C=new Error("Session expired");throw C.code="SESSION_EXPIRED",C}if(!S.ok)throw new Error(await ps(S));const m=S.headers.get("X-Vysti-Techniques"),D=await S.blob();return jn("recheck_success",{size:D.size}),{blob:D,techniquesHeader:m}}catch(S){throw S?.code==="SESSION_EXPIRED"?(f&&f(),Pt("Session expired during recheck"),new Error("Session expired. Please sign in again.")):(Pt("Recheck failed",{error:S?.message}),S)}}const ib=s=>{if(!s)return{};if(typeof s=="object")return s;if(typeof s=="string")try{const c=JSON.parse(s);return c&&typeof c=="object"?c:{}}catch{return{}}return{}},sb=s=>{const c=ib(s);return Object.entries(c).reduce((f,[r,h])=>(r&&!Ju(r)&&(f[r]=h),f),{})},ub=s=>{const c=Object.entries(s||{}).map(([r,h])=>({label:r,count:Number(h)||0}));if(!c.length)return"";const f=c.sort((r,h)=>h.count-r.count||r.label.localeCompare(h.label))[0];return f?.label?`${f.label} (${f.count})`:""},cb=s=>Object.values(s||{}).reduce((c,f)=>c+(Number(f)||0),0);async function rb({supa:s,userId:c,fileName:f,limit:r=10}){const{data:h,error:y}=await s.from("mark_events").select("id, created_at, file_name, label_counts, issues").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(r);if(y)throw y;return(h||[]).map(v=>{const N=sb(v?.label_counts||{});return{id:v?.id,createdAt:v?.created_at,totalIssues:cb(N),topIssue:ub(N),labelCounts:N,issues:v?.issues||[]}})}const ob=1,fb=2e5,_m=s=>String(s||"").replace(/[:\n\r\t]/g,"_").replace(/\s+/g,"_").slice(0,120);function Ho({userId:s,fileName:c,mode:f}){const r=_m(c),h=_m(f);return`vysti:draft:${s||"anon"}:${r}:${h}`}function db({userId:s,fileName:c,mode:f}){try{const r=Ho({userId:s,fileName:c,mode:f}),h=localStorage.getItem(r);if(!h)return null;const y=JSON.parse(h);return!y?.text||!y?.savedAt?null:y}catch{return null}}function hb({userId:s,fileName:c,mode:f,text:r}){try{const h=Ho({userId:s,fileName:c,mode:f}),y={text:r,savedAt:new Date().toISOString(),version:ob};return localStorage.setItem(h,JSON.stringify(y)),y}catch{return null}}function mb({userId:s,fileName:c,mode:f}){try{const r=Ho({userId:s,fileName:c,mode:f});localStorage.removeItem(r)}catch{}}function gb(s){const c=String(s||"").trim();return!(!c||c.length<40||c.length>fb)}function pb(s,c){let f=0,r=null;return(...h)=>{const y=Date.now(),v=c-(y-f);if(v<=0){f=y,s(...h);return}r||(r=window.setTimeout(()=>{f=Date.now(),r=null,s(...h)},v))}}const vb=["vysti_student_helpers_disabled","vysti_student_tour_completed","vysti_student_tour_hide"],yi={type:"none",items:[],raw:"",error:""},yb=15*1024*1024,Am="vysti_metric_details_collapsed";function bb(){const{supa:s,isChecking:c,authError:f,redirectToSignin:r}=eb(),[h,y]=g.useState("textual_analysis"),[v,N]=g.useState(""),[S,m]=g.useState(null),[D,C]=g.useState(!1),[Y,k]=g.useState(!1),[K,te]=g.useState(!1),[I,P]=g.useState({message:"",kind:"info"}),[W,oe]=g.useState(null),[le,J]=g.useState(yi),[ne,Q]=g.useState(null),[F,ge]=g.useState(""),[Oe,pe]=g.useState(!1),[ye,Qe]=g.useState(!1),[et,ke]=g.useState(null),[R,O]=g.useState(""),[L,ce]=g.useState({hasSession:!1,email:""}),[fe,b]=g.useState(Bp),[z,X]=g.useState(!1),[$,de]=g.useState(!1),[re,Se]=g.useState(!1),[We,Ue]=g.useState(""),[qe,Nt]=g.useState({}),[Cn,Lt]=g.useState({}),[_e,Ve]=g.useState([]),[Ze,ft]=g.useState(!1),[en,kt]=g.useState(""),[Yt,mn]=g.useState(""),[tl,Mn]=g.useState(null),[Dt,Rn]=g.useState(null),[Tl,Gn]=g.useState(0),[yt,Dn]=g.useState([]),[nl,Tt]=g.useState(""),[Si,ct]=g.useState(""),[_t,zt]=g.useState(""),[at,zn]=g.useState(null),[na,tn]=g.useState(!1),[Ot,nn]=g.useState(null),[Qn,bt]=g.useState([]),[Zt,ln]=g.useState(!1),[xi,_l]=g.useState(""),[On,St]=g.useState(null),[Ei,gn]=g.useState([]),[la,Vn]=g.useState(""),[Al,pn]=g.useState(""),aa=g.useRef(""),[Da,At]=g.useState(null),[De,tt]=g.useState(null),[Zn,Un]=g.useState(!1),[ia,sa]=g.useState({open:!1,anchorEl:null,metricKey:null}),[Kn,vn]=g.useState({open:!1,anchorEl:null,textareaRef:null}),[ua,Bn]=g.useState(null),[Xt,yn]=g.useState({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null}),[Hn,w]=g.useState(null),[G,H]=g.useState(null),se=g.useRef(0),Z=ys(),ve=Mm(),ue=Vu(),Ye=ue?`${ue}/mark`:"",Ee=ue?`${ue}/mark_text`:"",Ae=ue?`${ue}/export_docx`:"",it=!!Z.featureFlags?.debugHardening,nt=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.revisionPracticeReact||E.get("practice")==="1"||localStorage.getItem("vysti_practice")==="1"},[Z.featureFlags?.revisionPracticeReact]),Ut=Z.rollout?.studentReact||{},bs=(Ut.allowEmails||[]).map(E=>String(E||"").toLowerCase()),Fu=Ut.allowUserIds||[],ll=L.email&&bs.includes(L.email.toLowerCase())||F&&Fu.includes(F),jl=g.useMemo(()=>new URLSearchParams(window.location.search).get("rolloutDebug")==="1",[]),za=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return ll||E.get("react")==="1"||jl},[ll,jl]),Ss=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.practiceNavigationReact||E.get("practiceNav")==="1"||localStorage.getItem("vysti_practice_nav")==="1"},[Z.featureFlags?.practiceNavigationReact]),Gt=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.practiceHighlightReact||E.get("practiceHL")==="1"||localStorage.getItem("vysti_practice_hl")==="1"},[Z.featureFlags?.practiceHighlightReact]),an=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.hardeningReact||E.get("hardening")==="1"||localStorage.getItem("vysti_hardening")==="1"},[Z.featureFlags?.hardeningReact]),al=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.cancelRequestsReact||E.get("cancel")==="1"||localStorage.getItem("vysti_cancel")==="1"},[Z.featureFlags?.cancelRequestsReact]),Oa=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.strictFileValidationReact||E.get("strict")==="1"||localStorage.getItem("vysti_strict_files")==="1"},[Z.featureFlags?.strictFileValidationReact]),Kt=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.statusToastsReact||E.get("statusToasts")==="1"||localStorage.getItem("vysti_status_toasts")==="1"},[Z.featureFlags?.statusToastsReact]),Cl=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.autosaveDraftReact||E.get("autosave")==="1"||localStorage.getItem("vysti_autosave")==="1"},[Z.featureFlags?.autosaveDraftReact]),xs=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Z.featureFlags?.revisionHistoryReact||E.get("history")==="1"||localStorage.getItem("vysti_history")==="1"},[Z.featureFlags?.revisionHistoryReact]),Ml=g.useMemo(()=>new URLSearchParams(window.location.search).get("attemptHistory")==="1",[]),il=xs&&(it||Ml),xt=g.useRef(null),sn=g.useRef(null),Ua=g.useRef(null),Es=g.useMemo(()=>mm[h]||mm.textual_analysis,[h]),Wu=g.useMemo(()=>Object.values(qe||{}).reduce((E,V)=>E+(Number(V)||0),0),[qe]);g.useEffect(()=>{if(new URLSearchParams(window.location.search).get("react")==="1"&&(ll||jl))try{localStorage.setItem("uiMode","react"),zt("react")}catch{}},[ll,jl]),g.useEffect(()=>{try{Un(localStorage.getItem(Am)==="1")}catch{Un(!1)}},[]),g.useEffect(()=>{try{zt(localStorage.getItem("uiMode")||"")}catch{zt("")}},[]),g.useEffect(()=>{let E=!0;return Oo().then(({list:V})=>{E&&w(yy(V))}),hv().then(({lexicon:V})=>{E&&H(V)}),()=>{E=!1}},[]),g.useEffect(()=>{const E=requestAnimationFrame(()=>{document.body.classList.add("popovers-ready")});return()=>cancelAnimationFrame(E)},[]),g.useEffect(()=>{if(!s||!S||!W){Nt({}),Lt({}),Ve([]),kt(""),ft(!1),Mn(null),Rn(null);return}if(Ot){const ee=Ot.labelCounts||{},Ne=Ot.issues||[];if(Lt(ee),Nt(Ra(ee,yt,S?.name)),Ve(Ne),kt(""),ft(!1),Mn(Ot.id||null),Rn(Ot||null),!Yt){const Te=Object.keys(ee||{})[0]||"";mn(Te)}return}let E=!0;return(async()=>{ft(!0),kt("");try{const{data:ee,error:Ne}=await s.auth.getSession();if(Ne||!ee?.session?.user?.id)throw new Error("Session expired. Please sign in again.");let Te=0,Et=null;for(;Te<5;){if(!E)return;const{markEvent:Fn,labelCountsFiltered:Xa,issuesFiltered:bn}=await Xm({supa:s,userId:ee.session.user.id,fileName:S.name});if(Fn){Et={markEvent:Fn,labelCountsFiltered:Xa,issuesFiltered:bn};break}Te+=1,Te<5&&await new Promise(rl=>setTimeout(rl,400))}if(!E)return;if(!Et?.markEvent){kt("Revision data is still syncing  try Recheck or click Refresh."),Lt({}),Nt({}),Ve([]),Mn(null),Rn(null);return}if(Lt(Et.labelCountsFiltered||{}),Nt(Ra(Et.labelCountsFiltered||{},yt,S?.name)),Ve(Et.issuesFiltered||[]),Mn(Et.markEvent?.id||null),Rn(Et.markEvent||null),!Yt){const Fn=Object.keys(Et.labelCountsFiltered||{})[0]||"";mn(Fn)}}catch(ee){if(!E)return;kt(ee?.message||"Failed to load issue data."),Nt({}),Ve([]),Mn(null),Rn(null)}finally{E&&ft(!1)}})(),()=>{E=!1}},[s,S,W,Ot,Yt,yt,Tl]),g.useEffect(()=>{if(!S?.name){Dn([]);return}const E=jo({markEventId:tl,fileName:S.name});Dn(E)},[tl,S?.name]),g.useEffect(()=>{S?.name&&Nt(Ra(Cn,yt,S.name))},[yt,Cn,S?.name]),g.useEffect(()=>{W||(Tt(""),ct(""))},[W]),g.useEffect(()=>{if(!W||!xt.current||!S?.name)return;const E=window.setTimeout(()=>{my(xt.current,yt,S.name)},300);return()=>window.clearTimeout(E)},[yt,W,S?.name]),g.useEffect(()=>{if(!W){At(null),tt(null);return}return Rl(80),()=>{se.current&&window.clearTimeout(se.current)}},[W,h,qe,tl,Hn,G]),g.useEffect(()=>{if(!s)return;let E=!0;const V=async()=>{try{const{data:Ne}=await s.auth.getSession();if(!E)return;ge(Ne?.session?.user?.id||"")}catch{if(!E)return;ge("")}};V();const{data:ee}=s.auth.onAuthStateChange(()=>{V()});return()=>{E=!1,ee?.subscription?.unsubscribe()}},[s]),g.useEffect(()=>{if(!s)return;const{data:E}=s.auth.onAuthStateChange((V,ee)=>{ee||(localStorage.removeItem("vysti_role"),r())});return()=>{E?.subscription?.unsubscribe()}},[r,s]),g.useEffect(()=>{if(!s)return;let E=!0;const V=async()=>{try{const{data:Ne}=await s.auth.getSession();if(!E)return;ce({hasSession:!!Ne?.session,email:Ne?.session?.user?.email||""})}catch{if(!E)return;ce({hasSession:!1,email:""})}};V();const{data:ee}=s.auth.onAuthStateChange(()=>{V()});return()=>{E=!1,ee?.subscription?.unsubscribe()}},[s]);const qn=E=>{if(!Kt)return;const V=`${Date.now()}-${Math.random().toString(16).slice(2)}`;gn(ee=>[...ee,{id:V,...E}])},Ln=E=>{gn(V=>V.filter(ee=>ee.id!==E))},dt=(E,V=null)=>{P({message:E,kind:"error"}),Kt&&qn({kind:"error",title:"Error",message:E,details:V})},ca=E=>{P({message:E,kind:"success"}),Kt&&qn({kind:"success",title:"Success",message:E})},Jn=()=>{P({message:"",kind:"info"})},Qt=()=>{Bn(null),sa({open:!1,anchorEl:null,metricKey:null}),vn({open:!1,anchorEl:null,textareaRef:null}),yn({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null})},ws=()=>{const E=xt.current;if(!E)return;const V=Ma(E);if(!V)return;const ee=xv(V);At(Number.isFinite(ee)?ee:null);const Ne=gv(V,h,{labelCounts:qe,markEventId:tl,powerVerbFormsSet:Hn,thesisDevicesLexicon:G});tt(Ne)},Rl=(E=350)=>{se.current&&window.clearTimeout(se.current),se.current=window.setTimeout(()=>{ws()},E)},Ba=E=>{const V=xy();return St({kind:E,cancel:V.cancel}),V},sl=()=>{St(null)},Bt=()=>{P({message:"Session expiredsigning you back in",kind:"error"}),jn("session_expired"),window.setTimeout(()=>{const E=`${window.location.pathname}${window.location.search}`;r(E)},150)},Ha=E=>{if(!E)return{type:"none",items:[],raw:"",error:""};const V=Eo(E);if(Array.isArray(V)){const ee=V.every(Te=>typeof Te=="string"),Ne=V.every(Te=>Te&&typeof Te=="object"&&!Array.isArray(Te));if(ee)return{type:"strings",items:V,raw:E,error:""};if(Ne)return{type:"objects",items:V,raw:E,error:""}}return typeof V=="string"?{type:"invalid",items:[],raw:V,error:"Techniques header present but invalid JSON"}:{type:"invalid",items:[],raw:E,error:"Techniques header present but invalid JSON"}},Dl=()=>We||(S?.name||"essay.docx").replace(/\.docx$/i,"")||"essay",$n=()=>`${Dl()}_marked.docx`,qa=()=>`${Dl()}_revised.docx`,La=E=>{const V=[E?.name?.trim(),E?.teacher?.trim(),E?.assignment?.trim(),E?.date?.trim()].filter(Boolean);return V.length?`${V.join(`
`)}

`:""},wi=E=>E?(E.name?.toLowerCase()||"").endsWith(".docx")||E.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document":!1,ra=E=>E?wi(E)?E.size>yb?{ok:!1,message:"File is too large (max 15MB)."}:{ok:!0,message:""}:{ok:!1,message:"Only .docx files are allowed."}:{ok:!1,message:"No file selected."},oa=E=>{if(Oa){const V=ra(E);if(!V.ok){E&&Pt("Invalid file selected",{fileName:E?.name||"",reason:V.message}),Vn(V.message),dt(V.message),m(null),oe(null),J(yi),Q(null),ke(null),O(""),X(!1),Ue(""),Tt(""),ct(""),sn.current&&(sn.current.value="");return}}else if(!E||!wi(E)){E&&(dt("Please upload a .docx file."),Pt("Invalid file type selected",{fileName:E?.name||""})),m(null),oe(null),J(yi),Q(null),ke(null),O(""),X(!1),Ue(""),Tt(""),ct(""),sn.current&&(sn.current.value="");return}Jn(),Vn(""),m(E),oe(null),J(yi),Q(null),ke(null),O(""),X(!1),Ue(""),Tt(""),ct(""),jn("file_selected",{fileName:E?.name||""})},Ns=()=>{sn.current?.click()},Ht=E=>{const V=E.target.files?.[0];pn(""),oa(V)},ul=E=>{E.preventDefault(),E.stopPropagation(),C(!1),pn("");const V=E.dataTransfer?.files?.[0];oa(V)},ka=E=>{if(E.preventDefault(),E.stopPropagation(),C(!0),!Oa){pn("Drop to upload");return}const ee=E.dataTransfer?.items?.[0]?.getAsFile?.()||E.dataTransfer?.files?.[0];if(!ee){pn("Drop to upload");return}const Ne=ra(ee);pn(Ne.ok?"Drop to upload":Ne.message)},fa=()=>{C(!1),pn("")},Iu=()=>{m(null),oe(null),J(yi),Q(null),ke(null),O(""),X(!1),Ue(""),Vn(""),Tt(""),ct(""),At(null),tt(null),Qt(),Jn(),sn.current&&(sn.current.value="")},Ni=async()=>{if(!S){dt("Please select a .docx file first.");return}if(cl)return;Qt(),k(!0),P({message:an?"Uploading...":"Processing...",kind:"info"}),Kt&&qn({kind:"info",title:"Marking",message:"Uploading essay..."}),ke(null),O("");const E=an||al?Ba("mark"):null;try{const{blob:V,techniquesHeader:ee,status:Ne}=await lb({supa:s,file:S,mode:h,assignmentName:v,onSessionExpired:Bt,signal:E?.signal,timeoutMs:an?9e4:void 0});P({message:an?"Rendering preview...":"Marked successfully. Scroll down to Preview.",kind:"info"}),oe(V),J(Ha(ee));const Te=Eo(ee);Q(Array.isArray(Te)?Te:null),X(!1),Rl(120),Tt(""),ct("");const Et=(S?.name||"essay.docx").replace(/\.docx$/i,"")||"essay";Ue(Et),nn(null),il&&zl(),ke({status:Ne,ok:!0}),ca("Marked successfully. Scroll down to Preview.")}catch(V){if(console.error("Mark failed",V),V?.code==="TIMEOUT")dt("This took too long. Try again (or check connection).",V);else if(V?.code==="ABORTED")P({message:"Canceled.",kind:"info"});else{const ee=V?.message||"Failed to mark essay. Please try again.";ke({status:V?.status??null,ok:!1}),O(ee),dt(ee,V)}}finally{E?.clear?.(),E&&sl(),k(!1)}},Ti=E=>{E.preventDefault(),Ni()},da=E=>({...nb({fileName:S?.name||"essay.docx",text:E,mode:h}),include_summary_table:!1}),Ya=()=>{if(!W)return;const E=$n();Tm(W,E),jn("download_started",{fileName:E})},Ts=()=>{m(null),oe(null),J(yi),Q(null),ke(null),O(""),X(!1),Ue(""),Vn(""),zn(null),tn(!1),nn(null),bt([]),Tt(""),ct(""),At(null),tt(null),Qt(),Jn(),sn.current&&(sn.current.value="")},Pu=async()=>{if(!W||cl)return;Qt();const E=Ma(xt.current);if(!E){dt("Please add text to the preview before rechecking.");return}te(!0),P({message:"Rechecking...",kind:"info"}),Kt&&qn({kind:"info",title:"Rechecking",message:"Rechecking essay..."});const V=an||al?Ba("recheck"):null;try{const{blob:ee,techniquesHeader:Ne}=await ab({supa:s,payload:da(E),onSessionExpired:Bt,signal:V?.signal,timeoutMs:an?6e4:void 0});oe(ee),J(Ha(Ne));const Te=Eo(Ne);Q(Array.isArray(Te)?Te:null),X(!1),Rl(120),Tt(""),ct(""),nn(null),il&&zl(),ca("Rechecked ")}catch(ee){if(console.error("Recheck failed",ee),ee?.code==="TIMEOUT")dt("This took too long. Try again (or check connection).",ee);else if(ee?.code==="ABORTED")P({message:"Canceled.",kind:"info"});else{const Ne=ee?.message||"Failed to recheck essay. Please try again.";dt(Ne,ee)}}finally{V?.clear?.(),V&&sl(),te(!1)}},_i=()=>{X(!0),Rl(350)},ec=E=>{if(!E){Tt(""),ct("");return}Tt(E?.message||"Preview render failed"),ct(E?.stack||"")},Ai=()=>{oe(null),X(!1),Tt(""),ct(""),At(null),tt(null)},tc=()=>{Gn(E=>E+1)},nc=()=>{const E=document.getElementById("revisionPracticeCard");E&&E.scrollIntoView({behavior:"smooth",block:"start"})},lc=()=>{al&&On?.cancel&&(On.cancel(),qn({kind:"warn",title:"Canceled",message:"Request canceled."}),P({message:"Canceled.",kind:"info"}))},ac=async E=>{if(E){if(!s){dt("Supabase is not available.");return}if(!ue){dt("Missing API configuration. Please refresh.");return}try{const{data:V,error:ee}=await s.auth.getSession();if(ee||!V?.session){Bt();return}const Ne=qa(),Te=await gs(`${ue}/export_docx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V.session.access_token}`},body:JSON.stringify({file_name:Ne,text:E})},{timeoutMs:6e4});if(vs(Te)){Bt();return}if(!Te.ok)throw new Error(await ps(Te));const Et=await Te.blob();oe(Et),X(!0),P({kind:"success",message:"Draft restored into preview."}),zn(null),tn(!0)}catch(V){console.error("Draft restore failed",V),dt(V?.message||"Failed to restore draft.")}}},ic=()=>{at?.text&&ac(at.text)},_s=()=>{tn(!0)},sc=()=>{!S||!F||(mb({userId:F,fileName:S.name,mode:h}),zn(null),tn(!0),P({kind:"info",message:"Draft deleted."}))},uc=E=>{if(!Ss)return;const V=xt.current;if(!V){P({kind:"error",message:"Preview is not ready yet."});return}const ee=$u(V,E);if(!ee||!ee.el){P({kind:"error",message:"Couldnt find that sentence in the preview (docx HTML mismatch)."});return}Z.featureFlags?.debugPracticeNavigation&&console.log("[practiceNav] match score:",ee.score,"sentence:",E),Qm(ee.el)},cc=E=>{if(!Gt)return;const V=xt.current;if(!V)return;const ee=ay(V,E);P({kind:"info",message:`Highlighted ${ee} matching paragraphs in the preview.`})},rc=()=>{const E=xt.current;E&&(zo(E),P({kind:"info",message:"Highlights cleared."}))};g.useEffect(()=>{if(!Cl||!F||!S||!xt.current)return;const E=xt.current,ee=pb(()=>{const Ne=Ma(E);if(!gb(Ne)||Ne===aa.current)return;aa.current=Ne;const Te=hb({userId:F,fileName:S.name,mode:h,text:Ne});Te&&zn(Te),Z.featureFlags?.debugAutosave&&console.log("[autosave] saved",{length:Ne.length,savedAt:Te?.savedAt||""})},2500);return E.addEventListener("input",ee),E.addEventListener("paste",ee),()=>{E.removeEventListener("input",ee),E.removeEventListener("paste",ee)}},[Cl,F,S,h,xt,Z.featureFlags?.debugAutosave]),g.useEffect(()=>{if(!Cl||!F||!S)return;const E=db({userId:F,fileName:S.name,mode:h});E?.text?(zn(E),tn(!1)):zn(null)},[Cl,F,S,h]);async function zl(){if(!(!il||!s||!F||!S)){ln(!0),_l("");try{const E=await rb({supa:s,userId:F,fileName:S.name,limit:10});bt(E),Z.featureFlags?.debugHistory&&console.log("[history] attempts",E.map(V=>V.id))}catch(E){_l(E?.message||"Failed to load history.")}finally{ln(!1)}}}g.useEffect(()=>{if(!il||!F||!S){bt([]),_l("");return}zl()},[il,F,S]);const oc=()=>{!W||!z||Se(!0)},fc=()=>{Un(E=>{const V=!E;try{localStorage.setItem(Am,V?"1":"0")}catch{}return V})},dc=E=>{const V=E?.currentTarget?.dataset?.metric;V&&(Qt(),sa({open:!0,anchorEl:E.currentTarget,metricKey:V}))},As=E=>{Qt(),vn({open:!0,anchorEl:E?.currentTarget||null,textareaRef:null})},hc=({anchorEl:E,textareaRef:V})=>{Qt(),vn({open:!0,anchorEl:E||null,textareaRef:V||null})},mc=({anchorEl:E,mode:V="anchor",data:ee,nav:Ne,dismissKey:Te})=>{ee&&(Qt(),yn({open:!0,mode:V,anchorEl:E||null,data:ee,nav:Ne||null,dismissKey:Te||null}))},js=async({includeMla:E,fields:V})=>{if(!W||cl)return;if(!s){dt("Supabase is not available.");return}const ee=Ma(xt.current);if(!ee){dt("Could not extract text from preview.");return}de(!0),P({message:"Preparing download...",kind:"info"}),Kt&&qn({kind:"info",title:"Exporting",message:"Preparing download..."});const Ne=an||al?Ba("export"):null;try{const{data:Te,error:Et}=await s.auth.getSession();if(Et||!Te?.session){Bt();return}if(!ue){dt("Missing API configuration. Please refresh.");return}const Fn=qa(),Xa=E?`${La(V)}${Ev(ee)}`:ee,bn=await gs(`${ue}/export_docx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te.session.access_token}`},body:JSON.stringify({file_name:Fn,text:Xa}),signal:Ne?.signal},{timeoutMs:an?6e4:void 0});if(vs(bn)){Bt();return}if(!bn.ok)throw new Error(await ps(bn));const rl=await bn.blob();Tm(rl,Fn),X(!1),ca("Revised essay downloaded.")}catch(Te){if(console.error("Download revised failed",Te),Te?.code==="TIMEOUT")dt("This took too long. Try again (or check connection).",Te);else if(Te?.code==="ABORTED")P({message:"Canceled.",kind:"info"});else{const Et=Te?.message||"Failed to download revised essay.";dt(Et,Te)}}finally{Ne?.clear?.(),Ne&&sl(),de(!1),Se(!1)}},gc=async()=>{if(!s){window.location.replace(`/signin.html?redirect=${encodeURIComponent("/student_react.html")}`);return}try{await s.auth.signOut()}finally{localStorage.removeItem("vysti_role"),window.location.replace(`/signin.html?redirect=${encodeURIComponent("/student_react.html")}`)}},Cs=E=>{try{localStorage.setItem("uiMode",E),zt(E)}catch{}},pc=()=>{try{localStorage.removeItem("uiMode"),zt("")}catch{}},Ms=()=>{Cs("classic"),window.location.replace("/student.html?classic=1")},Rs=()=>{if(!ll&&!jl){P({message:"React beta is currently allowlist-only. Ask a teacher for access.",kind:"error"});return}Cs("react"),window.location.replace("/student_react.html?react=1")},vc=()=>{vb.forEach(E=>localStorage.removeItem(E)),Ua.current?.restartTour({force:!0})},ji=g.useMemo(()=>ye?{buildId:Z.buildId,url:window.location.href,uiMode:(()=>{try{return localStorage.getItem("uiMode")||""}catch{return""}})(),apiBaseUrl:ue,markUrl:Ye,markTextUrl:Ee,exportUrl:Ae,techniquesParsedCount:Array.isArray(ne)?ne.length:null,supabaseUrl:Z.supabaseUrl,auth:{hasSession:L.hasSession,email:L.email},lastMark:{status:et?.status??null,ok:et?.ok??null,error:R},configError:ve?ve.message||String(ve):""}:null,[ue,L,Z.buildId,Z.supabaseUrl,ve,Ae,R,et,Ee,Ye,ye,ne]),ha=g.useMemo(()=>{if(!ye)return null;try{return JSON.parse(sessionStorage.getItem("rolloutReason")||"null")}catch{return null}},[ye]);if(c)return o.jsx("main",{className:"page student-page student-react-shell",children:o.jsx("div",{className:"card form-card",children:o.jsx("p",{children:"Checking session..."})})});if(f)return o.jsx("main",{className:"page student-page student-react-shell",children:o.jsx("div",{className:"card form-card",children:o.jsx("p",{children:f})})});const yc=!c&&!f,Ds=!!I.message||!!W,cl=an||al?!!On:!1,zs=I.kind==="success"?" success":I.kind==="error"?" error":"";return o.jsxs("div",{className:"student-react-shell",children:[Kt?o.jsx(Yy,{toasts:Ei,onDismiss:Ln}):null,Z.featureFlags?.reactBeta?o.jsx(qp,{}):null,o.jsx(Mv,{onProgress:()=>window.location.assign("/student_progress.html"),onTeacher:()=>{localStorage.setItem("vysti_role","teacher"),window.location.assign("/index.html")},onRepeatTutorial:vc,onSignOut:gc,onBackToClassic:Ms,onSwitchToReact:Rs,showReactSwitch:za}),o.jsx(Cv,{ref:Ua,authReady:yc,selectedFile:S,markedBlob:W,hasResults:Ds,previewRef:xt}),o.jsxs("main",{className:"page student-page",children:[o.jsx(Xy,{visible:Cl&&!na&&!!at?.text,savedAt:at?.savedAt,onRestore:ic,onDismiss:_s,onDelete:sc}),o.jsxs("form",{className:"marker-grid",onSubmit:Ti,children:[o.jsxs("section",{className:"card form-card",children:[o.jsx(Zp,{mode:h,onChange:y}),o.jsx(Kp,{label:Rm.find(E=>E.value===h)?.label||"Analytic essay",description:Es.description,details:Es.details}),o.jsx(Rv,{assignmentName:v,onChange:N}),o.jsx("button",{className:`primary-btn${Y?" is-loading loading-cursor":""}`,id:"checkBtn",type:"submit",disabled:!S||Y||cl,children:Y?"Processing":"Mark my essay"})]}),o.jsx(Dv,{selectedFile:S,isDragOver:D,dragMessage:Al,validationError:la,onBrowseClick:Ns,onFileChange:Ht,onDrop:ul,onDragOver:ka,onDragLeave:fa,onClearFile:Iu,fileInputRef:sn}),o.jsxs("section",{className:"card rules-card",id:"resultsCard",children:[o.jsx("div",{id:"statusArea",className:`status-area${zs}`,role:"status","aria-live":"polite",children:I.message}),o.jsxs("div",{className:"results-actions",children:[al&&On?o.jsxs("button",{className:"secondary-btn",type:"button",onClick:lc,children:["Cancel ",On.kind]}):null,o.jsx("button",{className:"secondary-btn",type:"button",style:{display:S?"inline-flex":"none"},onClick:Ts,children:"Clear / Start over"})]}),nt?o.jsxs(o.Fragment,{children:[Ze?o.jsx("p",{className:"helper-text",children:"Loading issue data"}):null,en?o.jsxs("div",{className:"helper-text error-text",children:[o.jsx("p",{children:en}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:tc,children:"Refresh issue data"})]}):null,o.jsx(ky,{labelCounts:qe,issues:_e,markEventId:tl,onSelectLabel:E=>{mn(E),nc()}})]}):null]})]}),nt&&W?o.jsx(Gu,{inline:!0,title:"Something broke while rendering revision practice.",message:"Try reloading or continue without this panel.",children:o.jsx(Dy,{enabled:nt,requestActive:cl,practiceNavEnabled:Ss,practiceHighlightEnabled:Gt,externalAttempt:Ot,onClearExternalAttempt:()=>nn(null),supa:s,selectedFile:S,markedBlob:W,previewRef:xt,techniques:le,dismissedIssues:yt,onDismissedIssuesChange:Dn,selectedLabelOverride:Yt,onSelectedLabelChange:E=>mn(E),onOpenDiagnostics:()=>Qe(!0),onNavigateToExample:uc,onHighlightExamples:cc,onClearHighlights:rc,mode:h,onPreviewEdited:_i,onOpenPowerVerbs:hc})}):null,o.jsx(Gu,{inline:!0,title:"Something broke while rendering the preview.",message:"Try reloading or use the classic view.",children:o.jsx(bv,{markedBlob:W,zoom:fe,onZoomChange:b,previewRef:xt,onRecheck:Pu,isRechecking:K,isProcessing:Y||cl,onEdit:_i,onDownloadMarked:Ya,onDownloadRevised:oc,isDownloading:$,hasRevisedSinceMark:z,wordCount:Da,totalIssues:Wu,metrics:De,metricsCollapsed:Zn,onToggleMetricsDetails:fc,onOpenMetricInfo:dc,onOpenPillHint:mc,onOpenPowerVerbs:As,hint:ua,onDismissHint:()=>Bn(null),mode:h,previewError:nl,previewErrorStack:Si,showDebug:it,onClearPreview:Ai,onPreviewError:ec})}),il?o.jsx(Gy,{enabled:il,attempts:Qn,selectedAttemptId:Ot?.id||null,onSelectAttempt:E=>nn(E),onRefresh:zl,isLoading:Zt,error:xi}):null,o.jsx(Ov,{isOpen:Oe,onToggle:()=>pe(E=>!E),data:le}),o.jsx(Gu,{inline:!0,title:"Something broke while rendering diagnostics.",message:"Try reloading or continue without diagnostics.",children:o.jsx(Vp,{isOpen:ye,onToggle:()=>Qe(E=>!E),data:ji,rolloutConfig:Ut,rolloutReason:ha,uiMode:_t,buildId:Z.buildId,onForceClassic:Ms,onForceReact:Rs,onClearUiMode:pc})}),o.jsx(zp,{})]}),o.jsx(Qy,{isOpen:ia.open,anchorEl:ia.anchorEl,metricKey:ia.metricKey,onClose:()=>sa({open:!1,anchorEl:null,metricKey:null})}),o.jsx(Vy,{isOpen:Kn.open,anchorEl:Kn.anchorEl,previewRef:xt,textareaRef:Kn.textareaRef,onClose:()=>vn({open:!1,anchorEl:null,textareaRef:null}),onVerbApplied:()=>_i()}),o.jsx($y,{isOpen:Xt.open,mode:Xt.mode,anchorEl:Xt.anchorEl,data:Xt.data,nav:Xt.nav,dismissKey:Xt.dismissKey,onClose:()=>yn({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null})}),o.jsx(Uv,{isOpen:re,initialAssignmentName:v,isBusy:$,onCancel:()=>Se(!1),onDownloadAsIs:()=>js({includeMla:!1}),onDownloadMla:E=>js({includeMla:!0,fields:E})})]})}const Sb=document.getElementById("root"),Fm=Dp.createRoot(Sb),xb=()=>{Fm.render(o.jsx("main",{className:"page student-page student-react-shell",children:o.jsx("div",{className:"card form-card",children:o.jsx("p",{children:"Loading"})})}))},Eb=new URLSearchParams(window.location.search);if(Eb.get("classic")==="1"){try{localStorage.setItem("uiMode","classic")}catch{}window.location.replace("/student.html?classic=1")}else xb(),(async()=>{try{await Cm()}catch(s){console.warn("Runtime config init failed:",s)}try{await Hp();const s=ys(),c=Mm();c&&console.warn("Config error:",c),kp(s)}catch(s){console.error("Config init failed:",s)}Fm.render(o.jsx(g.StrictMode,{children:o.jsx(Gu,{children:o.jsx(bb,{})})}))})();
