(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))r(h);new MutationObserver(h=>{for(const y of h)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function f(h){const y={};return h.integrity&&(y.integrity=h.integrity),h.referrerPolicy&&(y.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?y.credentials="include":h.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function r(h){if(h.ep)return;h.ep=!0;const y=f(h);fetch(h.href,y)}})();var oo={exports:{}},ms={};var tm;function Ep(){if(tm)return ms;tm=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function f(r,h,y){var v=null;if(y!==void 0&&(v=""+y),h.key!==void 0&&(v=""+h.key),"key"in h){y={};for(var N in h)N!=="key"&&(y[N]=h[N])}else y=h;return h=y.ref,{$$typeof:s,type:r,key:v,ref:h!==void 0?h:null,props:y}}return ms.Fragment=c,ms.jsx=f,ms.jsxs=f,ms}var nm;function wp(){return nm||(nm=1,oo.exports=Ep()),oo.exports}var o=wp(),fo={exports:{}},Se={};var lm;function Np(){if(lm)return Se;lm=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),Y=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=Y&&b[Y]||b["@@iterator"],typeof b=="function"?b:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,$={};function I(b,z,G){this.props=b,this.context=z,this.refs=$,this.updater=G||Z}I.prototype.isReactComponent={},I.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},I.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function F(){}F.prototype=I.prototype;function ce(b,z,G){this.props=b,this.context=z,this.refs=$,this.updater=G||Z}var ne=ce.prototype=new F;ne.constructor=ce,P(ne,I.prototype),ne.isPureReactComponent=!0;var K=Array.isArray;function ee(){}var Q={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function pe(b,z,G){var J=G.ref;return{$$typeof:s,type:b,key:z,ref:J!==void 0?J:null,props:G}}function ze(b,z){return pe(b.type,z,b.props)}function ve(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function ye(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(G){return z[G]})}var Ge=/\/+/g;function et(b,z){return typeof b=="object"&&b!==null&&b.key!=null?ye(""+b.key):z.toString(36)}function Le(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ee,ee):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function M(b,z,G,J,re){var ue=typeof b;(ue==="undefined"||ue==="boolean")&&(b=null);var xe=!1;if(b===null)xe=!0;else switch(ue){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(b.$$typeof){case s:case c:xe=!0;break;case D:return xe=b._init,M(xe(b._payload),z,G,J,re)}}if(xe)return re=re(b),xe=J===""?"."+et(b,0):J,K(re)?(G="",xe!=null&&(G=xe.replace(Ge,"$&/")+"/"),M(re,z,G,"",function(Je){return Je})):re!=null&&(ve(re)&&(re=ze(re,G+(re.key==null||b&&b.key===re.key?"":(""+re.key).replace(Ge,"$&/")+"/")+xe)),z.push(re)),1;xe=0;var We=J===""?".":J+":";if(K(b))for(var Ue=0;Ue<b.length;Ue++)J=b[Ue],ue=We+et(J,Ue),xe+=M(J,z,G,ue,re);else if(Ue=k(b),typeof Ue=="function")for(b=Ue.call(b),Ue=0;!(J=b.next()).done;)J=J.value,ue=We+et(J,Ue++),xe+=M(J,z,G,ue,re);else if(ue==="object"){if(typeof b.then=="function")return M(Le(b),z,G,J,re);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function O(b,z,G){if(b==null)return b;var J=[],re=0;return M(b,J,"","",function(ue){return z.call(G,ue,re++)}),J}function L(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(G){(b._status===0||b._status===-1)&&(b._status=1,b._result=G)},function(G){(b._status===0||b._status===-1)&&(b._status=2,b._result=G)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var se=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},me={map:O,forEach:function(b,z,G){O(b,function(){z.apply(this,arguments)},G)},count:function(b){var z=0;return O(b,function(){z++}),z},toArray:function(b){return O(b,function(z){return z})||[]},only:function(b){if(!ve(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Se.Activity=C,Se.Children=me,Se.Component=I,Se.Fragment=f,Se.Profiler=h,Se.PureComponent=ce,Se.StrictMode=r,Se.Suspense=S,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},Se.cache=function(b){return function(){return b.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(b,z,G){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var J=P({},b.props),re=b.key;if(z!=null)for(ue in z.key!==void 0&&(re=""+z.key),z)!W.call(z,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&z.ref===void 0||(J[ue]=z[ue]);var ue=arguments.length-2;if(ue===1)J.children=G;else if(1<ue){for(var xe=Array(ue),We=0;We<ue;We++)xe[We]=arguments[We+2];J.children=xe}return pe(b.type,re,J)},Se.createContext=function(b){return b={$$typeof:v,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:y,_context:b},b},Se.createElement=function(b,z,G){var J,re={},ue=null;if(z!=null)for(J in z.key!==void 0&&(ue=""+z.key),z)W.call(z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=z[J]);var xe=arguments.length-2;if(xe===1)re.children=G;else if(1<xe){for(var We=Array(xe),Ue=0;Ue<xe;Ue++)We[Ue]=arguments[Ue+2];re.children=We}if(b&&b.defaultProps)for(J in xe=b.defaultProps,xe)re[J]===void 0&&(re[J]=xe[J]);return pe(b,ue,re)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(b){return{$$typeof:N,render:b}},Se.isValidElement=ve,Se.lazy=function(b){return{$$typeof:D,_payload:{_status:-1,_result:b},_init:L}},Se.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},Se.startTransition=function(b){var z=Q.T,G={};Q.T=G;try{var J=b(),re=Q.S;re!==null&&re(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ee,se)}catch(ue){se(ue)}finally{z!==null&&G.types!==null&&(z.types=G.types),Q.T=z}},Se.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Se.use=function(b){return Q.H.use(b)},Se.useActionState=function(b,z,G){return Q.H.useActionState(b,z,G)},Se.useCallback=function(b,z){return Q.H.useCallback(b,z)},Se.useContext=function(b){return Q.H.useContext(b)},Se.useDebugValue=function(){},Se.useDeferredValue=function(b,z){return Q.H.useDeferredValue(b,z)},Se.useEffect=function(b,z){return Q.H.useEffect(b,z)},Se.useEffectEvent=function(b){return Q.H.useEffectEvent(b)},Se.useId=function(){return Q.H.useId()},Se.useImperativeHandle=function(b,z,G){return Q.H.useImperativeHandle(b,z,G)},Se.useInsertionEffect=function(b,z){return Q.H.useInsertionEffect(b,z)},Se.useLayoutEffect=function(b,z){return Q.H.useLayoutEffect(b,z)},Se.useMemo=function(b,z){return Q.H.useMemo(b,z)},Se.useOptimistic=function(b,z){return Q.H.useOptimistic(b,z)},Se.useReducer=function(b,z,G){return Q.H.useReducer(b,z,G)},Se.useRef=function(b){return Q.H.useRef(b)},Se.useState=function(b){return Q.H.useState(b)},Se.useSyncExternalStore=function(b,z,G){return Q.H.useSyncExternalStore(b,z,G)},Se.useTransition=function(){return Q.H.useTransition()},Se.version="19.2.4",Se}var am;function jo(){return am||(am=1,fo.exports=Np()),fo.exports}var g=jo(),ho={exports:{}},gs={},mo={exports:{}},go={};var im;function Tp(){return im||(im=1,(function(s){function c(M,O){var L=M.length;M.push(O);e:for(;0<L;){var se=L-1>>>1,me=M[se];if(0<h(me,O))M[se]=O,M[L]=me,L=se;else break e}}function f(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],L=M.pop();if(L!==O){M[0]=L;e:for(var se=0,me=M.length,b=me>>>1;se<b;){var z=2*(se+1)-1,G=M[z],J=z+1,re=M[J];if(0>h(G,L))J<me&&0>h(re,G)?(M[se]=re,M[J]=L,se=J):(M[se]=G,M[z]=L,se=z);else if(J<me&&0>h(re,L))M[se]=re,M[J]=L,se=J;else break e}}return O}function h(M,O){var L=M.sortIndex-O.sortIndex;return L!==0?L:M.id-O.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;s.unstable_now=function(){return y.now()}}else{var v=Date,N=v.now();s.unstable_now=function(){return v.now()-N}}var S=[],m=[],D=1,C=null,Y=3,k=!1,Z=!1,P=!1,$=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ne(M){for(var O=f(m);O!==null;){if(O.callback===null)r(m);else if(O.startTime<=M)r(m),O.sortIndex=O.expirationTime,c(S,O);else break;O=f(m)}}function K(M){if(P=!1,ne(M),!Z)if(f(S)!==null)Z=!0,ee||(ee=!0,ye());else{var O=f(m);O!==null&&Le(K,O.startTime-M)}}var ee=!1,Q=-1,W=5,pe=-1;function ze(){return $?!0:!(s.unstable_now()-pe<W)}function ve(){if($=!1,ee){var M=s.unstable_now();pe=M;var O=!0;try{e:{Z=!1,P&&(P=!1,F(Q),Q=-1),k=!0;var L=Y;try{t:{for(ne(M),C=f(S);C!==null&&!(C.expirationTime>M&&ze());){var se=C.callback;if(typeof se=="function"){C.callback=null,Y=C.priorityLevel;var me=se(C.expirationTime<=M);if(M=s.unstable_now(),typeof me=="function"){C.callback=me,ne(M),O=!0;break t}C===f(S)&&r(S),ne(M)}else r(S);C=f(S)}if(C!==null)O=!0;else{var b=f(m);b!==null&&Le(K,b.startTime-M),O=!1}}break e}finally{C=null,Y=L,k=!1}O=void 0}}finally{O?ye():ee=!1}}}var ye;if(typeof ce=="function")ye=function(){ce(ve)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,et=Ge.port2;Ge.port1.onmessage=ve,ye=function(){et.postMessage(null)}}else ye=function(){I(ve,0)};function Le(M,O){Q=I(function(){M(s.unstable_now())},O)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return Y},s.unstable_next=function(M){switch(Y){case 1:case 2:case 3:var O=3;break;default:O=Y}var L=Y;Y=O;try{return M()}finally{Y=L}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=Y;Y=M;try{return O()}finally{Y=L}},s.unstable_scheduleCallback=function(M,O,L){var se=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?se+L:se):L=se,M){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=L+me,M={id:D++,callback:O,priorityLevel:M,startTime:L,expirationTime:me,sortIndex:-1},L>se?(M.sortIndex=L,c(m,M),f(S)===null&&M===f(m)&&(P?(F(Q),Q=-1):P=!0,Le(K,L-se))):(M.sortIndex=me,c(S,M),Z||k||(Z=!0,ee||(ee=!0,ye()))),M},s.unstable_shouldYield=ze,s.unstable_wrapCallback=function(M){var O=Y;return function(){var L=Y;Y=O;try{return M.apply(this,arguments)}finally{Y=L}}}})(go)),go}var sm;function _p(){return sm||(sm=1,mo.exports=Tp()),mo.exports}var po={exports:{}},Bt={};var um;function Ap(){if(um)return Bt;um=1;var s=jo();function c(S){var m="https://react.dev/errors/"+S;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)m+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+S+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var r={d:{f,r:function(){throw Error(c(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},h=Symbol.for("react.portal");function y(S,m,D){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:C==null?null:""+C,children:S,containerInfo:m,implementation:D}}var v=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(S,m){if(S==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bt.createPortal=function(S,m){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(c(299));return y(S,m,null,D)},Bt.flushSync=function(S){var m=v.T,D=r.p;try{if(v.T=null,r.p=2,S)return S()}finally{v.T=m,r.p=D,r.d.f()}},Bt.preconnect=function(S,m){typeof S=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(S,m))},Bt.prefetchDNS=function(S){typeof S=="string"&&r.d.D(S)},Bt.preinit=function(S,m){if(typeof S=="string"&&m&&typeof m.as=="string"){var D=m.as,C=N(D,m.crossOrigin),Y=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;D==="style"?r.d.S(S,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:Y,fetchPriority:k}):D==="script"&&r.d.X(S,{crossOrigin:C,integrity:Y,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Bt.preinitModule=function(S,m){if(typeof S=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var D=N(m.as,m.crossOrigin);r.d.M(S,{crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(S)},Bt.preload=function(S,m){if(typeof S=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var D=m.as,C=N(D,m.crossOrigin);r.d.L(S,D,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Bt.preloadModule=function(S,m){if(typeof S=="string")if(m){var D=N(m.as,m.crossOrigin);r.d.m(S,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(S)},Bt.requestFormReset=function(S){r.d.r(S)},Bt.unstable_batchedUpdates=function(S,m){return S(m)},Bt.useFormState=function(S,m,D){return v.H.useFormState(S,m,D)},Bt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Bt.version="19.2.4",Bt}var cm;function _m(){if(cm)return po.exports;cm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),po.exports=Ap(),po.exports}var rm;function jp(){if(rm)return gs;rm=1;var s=_p(),c=jo(),f=_m();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(y(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(l=a.return,l!==null){n=l;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return S(a),e;if(i===l)return S(a),t;i=i.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=i;else{for(var u=!1,d=a.child;d;){if(d===n){u=!0,n=a,l=i;break}if(d===l){u=!0,l=a,n=i;break}d=d.sibling}if(!u){for(d=i.child;d;){if(d===n){u=!0,n=i,l=a;break}if(d===l){u=!0,l=i,n=a;break}d=d.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function D(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=D(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,Y=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ze=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case I:return"Profiler";case $:return"StrictMode";case K:return"Suspense";case ee:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ce:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:et(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return et(e(t))}catch{}}return null}var Le=Array.isArray,M=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},se=[],me=-1;function b(e){return{current:e}}function z(e){0>me||(e.current=se[me],se[me]=null,me--)}function G(e,t){me++,se[me]=e.current,e.current=t}var J=b(null),re=b(null),ue=b(null),xe=b(null);function We(e,t){switch(G(ue,t),G(re,e),G(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nh(t),e=Th(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(J),G(J,e)}function Ue(){z(J),z(re),z(ue)}function Je(e){e.memoizedState!==null&&G(xe,e);var t=J.current,n=Th(t,e.type);t!==n&&(G(re,e),G(J,n))}function Yt(e){re.current===e&&(z(J),z(re)),xe.current===e&&(z(xe),os._currentValue=L)}var Gt,At;function Te(e){if(Gt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gt=t&&t[1]||"",At=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+e+At}var $e=!1;function Xe(e,t){if(!e||$e)return"";$e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(R){var j=R}Reflect.construct(e,[],q)}else{try{q.call()}catch(R){j=R}e.call(q.prototype)}}else{try{throw Error()}catch(R){j=R}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(R){if(R&&j&&typeof R.stack=="string")return[R.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),u=i[0],d=i[1];if(u&&d){var p=u.split(`
`),A=d.split(`
`);for(a=l=0;l<p.length&&!p[l].includes("DetermineComponentFrameRoot");)l++;for(;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;if(l===p.length||a===A.length)for(l=p.length-1,a=A.length-1;1<=l&&0<=a&&p[l]!==A[a];)a--;for(;1<=l&&0<=a;l--,a--)if(p[l]!==A[a]){if(l!==1||a!==1)do if(l--,a--,0>a||p[l]!==A[a]){var U=`
`+p[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=a);break}}}finally{$e=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Te(n):""}function ct(e,t){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te("Lazy");case 13:return e.child!==t&&t!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return Xe(e.type,!1);case 11:return Xe(e.type.render,!1);case 1:return Xe(e.type,!0);case 31:return Te("Activity");default:return""}}function mn(e){try{var t="",n=null;do t+=ct(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Xt=Object.prototype.hasOwnProperty,Mn=s.unstable_scheduleCallback,tn=s.unstable_cancelCallback,Nl=s.unstable_shouldYield,Yn=s.unstable_requestPaint,rt=s.unstable_now,Rn=s.unstable_getCurrentPriorityLevel,ta=s.unstable_ImmediatePriority,Qt=s.unstable_UserBlockingPriority,Dn=s.unstable_NormalPriority,Pn=s.unstable_LowPriority,zt=s.unstable_IdlePriority,el=s.log,Si=s.unstable_setDisableYieldValue,ot=null,jt=null;function at(e){if(typeof el=="function"&&Si(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ot,e)}catch{}}var bt=Math.clz32?Math.clz32:Vt,Gn=Math.log,Xn=Math.LN2;function Vt(e){return e>>>=0,e===0?32:31-(Gn(e)/Xn|0)|0}var nn=256,xt=262144,Et=4194304;function Ht(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tl(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var a=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var d=l&134217727;return d!==0?(l=d&~i,l!==0?a=Ht(l):(u&=d,u!==0?a=Ht(u):n||(n=d&~e,n!==0&&(a=Ht(n))))):(d=l&~i,d!==0?a=Ht(d):u!==0?a=Ht(u):n||(n=l&~e,n!==0&&(a=Ht(n)))),a===0?0:t!==0&&t!==a&&(t&i)===0&&(i=a&-a,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:a}function zn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var e=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),e}function pn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qn(e,t,n,l,a,i){var u=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,p=e.expirationTimes,A=e.hiddenUpdates;for(n=u&~n;0<n;){var U=31-bt(n),q=1<<U;d[U]=0,p[U]=-1;var j=A[U];if(j!==null)for(A[U]=null,U=0;U<j.length;U++){var R=j[U];R!==null&&(R.lane&=-536870913)}n&=~q}l!==0&&_l(e,l,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function _l(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-bt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Da(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-bt(n),a=1<<l;a&t|e[l]&t&&(e[l]|=t),n&=~a}}function Al(e,t){var n=t&-t;return n=(n&42)!==0?1:jl(n),(n&(e.suspendedLanes|t))!==0?0:n}function jl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cl(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Jh(e.type))}function On(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var qt=Math.random().toString(36).slice(2),ft="__reactFiber$"+qt,it="__reactProps$"+qt,yn="__reactContainer$"+qt,Un="__reactEvents$"+qt,xi="__reactListeners$"+qt,la="__reactHandles$"+qt,Ml="__reactResources$"+qt,w="__reactMarker$"+qt;function X(e){delete e[ft],delete e[it],delete e[Un],delete e[xi],delete e[la]}function B(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dh(e);e!==null;){if(n=e[ft])return n;e=Dh(e)}return t}e=n,n=e.parentNode}return null}function oe(e){if(e=e[ft]||e[yn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function he(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function fe(e){var t=e[Ml];return t||(t=e[Ml]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function te(e){e[w]=!0}var Qe=new Set,we={};function _e(e,t){lt(e,t),lt(e+"Capture",t)}function lt(e,t){for(we[e]=t,e=0;e<t.length;e++)Qe.add(t[e])}var wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},aa={};function Zt(e){return Xt.call(aa,e)?!0:Xt.call(Oe,e)?!1:wt.test(e)?aa[e]=!0:(Oe[e]=!0,!1)}function ia(e,t,n){if(Zt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sa(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ei(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var a=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){n=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){if(!e._valueTracker){var t=tl(e)?"checked":"value";e._valueTracker=Ei(e,t,""+e[t])}}function Ns(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=tl(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ua=/[\n"\\]/g;function Jt(e){return e.replace(ua,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function za(e,t,n,l,a,i,u,d){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?ln(e,u,Kt(t)):n!=null?ln(e,u,Kt(n)):l!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Kt(d):e.removeAttribute("name")}function Ni(e,t,n,l,a,i,u,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){wi(e);return}n=n!=null?""+Kt(n):"",t=t!=null?""+Kt(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}l=l??a,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=d?e.checked:!!l,e.defaultChecked=!!l,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),wi(e)}function ln(e,t,n){t==="number"&&Vn(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function an(e,t,n,l){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ti(e,t,n){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Kt(n):""}function Zn(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(Le(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Kt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),wi(e)}function Sn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||nl.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function sn(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var a in t)l=t[a],t.hasOwnProperty(a)&&n[a]!==l&&Nt(e,a,l)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ts=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(e){return Fu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var mt=null;function ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kn=null,Lt=null;function _s(e){var t=oe(e);if(t&&(e=t.stateNode)){var n=e[it]||null;e:switch(e=t.stateNode,t.type){case"input":if(za(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=l[it]||null;if(!a)throw Error(r(90));za(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ns(l)}break e;case"textarea":Ti(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&an(e,!!n.multiple,t,!1)}}}var Rl=!1;function Ua(e,t,n){if(Rl)return e(t,n);Rl=!0;try{var l=e(t);return l}finally{if(Rl=!1,(Kn!==null||Lt!==null)&&(vu(),Kn&&(t=Kn,e=Lt,Lt=Kn=null,_s(t),e)))for(t=0;t<e.length;t++)_s(e[t])}}function ll(e,t){var n=e.stateNode;if(n===null)return null;var l=n[it]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(Ot)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Ba=!1}var Jn=null,Ha=null,qa=null;function _i(){if(qa)return qa;var e,t=Ha,n=t.length,l,a="value"in Jn?Jn.value:Jn.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var u=n-e;for(l=1;l<=u&&t[n-l]===a[i-l];l++);return qa=a.slice(e,1<l?1-l:void 0)}function ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function As(){return!1}function Ut(e){function t(n,l,a,i,u){this._reactName=n,this._targetInst=a,this.type=l,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oa:As,this.isPropagationStopped=As,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ut(al),fa=C({},al,{view:0,detail:0}),Wu=Ut(fa),Ai,ji,da,ka=C({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(Ai=e.screenX-da.screenX,ji=e.screenY-da.screenY):ji=Ai=0,da=e),Ai)},movementY:function(e){return"movementY"in e?e.movementY:ji}}),js=Ut(ka),Iu=C({},ka,{dataTransfer:0}),Ci=Ut(Iu),Pu=C({},fa,{relatedTarget:0}),Mi=Ut(Pu),ec=C({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=Ut(ec),nc=C({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lc=Ut(nc),ac=C({},al,{data:0}),Cs=Ut(ac),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ya(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uc[e])?!!t[e]:!1}function Ri(){return Ya}var cc=C({},fa,{key:function(e){if(e.key){var t=ic[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rc=Ut(cc),oc=C({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=Ut(oc),fc=C({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),Rs=Ut(fc),dc=C({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ds=Ut(dc),hc=C({},ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=Ut(hc),Os=C({},al,{newState:0,oldState:0}),mc=Ut(Os),gc=[9,13,27,32],Di=Ot&&"CompositionEvent"in window,ha=null;Ot&&"documentMode"in document&&(ha=document.documentMode);var pc=Ot&&"TextEvent"in window&&!ha,il=Ot&&(!Di||ha&&8<ha&&11>=ha),Us=" ",E=!1;function V(e,t){switch(e){case"keyup":return gc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var be=!1;function Ae(e,t){switch(e){case"compositionend":return le(t);case"keypress":return t.which!==32?null:(E=!0,Us);case"textInput":return e=t.data,e===Us&&E?null:e;default:return null}}function Tt(e,t){if(be)return e==="compositionend"||!Di&&V(e,t)?(e=_i(),qa=Ha=Jn=null,be=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return il&&t.locale!=="ko"?null:t.data;default:return null}}var sl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sl[e.type]:t==="textarea"}function ul(e,t,n,l){Kn?Lt?Lt.push(l):Lt=[l]:Kn=l,t=Nu(t,"onChange"),0<t.length&&(n=new La("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var cl=null,zi=null;function $m(e){yh(e,0)}function Bs(e){var t=he(e);if(Ns(t))return e}function Bo(e,t){if(e==="change")return t}var Ho=!1;if(Ot){var vc;if(Ot){var yc="oninput"in document;if(!yc){var qo=document.createElement("div");qo.setAttribute("oninput","return;"),yc=typeof qo.oninput=="function"}vc=yc}else vc=!1;Ho=vc&&(!document.documentMode||9<document.documentMode)}function Lo(){cl&&(cl.detachEvent("onpropertychange",ko),zi=cl=null)}function ko(e){if(e.propertyName==="value"&&Bs(zi)){var t=[];ul(t,zi,e,ca(e)),Ua($m,t)}}function Fm(e,t,n){e==="focusin"?(Lo(),cl=t,zi=n,cl.attachEvent("onpropertychange",ko)):e==="focusout"&&Lo()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bs(zi)}function Im(e,t){if(e==="click")return Bs(t)}function Pm(e,t){if(e==="input"||e==="change")return Bs(t)}function eg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:eg;function Oi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var a=n[l];if(!Xt.call(t,a)||!un(e[a],t[a]))return!1}return!0}function Yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Go(e,t){var n=Yo(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yo(n)}}function Xo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vn(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vn(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tg=Ot&&"documentMode"in document&&11>=document.documentMode,Xa=null,Sc=null,Ui=null,xc=!1;function Vo(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||Xa==null||Xa!==Vn(l)||(l=Xa,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ui&&Oi(Ui,l)||(Ui=l,l=Nu(Sc,"onSelect"),0<l.length&&(t=new La("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Xa)))}function ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qa={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Ec={},Zo={};Ot&&(Zo=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ga(e){if(Ec[e])return Ec[e];if(!Qa[e])return e;var t=Qa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zo)return Ec[e]=t[n];return e}var Ko=ga("animationend"),Jo=ga("animationiteration"),$o=ga("animationstart"),ng=ga("transitionrun"),lg=ga("transitionstart"),ag=ga("transitioncancel"),Fo=ga("transitionend"),Wo=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function qn(e,t){Wo.set(e,t),_e(t,[e])}var Hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Va=0,Nc=0;function qs(){for(var e=Va,t=Nc=Va=0;t<e;){var n=xn[t];xn[t++]=null;var l=xn[t];xn[t++]=null;var a=xn[t];xn[t++]=null;var i=xn[t];if(xn[t++]=null,l!==null&&a!==null){var u=l.pending;u===null?a.next=a:(a.next=u.next,u.next=a),l.pending=a}i!==0&&Io(n,a,i)}}function Ls(e,t,n,l){xn[Va++]=e,xn[Va++]=t,xn[Va++]=n,xn[Va++]=l,Nc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tc(e,t,n,l){return Ls(e,t,n,l),ks(e)}function pa(e,t){return Ls(e,null,null,t),ks(e)}function Io(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var a=!1,i=e.return;i!==null;)i.childLanes|=n,l=i.alternate,l!==null&&(l.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-bt(n),e=i.hiddenUpdates,l=e[a],l===null?e[a]=[t]:l.push(t),t.lane=n|536870912),i):null}function ks(e){if(50<ls)throw ls=0,Or=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Za={};function ig(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,l){return new ig(e,t,n,l)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rl(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Po(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ys(e,t,n,l,a,i){var u=0;if(l=e,typeof e=="function")_c(e)&&(u=1);else if(typeof e=="string")u=op(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=cn(31,n,t,a),e.elementType=pe,e.lanes=i,e;case P:return va(n.children,a,i,t);case $:u=8,a|=24;break;case I:return e=cn(12,n,t,a|2),e.elementType=I,e.lanes=i,e;case K:return e=cn(13,n,t,a),e.elementType=K,e.lanes=i,e;case ee:return e=cn(19,n,t,a),e.elementType=ee,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:u=10;break e;case F:u=9;break e;case ne:u=11;break e;case Q:u=14;break e;case W:u=16,l=null;break e}u=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=cn(u,n,t,a),t.elementType=e,t.type=l,t.lanes=i,t}function va(e,t,n,l){return e=cn(7,e,l,t),e.lanes=n,e}function Ac(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function ef(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function jc(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var tf=new WeakMap;function En(e,t){if(typeof e=="object"&&e!==null){var n=tf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mn(t)},tf.set(e,t),t)}return{value:e,source:t,stack:mn(t)}}var Ka=[],Ja=0,Gs=null,Bi=0,wn=[],Nn=0,zl=null,$n=1,Fn="";function ol(e,t){Ka[Ja++]=Bi,Ka[Ja++]=Gs,Gs=e,Bi=t}function nf(e,t,n){wn[Nn++]=$n,wn[Nn++]=Fn,wn[Nn++]=zl,zl=e;var l=$n;e=Fn;var a=32-bt(l)-1;l&=~(1<<a),n+=1;var i=32-bt(t)+a;if(30<i){var u=a-a%5;i=(l&(1<<u)-1).toString(32),l>>=u,a-=u,$n=1<<32-bt(t)+a|n<<a|l,Fn=i+e}else $n=1<<i|n<<a|l,Fn=e}function Cc(e){e.return!==null&&(ol(e,1),nf(e,1,0))}function Mc(e){for(;e===Gs;)Gs=Ka[--Ja],Ka[Ja]=null,Bi=Ka[--Ja],Ka[Ja]=null;for(;e===zl;)zl=wn[--Nn],wn[Nn]=null,Fn=wn[--Nn],wn[Nn]=null,$n=wn[--Nn],wn[Nn]=null}function lf(e,t){wn[Nn++]=$n,wn[Nn++]=Fn,wn[Nn++]=zl,$n=t.id,Fn=t.overflow,zl=e}var Ct=null,Ie=null,De=!1,Ol=null,Tn=!1,Rc=Error(r(519));function Ul(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(En(t,e)),Rc}function af(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ft]=e,t[it]=l,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<is.length;n++)Ce(is[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Ni(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),Zn(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Eh(t.textContent,n)?(l.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),l.onScroll!=null&&Ce("scroll",t),l.onScrollEnd!=null&&Ce("scrollend",t),l.onClick!=null&&(t.onclick=Hn),t=!0):t=!1,t||Ul(e,!0)}function sf(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Ct=Ct.return}}function $a(e){if(e!==Ct)return!1;if(!De)return sf(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$r(e.type,e.memoizedProps)),n=!n),n&&Ie&&Ul(e),sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=Rh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=Rh(e)}else t===27?(t=Ie,$l(e.type)?(e=eo,eo=null,Ie=e):Ie=t):Ie=Ct?An(e.stateNode.nextSibling):null;return!0}function ya(){Ie=Ct=null,De=!1}function Dc(){var e=Ol;return e!==null&&(It===null?It=e:It.push.apply(It,e),Ol=null),e}function Hi(e){Ol===null?Ol=[e]:Ol.push(e)}var zc=b(null),ba=null,fl=null;function Bl(e,t,n){G(zc,t._currentValue),t._currentValue=n}function dl(e){e._currentValue=zc.current,z(zc)}function Oc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Uc(e,t,n,l){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var u=a.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=a;for(var p=0;p<t.length;p++)if(d.context===t[p]){i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Oc(i.return,n,e),l||(u=null);break e}i=d.next}}else if(a.tag===18){if(u=a.return,u===null)throw Error(r(341));u.lanes|=n,i=u.alternate,i!==null&&(i.lanes|=n),Oc(u,n,e),u=null}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}}function Fa(e,t,n,l){e=null;for(var a=t,i=!1;a!==null;){if(!i){if((a.flags&524288)!==0)i=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var u=a.alternate;if(u===null)throw Error(r(387));if(u=u.memoizedProps,u!==null){var d=a.type;un(a.pendingProps.value,u.value)||(e!==null?e.push(d):e=[d])}}else if(a===xe.current){if(u=a.alternate,u===null)throw Error(r(387));u.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(os):e=[os])}a=a.return}e!==null&&Uc(t,e,n,l),t.flags|=262144}function Xs(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ba=e,fl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mt(e){return uf(ba,e)}function Qs(e,t){return ba===null&&Sa(e),uf(e,t)}function uf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fl===null){if(e===null)throw Error(r(308));fl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fl=fl.next=t;return n}var sg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ug=s.unstable_scheduleCallback,cg=s.unstable_NormalPriority,gt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new sg,data:new Map,refCount:0}}function qi(e){e.refCount--,e.refCount===0&&ug(cg,function(){e.controller.abort()})}var Li=null,Hc=0,Wa=0,Ia=null;function rg(e,t){if(Li===null){var n=Li=[];Hc=0,Wa=kr(),Ia={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Hc++,t.then(cf,cf),t}function cf(){if(--Hc===0&&Li!==null){Ia!==null&&(Ia.status="fulfilled");var e=Li;Li=null,Wa=0,Ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function og(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(l.status="rejected",l.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),l}var rf=M.S;M.S=function(e,t){Zd=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rg(e,t),rf!==null&&rf(e,t)};var xa=b(null);function qc(){var e=xa.current;return e!==null?e:Fe.pooledCache}function Vs(e,t){t===null?G(xa,xa.current):G(xa,t.pool)}function of(){var e=qc();return e===null?null:{parent:gt._currentValue,pool:e}}var Pa=Error(r(460)),Lc=Error(r(474)),Zs=Error(r(542)),Ks={then:function(){}};function ff(e){return e=e.status,e==="fulfilled"||e==="rejected"}function df(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Hn,Hn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e;default:if(typeof t.status=="string")t.then(Hn,Hn);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=l}},function(l){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e}throw wa=t,Pa}}function Ea(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wa=n,Pa):n}}var wa=null;function hf(){if(wa===null)throw Error(r(459));var e=wa;return wa=null,e}function mf(e){if(e===Pa||e===Zs)throw Error(r(483))}var ei=null,ki=0;function Js(e){var t=ki;return ki+=1,ei===null&&(ei=[]),df(ei,e,t)}function Yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $s(e,t){throw t.$$typeof===Y?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gf(e){function t(T,x){if(e){var _=T.deletions;_===null?(T.deletions=[x],T.flags|=16):_.push(x)}}function n(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function l(T){for(var x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function a(T,x){return T=rl(T,x),T.index=0,T.sibling=null,T}function i(T,x,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<x?(T.flags|=67108866,x):_):(T.flags|=67108866,x)):(T.flags|=1048576,x)}function u(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function d(T,x,_,H){return x===null||x.tag!==6?(x=Ac(_,T.mode,H),x.return=T,x):(x=a(x,_),x.return=T,x)}function p(T,x,_,H){var de=_.type;return de===P?U(T,x,_.props.children,H,_.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===W&&Ea(de)===x.type)?(x=a(x,_.props),Yi(x,_),x.return=T,x):(x=Ys(_.type,_.key,_.props,null,T.mode,H),Yi(x,_),x.return=T,x)}function A(T,x,_,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=jc(_,T.mode,H),x.return=T,x):(x=a(x,_.children||[]),x.return=T,x)}function U(T,x,_,H,de){return x===null||x.tag!==7?(x=va(_,T.mode,H,de),x.return=T,x):(x=a(x,_),x.return=T,x)}function q(T,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ac(""+x,T.mode,_),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return _=Ys(x.type,x.key,x.props,null,T.mode,_),Yi(_,x),_.return=T,_;case Z:return x=jc(x,T.mode,_),x.return=T,x;case W:return x=Ea(x),q(T,x,_)}if(Le(x)||ye(x))return x=va(x,T.mode,_,null),x.return=T,x;if(typeof x.then=="function")return q(T,Js(x),_);if(x.$$typeof===ce)return q(T,Qs(T,x),_);$s(T,x)}return null}function j(T,x,_,H){var de=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return de!==null?null:d(T,x,""+_,H);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case k:return _.key===de?p(T,x,_,H):null;case Z:return _.key===de?A(T,x,_,H):null;case W:return _=Ea(_),j(T,x,_,H)}if(Le(_)||ye(_))return de!==null?null:U(T,x,_,H,null);if(typeof _.then=="function")return j(T,x,Js(_),H);if(_.$$typeof===ce)return j(T,x,Qs(T,_),H);$s(T,_)}return null}function R(T,x,_,H,de){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return T=T.get(_)||null,d(x,T,""+H,de);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return T=T.get(H.key===null?_:H.key)||null,p(x,T,H,de);case Z:return T=T.get(H.key===null?_:H.key)||null,A(x,T,H,de);case W:return H=Ea(H),R(T,x,_,H,de)}if(Le(H)||ye(H))return T=T.get(_)||null,U(x,T,H,de,null);if(typeof H.then=="function")return R(T,x,_,Js(H),de);if(H.$$typeof===ce)return R(T,x,_,Qs(x,H),de);$s(x,H)}return null}function ae(T,x,_,H){for(var de=null,Be=null,ie=x,Ne=x=0,Re=null;ie!==null&&Ne<_.length;Ne++){ie.index>Ne?(Re=ie,ie=null):Re=ie.sibling;var He=j(T,ie,_[Ne],H);if(He===null){ie===null&&(ie=Re);break}e&&ie&&He.alternate===null&&t(T,ie),x=i(He,x,Ne),Be===null?de=He:Be.sibling=He,Be=He,ie=Re}if(Ne===_.length)return n(T,ie),De&&ol(T,Ne),de;if(ie===null){for(;Ne<_.length;Ne++)ie=q(T,_[Ne],H),ie!==null&&(x=i(ie,x,Ne),Be===null?de=ie:Be.sibling=ie,Be=ie);return De&&ol(T,Ne),de}for(ie=l(ie);Ne<_.length;Ne++)Re=R(ie,T,Ne,_[Ne],H),Re!==null&&(e&&Re.alternate!==null&&ie.delete(Re.key===null?Ne:Re.key),x=i(Re,x,Ne),Be===null?de=Re:Be.sibling=Re,Be=Re);return e&&ie.forEach(function(ea){return t(T,ea)}),De&&ol(T,Ne),de}function ge(T,x,_,H){if(_==null)throw Error(r(151));for(var de=null,Be=null,ie=x,Ne=x=0,Re=null,He=_.next();ie!==null&&!He.done;Ne++,He=_.next()){ie.index>Ne?(Re=ie,ie=null):Re=ie.sibling;var ea=j(T,ie,He.value,H);if(ea===null){ie===null&&(ie=Re);break}e&&ie&&ea.alternate===null&&t(T,ie),x=i(ea,x,Ne),Be===null?de=ea:Be.sibling=ea,Be=ea,ie=Re}if(He.done)return n(T,ie),De&&ol(T,Ne),de;if(ie===null){for(;!He.done;Ne++,He=_.next())He=q(T,He.value,H),He!==null&&(x=i(He,x,Ne),Be===null?de=He:Be.sibling=He,Be=He);return De&&ol(T,Ne),de}for(ie=l(ie);!He.done;Ne++,He=_.next())He=R(ie,T,Ne,He.value,H),He!==null&&(e&&He.alternate!==null&&ie.delete(He.key===null?Ne:He.key),x=i(He,x,Ne),Be===null?de=He:Be.sibling=He,Be=He);return e&&ie.forEach(function(xp){return t(T,xp)}),De&&ol(T,Ne),de}function Ke(T,x,_,H){if(typeof _=="object"&&_!==null&&_.type===P&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case k:e:{for(var de=_.key;x!==null;){if(x.key===de){if(de=_.type,de===P){if(x.tag===7){n(T,x.sibling),H=a(x,_.props.children),H.return=T,T=H;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===W&&Ea(de)===x.type){n(T,x.sibling),H=a(x,_.props),Yi(H,_),H.return=T,T=H;break e}n(T,x);break}else t(T,x);x=x.sibling}_.type===P?(H=va(_.props.children,T.mode,H,_.key),H.return=T,T=H):(H=Ys(_.type,_.key,_.props,null,T.mode,H),Yi(H,_),H.return=T,T=H)}return u(T);case Z:e:{for(de=_.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(T,x.sibling),H=a(x,_.children||[]),H.return=T,T=H;break e}else{n(T,x);break}else t(T,x);x=x.sibling}H=jc(_,T.mode,H),H.return=T,T=H}return u(T);case W:return _=Ea(_),Ke(T,x,_,H)}if(Le(_))return ae(T,x,_,H);if(ye(_)){if(de=ye(_),typeof de!="function")throw Error(r(150));return _=de.call(_),ge(T,x,_,H)}if(typeof _.then=="function")return Ke(T,x,Js(_),H);if(_.$$typeof===ce)return Ke(T,x,Qs(T,_),H);$s(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(T,x.sibling),H=a(x,_),H.return=T,T=H):(n(T,x),H=Ac(_,T.mode,H),H.return=T,T=H),u(T)):n(T,x)}return function(T,x,_,H){try{ki=0;var de=Ke(T,x,_,H);return ei=null,de}catch(ie){if(ie===Pa||ie===Zs)throw ie;var Be=cn(29,ie,null,T.mode);return Be.lanes=H,Be.return=T,Be}}}var Na=gf(!0),pf=gf(!1),Hl=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ql(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,t=ks(e),Io(e,null,n),t}return Ls(e,l,t,n),ks(e)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Da(e,n)}}function Gc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=u:i=i.next=u,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Xc=!1;function Xi(){if(Xc){var e=Ia;if(e!==null)throw e}}function Qi(e,t,n,l){Xc=!1;var a=e.updateQueue;Hl=!1;var i=a.firstBaseUpdate,u=a.lastBaseUpdate,d=a.shared.pending;if(d!==null){a.shared.pending=null;var p=d,A=p.next;p.next=null,u===null?i=A:u.next=A,u=p;var U=e.alternate;U!==null&&(U=U.updateQueue,d=U.lastBaseUpdate,d!==u&&(d===null?U.firstBaseUpdate=A:d.next=A,U.lastBaseUpdate=p))}if(i!==null){var q=a.baseState;u=0,U=A=p=null,d=i;do{var j=d.lane&-536870913,R=j!==d.lane;if(R?(Me&j)===j:(l&j)===j){j!==0&&j===Wa&&(Xc=!0),U!==null&&(U=U.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var ae=e,ge=d;j=t;var Ke=n;switch(ge.tag){case 1:if(ae=ge.payload,typeof ae=="function"){q=ae.call(Ke,q,j);break e}q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ge.payload,j=typeof ae=="function"?ae.call(Ke,q,j):ae,j==null)break e;q=C({},q,j);break e;case 2:Hl=!0}}j=d.callback,j!==null&&(e.flags|=64,R&&(e.flags|=8192),R=a.callbacks,R===null?a.callbacks=[j]:R.push(j))}else R={lane:j,tag:d.tag,payload:d.payload,callback:d.callback,next:null},U===null?(A=U=R,p=q):U=U.next=R,u|=j;if(d=d.next,d===null){if(d=a.shared.pending,d===null)break;R=d,d=R.next,R.next=null,a.lastBaseUpdate=R,a.shared.pending=null}}while(!0);U===null&&(p=q),a.baseState=p,a.firstBaseUpdate=A,a.lastBaseUpdate=U,i===null&&(a.shared.lanes=0),Ql|=u,e.lanes=u,e.memoizedState=q}}function vf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function yf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vf(n[e],t)}var ti=b(null),Fs=b(0);function bf(e,t){e=xl,G(Fs,e),G(ti,t),xl=e|t.baseLanes}function Qc(){G(Fs,xl),G(ti,ti.current)}function Vc(){xl=Fs.current,z(ti),z(Fs)}var rn=b(null),_n=null;function kl(e){var t=e.alternate;G(dt,dt.current&1),G(rn,e),_n===null&&(t===null||ti.current!==null||t.memoizedState!==null)&&(_n=e)}function Zc(e){G(dt,dt.current),G(rn,e),_n===null&&(_n=e)}function Sf(e){e.tag===22?(G(dt,dt.current),G(rn,e),_n===null&&(_n=e)):Yl()}function Yl(){G(dt,dt.current),G(rn,rn.current)}function on(e){z(rn),_n===e&&(_n=null),z(dt)}var dt=b(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ir(n)||Pr(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=0,Ee=null,Ve=null,pt=null,Is=!1,ni=!1,Ta=!1,Ps=0,Vi=0,li=null,fg=0;function st(){throw Error(r(321))}function Kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Jc(e,t,n,l,a,i){return hl=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?ld:rr,Ta=!1,i=n(l,a),Ta=!1,ni&&(i=Ef(t,n,l,a)),xf(e),i}function xf(e){M.H=Ji;var t=Ve!==null&&Ve.next!==null;if(hl=0,pt=Ve=Ee=null,Is=!1,Vi=0,li=null,t)throw Error(r(300));e===null||vt||(e=e.dependencies,e!==null&&Xs(e)&&(vt=!0))}function Ef(e,t,n,l){Ee=e;var a=0;do{if(ni&&(li=null),Vi=0,ni=!1,25<=a)throw Error(r(301));if(a+=1,pt=Ve=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}M.H=ad,i=t(n,l)}while(ni);return i}function dg(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Zi(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Ee.flags|=1024),t}function $c(){var e=Ps!==0;return Ps=0,e}function Fc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Wc(e){if(Is){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Is=!1}hl=0,pt=Ve=Ee=null,ni=!1,Vi=Ps=0,li=null}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ee.memoizedState=pt=e:pt=pt.next=e,pt}function ht(){if(Ve===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=pt===null?Ee.memoizedState:pt.next;if(t!==null)pt=t,Ve=e;else{if(e===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},pt===null?Ee.memoizedState=pt=e:pt=pt.next=e}return pt}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zi(e){var t=Vi;return Vi+=1,li===null&&(li=[]),e=df(li,e,t),t=Ee,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?ld:rr),e}function tu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zi(e);if(e.$$typeof===ce)return Mt(e)}throw Error(r(438,String(e)))}function Ic(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=eu(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ze;return t.index++,n}function ml(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=ht();return Pc(t,Ve,e)}function Pc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var a=e.baseQueue,i=l.pending;if(i!==null){if(a!==null){var u=a.next;a.next=i.next,i.next=u}t.baseQueue=a=i,l.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var d=u=null,p=null,A=t,U=!1;do{var q=A.lane&-536870913;if(q!==A.lane?(Me&q)===q:(hl&q)===q){var j=A.revertLane;if(j===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),q===Wa&&(U=!0);else if((hl&j)===j){A=A.next,j===Wa&&(U=!0);continue}else q={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(d=p=q,u=i):p=p.next=q,Ee.lanes|=j,Ql|=j;q=A.action,Ta&&n(i,q),i=A.hasEagerState?A.eagerState:n(i,q)}else j={lane:q,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(d=p=j,u=i):p=p.next=j,Ee.lanes|=q,Ql|=q;A=A.next}while(A!==null&&A!==t);if(p===null?u=i:p.next=d,!un(i,e.memoizedState)&&(vt=!0,U&&(n=Ia,n!==null)))throw n;e.memoizedState=i,e.baseState=u,e.baseQueue=p,l.lastRenderedState=i}return a===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function er(e){var t=ht(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do i=e(i,u.action),u=u.next;while(u!==a);un(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function wf(e,t,n){var l=Ee,a=ht(),i=De;if(i){if(n===void 0)throw Error(r(407));n=n()}else n=t();var u=!un((Ve||a).memoizedState,n);if(u&&(a.memoizedState=n,vt=!0),a=a.queue,lr(_f.bind(null,l,a,e),[e]),a.getSnapshot!==t||u||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,ai(9,{destroy:void 0},Tf.bind(null,l,a,n,t),null),Fe===null)throw Error(r(349));i||(hl&127)!==0||Nf(l,t,n)}return n}function Nf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=eu(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tf(e,t,n,l){t.value=n,t.getSnapshot=l,Af(t)&&jf(e)}function _f(e,t,n){return n(function(){Af(t)&&jf(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function jf(e){var t=pa(e,2);t!==null&&Pt(t,e,2)}function tr(e){var t=kt();if(typeof e=="function"){var n=e;if(e=n(),Ta){at(!0);try{n()}finally{at(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function Cf(e,t,n,l){return e.baseState=n,Pc(e,Ve,typeof l=="function"?l:ml)}function hg(e,t,n,l,a){if(iu(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};M.T!==null?n(!0):i.isTransition=!1,l(i),n=t.pending,n===null?(i.next=t.pending=i,Mf(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Mf(e,t){var n=t.action,l=t.payload,a=e.state;if(t.isTransition){var i=M.T,u={};M.T=u;try{var d=n(a,l),p=M.S;p!==null&&p(u,d),Rf(e,t,d)}catch(A){nr(e,t,A)}finally{i!==null&&u.types!==null&&(i.types=u.types),M.T=i}}else try{i=n(a,l),Rf(e,t,i)}catch(A){nr(e,t,A)}}function Rf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Df(e,t,l)},function(l){return nr(e,t,l)}):Df(e,t,n)}function Df(e,t,n){t.status="fulfilled",t.value=n,zf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Mf(e,n)))}function nr(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,zf(t),t=t.next;while(t!==l)}e.action=null}function zf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Of(e,t){return t}function Uf(e,t){if(De){var n=Fe.formState;if(n!==null){e:{var l=Ee;if(De){if(Ie){t:{for(var a=Ie,i=Tn;a.nodeType!==8;){if(!i){a=null;break t}if(a=An(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ie=An(a.nextSibling),l=a.data==="F!";break e}}Ul(l)}l=!1}l&&(t=n[0])}}return n=kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:t},n.queue=l,n=ed.bind(null,Ee,l),l.dispatch=n,l=tr(!1),i=cr.bind(null,Ee,!1,l.queue),l=kt(),a={state:t,dispatch:null,action:e,pending:null},l.queue=a,n=hg.bind(null,Ee,a,i,n),a.dispatch=n,l.memoizedState=e,[t,n,!1]}function Bf(e){var t=ht();return Hf(t,Ve,e)}function Hf(e,t,n){if(t=Pc(e,t,Of)[0],e=nu(ml)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zi(t)}catch(u){throw u===Pa?Zs:u}else l=t;t=ht();var a=t.queue,i=a.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,ai(9,{destroy:void 0},mg.bind(null,a,n),null)),[l,i,e]}function mg(e,t){e.action=t}function qf(e){var t=ht(),n=Ve;if(n!==null)return Hf(t,n,e);ht(),t=t.memoizedState,n=ht();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function ai(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=eu(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Lf(){return ht().memoizedState}function lu(e,t,n,l){var a=kt();Ee.flags|=e,a.memoizedState=ai(1|t,{destroy:void 0},n,l===void 0?null:l)}function au(e,t,n,l){var a=ht();l=l===void 0?null:l;var i=a.memoizedState.inst;Ve!==null&&l!==null&&Kc(l,Ve.memoizedState.deps)?a.memoizedState=ai(t,i,n,l):(Ee.flags|=e,a.memoizedState=ai(1|t,i,n,l))}function kf(e,t){lu(8390656,8,e,t)}function lr(e,t){au(2048,8,e,t)}function gg(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=eu(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Yf(e){var t=ht().memoizedState;return gg({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Gf(e,t){return au(4,2,e,t)}function Xf(e,t){return au(4,4,e,t)}function Qf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,n){n=n!=null?n.concat([e]):null,au(4,4,Qf.bind(null,t,e),n)}function ar(){}function Zf(e,t){var n=ht();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Kc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Kf(e,t){var n=ht();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Kc(t,l[1]))return l[0];if(l=e(),Ta){at(!0);try{e()}finally{at(!1)}}return n.memoizedState=[l,t],l}function ir(e,t,n){return n===void 0||(hl&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Jd(),Ee.lanes|=e,Ql|=e,n)}function Jf(e,t,n,l){return un(n,t)?n:ti.current!==null?(e=ir(e,n,l),un(e,t)||(vt=!0),e):(hl&42)===0||(hl&1073741824)!==0&&(Me&261930)===0?(vt=!0,e.memoizedState=n):(e=Jd(),Ee.lanes|=e,Ql|=e,t)}function $f(e,t,n,l,a){var i=O.p;O.p=i!==0&&8>i?i:8;var u=M.T,d={};M.T=d,cr(e,!1,t,n);try{var p=a(),A=M.S;if(A!==null&&A(d,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var U=og(p,l);Ki(e,t,U,hn(e))}else Ki(e,t,l,hn(e))}catch(q){Ki(e,t,{then:function(){},status:"rejected",reason:q},hn())}finally{O.p=i,u!==null&&d.types!==null&&(u.types=d.types),M.T=u}}function pg(){}function sr(e,t,n,l){if(e.tag!==5)throw Error(r(476));var a=Ff(e).queue;$f(e,a,t,L,n===null?pg:function(){return Wf(e),n(l)})}function Ff(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Wf(e){var t=Ff(e);t.next===null&&(t=e.alternate.memoizedState),Ki(e,t.next.queue,{},hn())}function ur(){return Mt(os)}function If(){return ht().memoizedState}function Pf(){return ht().memoizedState}function vg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=ql(n);var l=Ll(t,e,n);l!==null&&(Pt(l,t,n),Gi(l,t,n)),t={cache:Bc()},e.payload=t;return}t=t.return}}function yg(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},iu(e)?td(t,n):(n=Tc(e,t,n,l),n!==null&&(Pt(n,e,l),nd(n,t,l)))}function ed(e,t,n){var l=hn();Ki(e,t,n,l)}function Ki(e,t,n,l){var a={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(iu(e))td(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,d=i(u,n);if(a.hasEagerState=!0,a.eagerState=d,un(d,u))return Ls(e,t,a,0),Fe===null&&qs(),!1}catch{}if(n=Tc(e,t,a,l),n!==null)return Pt(n,e,l),nd(n,t,l),!0}return!1}function cr(e,t,n,l){if(l={lane:2,revertLane:kr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},iu(e)){if(t)throw Error(r(479))}else t=Tc(e,n,l,2),t!==null&&Pt(t,e,2)}function iu(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function td(e,t){ni=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nd(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Da(e,n)}}var Ji={readContext:Mt,use:tu,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ji.useEffectEvent=st;var ld={readContext:Mt,use:tu,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:kf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,lu(4194308,4,Qf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){lu(4,2,e,t)},useMemo:function(e,t){var n=kt();t=t===void 0?null:t;var l=e();if(Ta){at(!0);try{e()}finally{at(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=kt();if(n!==void 0){var a=n(t);if(Ta){at(!0);try{n(t)}finally{at(!1)}}}else a=t;return l.memoizedState=l.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},l.queue=e,e=e.dispatch=yg.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:function(e){e=tr(e);var t=e.queue,n=ed.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ar,useDeferredValue:function(e,t){var n=kt();return ir(n,e,t)},useTransition:function(){var e=tr(!1);return e=$f.bind(null,Ee,e.queue,!0,!1),kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,a=kt();if(De){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Fe===null)throw Error(r(349));(Me&127)!==0||Nf(l,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,kf(_f.bind(null,l,i,e),[e]),l.flags|=2048,ai(9,{destroy:void 0},Tf.bind(null,l,i,n,t),null),n},useId:function(){var e=kt(),t=Fe.identifierPrefix;if(De){var n=Fn,l=$n;n=(l&~(1<<32-bt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ps++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=fg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ur,useFormState:Uf,useActionState:Uf,useOptimistic:function(e){var t=kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=cr.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ic,useCacheRefresh:function(){return kt().memoizedState=vg.bind(null,Ee)},useEffectEvent:function(e){var t=kt(),n={impl:e};return t.memoizedState=n,function(){if((qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},rr={readContext:Mt,use:tu,useCallback:Zf,useContext:Mt,useEffect:lr,useImperativeHandle:Vf,useInsertionEffect:Gf,useLayoutEffect:Xf,useMemo:Kf,useReducer:nu,useRef:Lf,useState:function(){return nu(ml)},useDebugValue:ar,useDeferredValue:function(e,t){var n=ht();return Jf(n,Ve.memoizedState,e,t)},useTransition:function(){var e=nu(ml)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:wf,useId:If,useHostTransitionStatus:ur,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,t){var n=ht();return Cf(n,Ve,e,t)},useMemoCache:Ic,useCacheRefresh:Pf};rr.useEffectEvent=Yf;var ad={readContext:Mt,use:tu,useCallback:Zf,useContext:Mt,useEffect:lr,useImperativeHandle:Vf,useInsertionEffect:Gf,useLayoutEffect:Xf,useMemo:Kf,useReducer:er,useRef:Lf,useState:function(){return er(ml)},useDebugValue:ar,useDeferredValue:function(e,t){var n=ht();return Ve===null?ir(n,e,t):Jf(n,Ve.memoizedState,e,t)},useTransition:function(){var e=er(ml)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:wf,useId:If,useHostTransitionStatus:ur,useFormState:qf,useActionState:qf,useOptimistic:function(e,t){var n=ht();return Ve!==null?Cf(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Pf};ad.useEffectEvent=Yf;function or(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fr={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),a=ql(l);a.payload=t,n!=null&&(a.callback=n),t=Ll(e,a,l),t!==null&&(Pt(t,e,l),Gi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),a=ql(l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ll(e,a,l),t!==null&&(Pt(t,e,l),Gi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=ql(n);l.tag=2,t!=null&&(l.callback=t),t=Ll(e,l,n),t!==null&&(Pt(t,e,n),Gi(t,e,n))}};function id(e,t,n,l,a,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,u):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,l)||!Oi(a,i):!0}function sd(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&fr.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function ud(e){Hs(e)}function cd(e){console.error(e)}function rd(e){Hs(e)}function su(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function od(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function dr(e,t,n){return n=ql(n),n.tag=3,n.payload={element:null},n.callback=function(){su(e,t)},n}function fd(e){return e=ql(e),e.tag=3,e}function dd(e,t,n,l){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=l.value;e.payload=function(){return a(i)},e.callback=function(){od(t,n,l)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){od(t,n,l),typeof a!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var d=l.stack;this.componentDidCatch(l.value,{componentStack:d!==null?d:""})})}function bg(e,t,n,l,a){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Fa(t,n,a,!0),n=rn.current,n!==null){switch(n.tag){case 31:case 13:return _n===null?yu():n.alternate===null&&ut===0&&(ut=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===Ks?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Hr(e,l,a)),!1;case 22:return n.flags|=65536,l===Ks?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Hr(e,l,a)),!1}throw Error(r(435,n.tag))}return Hr(e,l,a),yu(),!1}if(De)return t=rn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==Rc&&(e=Error(r(422),{cause:l}),Hi(En(e,n)))):(l!==Rc&&(t=Error(r(423),{cause:l}),Hi(En(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,l=En(l,n),a=dr(e.stateNode,l,a),Gc(e,a),ut!==4&&(ut=2)),!1;var i=Error(r(520),{cause:l});if(i=En(i,n),ns===null?ns=[i]:ns.push(i),ut!==4&&(ut=2),t===null)return!0;l=En(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=dr(n.stateNode,l,e),Gc(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Vl===null||!Vl.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=fd(a),dd(a,e,n,l),Gc(n,a),!1}n=n.return}while(n!==null);return!1}var hr=Error(r(461)),vt=!1;function Rt(e,t,n,l){t.child=e===null?pf(t,null,n,l):Na(t,e.child,n,l)}function hd(e,t,n,l,a){n=n.render;var i=t.ref;if("ref"in l){var u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}else u=l;return Sa(t),l=Jc(e,t,n,u,i,a),d=$c(),e!==null&&!vt?(Fc(e,t,a),gl(e,t,a)):(De&&d&&Cc(t),t.flags|=1,Rt(e,t,l,a),t.child)}function md(e,t,n,l,a){if(e===null){var i=n.type;return typeof i=="function"&&!_c(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,gd(e,t,i,l,a)):(e=Ys(n.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!xr(e,a)){var u=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(u,l)&&e.ref===t.ref)return gl(e,t,a)}return t.flags|=1,e=rl(i,l),e.ref=t.ref,e.return=t,t.child=e}function gd(e,t,n,l,a){if(e!==null){var i=e.memoizedProps;if(Oi(i,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=i,xr(e,a))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,gl(e,t,a)}return mr(e,t,n,l,a)}function pd(e,t,n,l){var a=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(l=t.child=e.child,a=0;l!==null;)a=a|l.lanes|l.childLanes,l=l.sibling;l=a&~i}else l=0,t.child=null;return vd(e,t,i,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,i!==null?i.cachePool:null),i!==null?bf(t,i):Qc(),Sf(t);else return l=t.lanes=536870912,vd(e,t,i!==null?i.baseLanes|n:n,n,l)}else i!==null?(Vs(t,i.cachePool),bf(t,i),Yl(),t.memoizedState=null):(e!==null&&Vs(t,null),Qc(),Yl());return Rt(e,t,a,n),t.child}function $i(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vd(e,t,n,l,a){var i=qc();return i=i===null?null:{parent:gt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Vs(t,null),Qc(),Sf(t),e!==null&&Fa(e,t,l,!0),t.childLanes=a,null}function uu(e,t){return t=ru({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yd(e,t,n){return Na(t,e.child,null,n),e=uu(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function Sg(e,t,n){var l=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(l.mode==="hidden")return e=uu(t,l),t.lanes=536870912,$i(null,e);if(Zc(t),(e=Ie)?(e=Mh(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:$n,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=ef(e),n.return=t,t.child=n,Ct=t,Ie=null)):e=null,e===null)throw Ul(t);return t.lanes=536870912,null}return uu(t,l)}var i=e.memoizedState;if(i!==null){var u=i.dehydrated;if(Zc(t),a)if(t.flags&256)t.flags&=-257,t=yd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(vt||Fa(e,t,n,!1),a=(n&e.childLanes)!==0,vt||a){if(l=Fe,l!==null&&(u=Al(l,n),u!==0&&u!==i.retryLane))throw i.retryLane=u,pa(e,u),Pt(l,e,u),hr;yu(),t=yd(e,t,n)}else e=i.treeContext,Ie=An(u.nextSibling),Ct=t,De=!0,Ol=null,Tn=!1,e!==null&&lf(t,e),t=uu(t,l),t.flags|=4096;return t}return e=rl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mr(e,t,n,l,a){return Sa(t),n=Jc(e,t,n,l,void 0,a),l=$c(),e!==null&&!vt?(Fc(e,t,a),gl(e,t,a)):(De&&l&&Cc(t),t.flags|=1,Rt(e,t,n,a),t.child)}function bd(e,t,n,l,a,i){return Sa(t),t.updateQueue=null,n=Ef(t,l,n,a),xf(e),l=$c(),e!==null&&!vt?(Fc(e,t,i),gl(e,t,i)):(De&&l&&Cc(t),t.flags|=1,Rt(e,t,n,i),t.child)}function Sd(e,t,n,l,a){if(Sa(t),t.stateNode===null){var i=Za,u=n.contextType;typeof u=="object"&&u!==null&&(i=Mt(u)),i=new n(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},kc(t),u=n.contextType,i.context=typeof u=="object"&&u!==null?Mt(u):Za,i.state=t.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(or(t,n,u,l),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&fr.enqueueReplaceState(i,i.state,null),Qi(t,l,i,a),Xi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,p=_a(n,d);i.props=p;var A=i.context,U=n.contextType;u=Za,typeof U=="object"&&U!==null&&(u=Mt(U));var q=n.getDerivedStateFromProps;U=typeof q=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||A!==u)&&sd(t,i,l,u),Hl=!1;var j=t.memoizedState;i.state=j,Qi(t,l,i,a),Xi(),A=t.memoizedState,d||j!==A||Hl?(typeof q=="function"&&(or(t,n,q,l),A=t.memoizedState),(p=Hl||id(t,n,p,l,j,A,u))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),i.props=l,i.state=A,i.context=u,l=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Yc(e,t),u=t.memoizedProps,U=_a(n,u),i.props=U,q=t.pendingProps,j=i.context,A=n.contextType,p=Za,typeof A=="object"&&A!==null&&(p=Mt(A)),d=n.getDerivedStateFromProps,(A=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==q||j!==p)&&sd(t,i,l,p),Hl=!1,j=t.memoizedState,i.state=j,Qi(t,l,i,a),Xi();var R=t.memoizedState;u!==q||j!==R||Hl||e!==null&&e.dependencies!==null&&Xs(e.dependencies)?(typeof d=="function"&&(or(t,n,d,l),R=t.memoizedState),(U=Hl||id(t,n,U,l,j,R,p)||e!==null&&e.dependencies!==null&&Xs(e.dependencies))?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,R,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,R,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=R),i.props=l,i.state=R,i.context=p,l=U):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,cu(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,n,a)):Rt(e,t,n,a),t.memoizedState=i.state,e=t.child):e=gl(e,t,a),e}function xd(e,t,n,l){return ya(),t.flags|=256,Rt(e,t,n,l),t.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pr(e){return{baseLanes:e,cachePool:of()}}function vr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Ed(e,t,n){var l=t.pendingProps,a=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),u&&(a=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(a?kl(t):Yl(),(e=Ie)?(e=Mh(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:$n,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=ef(e),n.return=t,t.child=n,Ct=t,Ie=null)):e=null,e===null)throw Ul(t);return Pr(e)?t.lanes=32:t.lanes=536870912,null}var d=l.children;return l=l.fallback,a?(Yl(),a=t.mode,d=ru({mode:"hidden",children:d},a),l=va(l,a,n,null),d.return=t,l.return=t,d.sibling=l,t.child=d,l=t.child,l.memoizedState=pr(n),l.childLanes=vr(e,u,n),t.memoizedState=gr,$i(null,l)):(kl(t),yr(t,d))}var p=e.memoizedState;if(p!==null&&(d=p.dehydrated,d!==null)){if(i)t.flags&256?(kl(t),t.flags&=-257,t=br(e,t,n)):t.memoizedState!==null?(Yl(),t.child=e.child,t.flags|=128,t=null):(Yl(),d=l.fallback,a=t.mode,l=ru({mode:"visible",children:l.children},a),d=va(d,a,n,null),d.flags|=2,l.return=t,d.return=t,l.sibling=d,t.child=l,Na(t,e.child,null,n),l=t.child,l.memoizedState=pr(n),l.childLanes=vr(e,u,n),t.memoizedState=gr,t=$i(null,l));else if(kl(t),Pr(d)){if(u=d.nextSibling&&d.nextSibling.dataset,u)var A=u.dgst;u=A,l=Error(r(419)),l.stack="",l.digest=u,Hi({value:l,source:null,stack:null}),t=br(e,t,n)}else if(vt||Fa(e,t,n,!1),u=(n&e.childLanes)!==0,vt||u){if(u=Fe,u!==null&&(l=Al(u,n),l!==0&&l!==p.retryLane))throw p.retryLane=l,pa(e,l),Pt(u,e,l),hr;Ir(d)||yu(),t=br(e,t,n)}else Ir(d)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Ie=An(d.nextSibling),Ct=t,De=!0,Ol=null,Tn=!1,e!==null&&lf(t,e),t=yr(t,l.children),t.flags|=4096);return t}return a?(Yl(),d=l.fallback,a=t.mode,p=e.child,A=p.sibling,l=rl(p,{mode:"hidden",children:l.children}),l.subtreeFlags=p.subtreeFlags&65011712,A!==null?d=rl(A,d):(d=va(d,a,n,null),d.flags|=2),d.return=t,l.return=t,l.sibling=d,t.child=l,$i(null,l),l=t.child,d=e.child.memoizedState,d===null?d=pr(n):(a=d.cachePool,a!==null?(p=gt._currentValue,a=a.parent!==p?{parent:p,pool:p}:a):a=of(),d={baseLanes:d.baseLanes|n,cachePool:a}),l.memoizedState=d,l.childLanes=vr(e,u,n),t.memoizedState=gr,$i(e.child,l)):(kl(t),n=e.child,e=n.sibling,n=rl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=n,t.memoizedState=null,n)}function yr(e,t){return t=ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ru(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function br(e,t,n){return Na(t,e.child,null,n),e=yr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wd(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Oc(e.return,t,n)}function Sr(e,t,n,l,a,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:a,treeForkCount:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=a,u.treeForkCount=i)}function Nd(e,t,n){var l=t.pendingProps,a=l.revealOrder,i=l.tail;l=l.children;var u=dt.current,d=(u&2)!==0;if(d?(u=u&1|2,t.flags|=128):u&=1,G(dt,u),Rt(e,t,l,n),l=De?Bi:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,n,t);else if(e.tag===19)wd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Sr(t,!1,a,n,i,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ws(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Sr(t,!0,n,null,i,l);break;case"together":Sr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Fa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=rl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xs(e)))}function xg(e,t,n){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),Bl(t,gt,e.memoizedState.cache),ya();break;case 27:case 5:Je(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(kl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ed(e,t,n):(kl(t),e=gl(e,t,n),e!==null?e.sibling:null);kl(t);break;case 19:var a=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Fa(e,t,n,!1),l=(n&t.childLanes)!==0),a){if(l)return Nd(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(dt,dt.current),l)break;return null;case 22:return t.lanes=0,pd(e,t,n,t.pendingProps);case 24:Bl(t,gt,e.memoizedState.cache)}return gl(e,t,n)}function Td(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!xr(e,n)&&(t.flags&128)===0)return vt=!1,xg(e,t,n);vt=(e.flags&131072)!==0}else vt=!1,De&&(t.flags&1048576)!==0&&nf(t,Bi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ea(t.elementType),t.type=e,typeof e=="function")_c(e)?(l=_a(e,l),t.tag=1,t=Sd(null,t,e,l,n)):(t.tag=0,t=mr(null,t,e,l,n));else{if(e!=null){var a=e.$$typeof;if(a===ne){t.tag=11,t=hd(null,t,e,l,n);break e}else if(a===Q){t.tag=14,t=md(null,t,e,l,n);break e}}throw t=et(e)||e,Error(r(306,t,""))}}return t;case 0:return mr(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,a=_a(l,t.pendingProps),Sd(e,t,l,a,n);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var i=t.memoizedState;a=i.element,Yc(e,t),Qi(t,l,null,n);var u=t.memoizedState;if(l=u.cache,Bl(t,gt,l),l!==i.cache&&Uc(t,[gt],n,!0),Xi(),l=u.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=xd(e,t,l,n);break e}else if(l!==a){a=En(Error(r(424)),t),Hi(a),t=xd(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=An(e.firstChild),Ct=t,De=!0,Ol=null,Tn=!0,n=pf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),l===a){t=gl(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return cu(e,t),e===null?(n=Bh(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,l=Tu(ue.current).createElement(n),l[ft]=t,l[it]=e,Dt(l,n,e),te(l),t.stateNode=l):t.memoizedState=Bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Je(t),e===null&&De&&(l=t.stateNode=zh(t.type,t.pendingProps,ue.current),Ct=t,Tn=!0,a=Ie,$l(t.type)?(eo=a,Ie=An(l.firstChild)):Ie=a),Rt(e,t,t.pendingProps.children,n),cu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((a=l=Ie)&&(l=Wg(l,t.type,t.pendingProps,Tn),l!==null?(t.stateNode=l,Ct=t,Ie=An(l.firstChild),Tn=!1,a=!0):a=!1),a||Ul(t)),Je(t),a=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,l=i.children,$r(a,i)?l=null:u!==null&&$r(a,u)&&(t.flags|=32),t.memoizedState!==null&&(a=Jc(e,t,dg,null,null,n),os._currentValue=a),cu(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&De&&((e=n=Ie)&&(n=Ig(n,t.pendingProps,Tn),n!==null?(t.stateNode=n,Ct=t,Ie=null,e=!0):e=!1),e||Ul(t)),null;case 13:return Ed(e,t,n);case 4:return We(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Na(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return hd(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Bl(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,Sa(t),a=Mt(a),l=l(a),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return md(e,t,t.type,t.pendingProps,n);case 15:return gd(e,t,t.type,t.pendingProps,n);case 19:return Nd(e,t,n);case 31:return Sg(e,t,n);case 22:return pd(e,t,n,t.pendingProps);case 24:return Sa(t),l=Mt(gt),e===null?(a=qc(),a===null&&(a=Fe,i=Bc(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:l,cache:a},kc(t),Bl(t,gt,a)):((e.lanes&n)!==0&&(Yc(e,t),Qi(t,null,null,n),Xi()),a=e.memoizedState,i=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Bl(t,gt,l)):(l=i.cache,Bl(t,gt,l),l!==a.cache&&Uc(t,[gt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function pl(e){e.flags|=4}function Er(e,t,n,l,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Id())e.flags|=8192;else throw wa=Ks,Lc}else e.flags&=-16777217}function _d(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yh(t))if(Id())e.flags|=8192;else throw wa=Ks,Lc}function ou(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?na():536870912,e.lanes|=t,ci|=t)}function Fi(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags&65011712,l|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Eg(e,t,n){var l=t.pendingProps;switch(Mc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),dl(gt),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($a(t)?pl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Pe(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(pl(t),i!==null?(Pe(t),_d(t,i)):(Pe(t),Er(t,a,null,l,n))):i?i!==e.memoizedState?(pl(t),Pe(t),_d(t,i)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pl(t),Pe(t),Er(t,a,e,l,n)),null;case 27:if(Yt(t),n=ue.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Pe(t),null}e=J.current,$a(t)?af(t):(e=zh(a,l,n),t.stateNode=e,pl(t))}return Pe(t),null;case 5:if(Yt(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Pe(t),null}if(i=J.current,$a(t))af(t);else{var u=Tu(ue.current);switch(i){case 1:i=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=u.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}i[ft]=t,i[it]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=i;e:switch(Dt(i,a,l),a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pl(t)}}return Pe(t),Er(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,$a(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,a=Ct,a!==null)switch(a.tag){case 27:case 5:l=a.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Eh(e.nodeValue,n)),e||Ul(t,!0)}else e=Tu(e).createTextNode(l),e[ft]=t,t.stateNode=e}return Pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=$a(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ft]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else n=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Pe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=$a(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(r(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));a[ft]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),a=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,a=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(a=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==a&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ou(t,t.updateQueue),Pe(t),null);case 4:return Ue(),e===null&&Qr(t.stateNode.containerInfo),Pe(t),null;case 10:return dl(t.type),Pe(t),null;case 19:if(z(dt),l=t.memoizedState,l===null)return Pe(t),null;if(a=(t.flags&128)!==0,i=l.rendering,i===null)if(a)Fi(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ws(e),i!==null){for(t.flags|=128,Fi(l,!1),e=i.updateQueue,t.updateQueue=e,ou(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Po(n,e),n=n.sibling;return G(dt,dt.current&1|2),De&&ol(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&rt()>gu&&(t.flags|=128,a=!0,Fi(l,!1),t.lanes=4194304)}else{if(!a)if(e=Ws(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ou(t,e),Fi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!De)return Pe(t),null}else 2*rt()-l.renderingStartTime>gu&&n!==536870912&&(t.flags|=128,a=!0,Fi(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rt(),e.sibling=null,n=dt.current,G(dt,a?n&1|2:n&1),De&&ol(t,l.treeForkCount),e):(Pe(t),null);case 22:case 23:return on(t),Vc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),n=t.updateQueue,n!==null&&ou(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&z(xa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dl(gt),Pe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function wg(e,t){switch(Mc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dl(gt),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Yt(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(r(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(dt),null;case 4:return Ue(),null;case 10:return dl(t.type),null;case 22:case 23:return on(t),Vc(),e!==null&&z(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dl(gt),null;case 25:return null;default:return null}}function Ad(e,t){switch(Mc(t),t.tag){case 3:dl(gt),Ue();break;case 26:case 27:case 5:Yt(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:z(dt);break;case 10:dl(t.type);break;case 22:case 23:on(t),Vc(),e!==null&&z(xa);break;case 24:dl(gt)}}function Wi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var a=l.next;n=a;do{if((n.tag&e)===e){l=void 0;var i=n.create,u=n.inst;l=i(),u.destroy=l}n=n.next}while(n!==a)}}catch(d){Ye(t,t.return,d)}}function Gl(e,t,n){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var i=a.next;l=i;do{if((l.tag&e)===e){var u=l.inst,d=u.destroy;if(d!==void 0){u.destroy=void 0,a=t;var p=n,A=d;try{A()}catch(U){Ye(a,p,U)}}}l=l.next}while(l!==i)}}catch(U){Ye(t,t.return,U)}}function jd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yf(t,n)}catch(l){Ye(e,e.return,l)}}}function Cd(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ye(e,t,l)}}function Ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(a){Ye(e,t,a)}}function Wn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(a){Ye(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ye(e,t,a)}else n.current=null}function Md(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(a){Ye(e,e.return,a)}}function wr(e,t,n){try{var l=e.stateNode;Vg(l,e.type,n,t),l[it]=t}catch(a){Ye(e,e.return,a)}}function Rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$l(e.type)||e.tag===4}function Nr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$l(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hn));else if(l!==4&&(l===27&&$l(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Tr(e,t,n),e=e.sibling;e!==null;)Tr(e,t,n),e=e.sibling}function fu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&$l(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(fu(e,t,n),e=e.sibling;e!==null;)fu(e,t,n),e=e.sibling}function Dd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Dt(t,l,n),t[ft]=e,t[it]=n}catch(i){Ye(e,e.return,i)}}var vl=!1,yt=!1,_r=!1,zd=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Ng(e,t){if(e=e.containerInfo,Kr=Du,e=Qo(e),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var a=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var u=0,d=-1,p=-1,A=0,U=0,q=e,j=null;t:for(;;){for(var R;q!==n||a!==0&&q.nodeType!==3||(d=u+a),q!==i||l!==0&&q.nodeType!==3||(p=u+l),q.nodeType===3&&(u+=q.nodeValue.length),(R=q.firstChild)!==null;)j=q,q=R;for(;;){if(q===e)break t;if(j===n&&++A===a&&(d=u),j===i&&++U===l&&(p=u),(R=q.nextSibling)!==null)break;q=j,j=q.parentNode}q=R}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Du=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,l=n.stateNode;try{var ae=_a(n.type,a);e=l.getSnapshotBeforeUpdate(ae,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Ye(n,n.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wr(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function Od(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:bl(e,n),l&4&&Wi(5,n);break;case 1:if(bl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(u){Ye(n,n.return,u)}else{var a=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Ye(n,n.return,u)}}l&64&&jd(n),l&512&&Ii(n,n.return);break;case 3:if(bl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yf(e,t)}catch(u){Ye(n,n.return,u)}}break;case 27:t===null&&l&4&&Dd(n);case 26:case 5:bl(e,n),t===null&&l&4&&Md(n),l&512&&Ii(n,n.return);break;case 12:bl(e,n);break;case 31:bl(e,n),l&4&&Hd(e,n);break;case 13:bl(e,n),l&4&&qd(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zg.bind(null,n),Pg(e,n))));break;case 22:if(l=n.memoizedState!==null||vl,!l){t=t!==null&&t.memoizedState!==null||yt,a=vl;var i=yt;vl=l,(yt=t)&&!i?Sl(e,n,(n.subtreeFlags&8772)!==0):bl(e,n),vl=a,yt=i}break;case 30:break;default:bl(e,n)}}function Ud(e){var t=e.alternate;t!==null&&(e.alternate=null,Ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&X(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,$t=!1;function yl(e,t,n){for(n=n.child;n!==null;)Bd(e,t,n),n=n.sibling}function Bd(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ot,n)}catch{}switch(n.tag){case 26:yt||Wn(n,t),yl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||Wn(n,t);var l=nt,a=$t;$l(n.type)&&(nt=n.stateNode,$t=!1),yl(e,t,n),us(n.stateNode),nt=l,$t=a;break;case 5:yt||Wn(n,t);case 6:if(l=nt,a=$t,nt=null,yl(e,t,n),nt=l,$t=a,nt!==null)if($t)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(i){Ye(n,t,i)}else try{nt.removeChild(n.stateNode)}catch(i){Ye(n,t,i)}break;case 18:nt!==null&&($t?(e=nt,jh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),pi(e)):jh(nt,n.stateNode));break;case 4:l=nt,a=$t,nt=n.stateNode.containerInfo,$t=!0,yl(e,t,n),nt=l,$t=a;break;case 0:case 11:case 14:case 15:Gl(2,n,t),yt||Gl(4,n,t),yl(e,t,n);break;case 1:yt||(Wn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Cd(n,t,l)),yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:yt=(l=yt)||n.memoizedState!==null,yl(e,t,n),yt=l;break;default:yl(e,t,n)}}function Hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pi(e)}catch(n){Ye(t,t.return,n)}}}function qd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pi(e)}catch(n){Ye(t,t.return,n)}}function Tg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zd),t;default:throw Error(r(435,e.tag))}}function du(e,t){var n=Tg(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var a=Og.bind(null,e,l);l.then(a,a)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var a=n[l],i=e,u=t,d=u;e:for(;d!==null;){switch(d.tag){case 27:if($l(d.type)){nt=d.stateNode,$t=!1;break e}break;case 5:nt=d.stateNode,$t=!1;break e;case 3:case 4:nt=d.stateNode.containerInfo,$t=!0;break e}d=d.return}if(nt===null)throw Error(r(160));Bd(i,u,a),nt=null,$t=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ld(t,e),t=t.sibling}var Ln=null;function Ld(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),Wt(e),l&4&&(Gl(3,e,e.return),Wi(3,e),Gl(5,e,e.return));break;case 1:Ft(t,e),Wt(e),l&512&&(yt||n===null||Wn(n,n.return)),l&64&&vl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var a=Ln;if(Ft(t,e),Wt(e),l&512&&(yt||n===null||Wn(n,n.return)),l&4){var i=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(l){case"title":i=a.getElementsByTagName("title")[0],(!i||i[w]||i[ft]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(l),a.head.insertBefore(i,a.querySelector("head > title"))),Dt(i,l,n),i[ft]=e,te(i),l=i;break e;case"link":var u=Lh("link","href",a).get(l+(n.href||""));if(u){for(var d=0;d<u.length;d++)if(i=u[d],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(d,1);break t}}i=a.createElement(l),Dt(i,l,n),a.head.appendChild(i);break;case"meta":if(u=Lh("meta","content",a).get(l+(n.content||""))){for(d=0;d<u.length;d++)if(i=u[d],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(d,1);break t}}i=a.createElement(l),Dt(i,l,n),a.head.appendChild(i);break;default:throw Error(r(468,l))}i[ft]=e,te(i),l=i}e.stateNode=l}else kh(a,e.type,e.stateNode);else e.stateNode=qh(a,l,e.memoizedProps);else i!==l?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,l===null?kh(a,e.type,e.stateNode):qh(a,l,e.memoizedProps)):l===null&&e.stateNode!==null&&wr(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),Wt(e),l&512&&(yt||n===null||Wn(n,n.return)),n!==null&&l&4&&wr(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),Wt(e),l&512&&(yt||n===null||Wn(n,n.return)),e.flags&32){a=e.stateNode;try{Sn(a,"")}catch(ae){Ye(e,e.return,ae)}}l&4&&e.stateNode!=null&&(a=e.memoizedProps,wr(e,a,n!==null?n.memoizedProps:a)),l&1024&&(_r=!0);break;case 6:if(Ft(t,e),Wt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ae){Ye(e,e.return,ae)}}break;case 3:if(ju=null,a=Ln,Ln=_u(t.containerInfo),Ft(t,e),Ln=a,Wt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(ae){Ye(e,e.return,ae)}_r&&(_r=!1,kd(e));break;case 4:l=Ln,Ln=_u(e.stateNode.containerInfo),Ft(t,e),Wt(e),Ln=l;break;case 12:Ft(t,e),Wt(e);break;case 31:Ft(t,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 13:Ft(t,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(mu=rt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 22:a=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,A=vl,U=yt;if(vl=A||a,yt=U||p,Ft(t,e),yt=U,vl=A,Wt(e),l&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||p||vl||yt||Aa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(i=p.stateNode,a)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{d=p.stateNode;var q=p.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null;d.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ae){Ye(p,p.return,ae)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=a?"":p.memoizedProps}catch(ae){Ye(p,p.return,ae)}}}else if(t.tag===18){if(n===null){p=t;try{var R=p.stateNode;a?Ch(R,!0):Ch(p.stateNode,!1)}catch(ae){Ye(p,p.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,du(e,n))));break;case 19:Ft(t,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Rd(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode,i=Nr(e);fu(e,i,a);break;case 5:var u=n.stateNode;n.flags&32&&(Sn(u,""),n.flags&=-33);var d=Nr(e);fu(e,d,u);break;case 3:case 4:var p=n.stateNode.containerInfo,A=Nr(e);Tr(e,A,p);break;default:throw Error(r(161))}}catch(U){Ye(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Od(e,t.alternate,t),t=t.sibling}function Aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gl(4,t,t.return),Aa(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Cd(t,t.return,n),Aa(t);break;case 27:us(t.stateNode);case 26:case 5:Wn(t,t.return),Aa(t);break;case 22:t.memoizedState===null&&Aa(t);break;case 30:Aa(t);break;default:Aa(t)}e=e.sibling}}function Sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,a=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:Sl(a,i,n),Wi(4,i);break;case 1:if(Sl(a,i,n),l=i,a=l.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(A){Ye(l,l.return,A)}if(l=i,a=l.updateQueue,a!==null){var d=l.stateNode;try{var p=a.shared.hiddenCallbacks;if(p!==null)for(a.shared.hiddenCallbacks=null,a=0;a<p.length;a++)vf(p[a],d)}catch(A){Ye(l,l.return,A)}}n&&u&64&&jd(i),Ii(i,i.return);break;case 27:Dd(i);case 26:case 5:Sl(a,i,n),n&&l===null&&u&4&&Md(i),Ii(i,i.return);break;case 12:Sl(a,i,n);break;case 31:Sl(a,i,n),n&&u&4&&Hd(a,i);break;case 13:Sl(a,i,n),n&&u&4&&qd(a,i);break;case 22:i.memoizedState===null&&Sl(a,i,n),Ii(i,i.return);break;case 30:break;default:Sl(a,i,n)}t=t.sibling}}function Ar(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&qi(n))}function jr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e))}function kn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yd(e,t,n,l),t=t.sibling}function Yd(e,t,n,l){var a=t.flags;switch(t.tag){case 0:case 11:case 15:kn(e,t,n,l),a&2048&&Wi(9,t);break;case 1:kn(e,t,n,l);break;case 3:kn(e,t,n,l),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e)));break;case 12:if(a&2048){kn(e,t,n,l),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,d=i.onPostCommit;typeof d=="function"&&d(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Ye(t,t.return,p)}}else kn(e,t,n,l);break;case 31:kn(e,t,n,l);break;case 13:kn(e,t,n,l);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?kn(e,t,n,l):Pi(e,t):i._visibility&2?kn(e,t,n,l):(i._visibility|=2,ii(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Ar(u,t);break;case 24:kn(e,t,n,l),a&2048&&jr(t.alternate,t);break;default:kn(e,t,n,l)}}function ii(e,t,n,l,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,u=t,d=n,p=l,A=u.flags;switch(u.tag){case 0:case 11:case 15:ii(i,u,d,p,a),Wi(8,u);break;case 23:break;case 22:var U=u.stateNode;u.memoizedState!==null?U._visibility&2?ii(i,u,d,p,a):Pi(i,u):(U._visibility|=2,ii(i,u,d,p,a)),a&&A&2048&&Ar(u.alternate,u);break;case 24:ii(i,u,d,p,a),a&&A&2048&&jr(u.alternate,u);break;default:ii(i,u,d,p,a)}t=t.sibling}}function Pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,a=l.flags;switch(l.tag){case 22:Pi(n,l),a&2048&&Ar(l.alternate,l);break;case 24:Pi(n,l),a&2048&&jr(l.alternate,l);break;default:Pi(n,l)}t=t.sibling}}var es=8192;function si(e,t,n){if(e.subtreeFlags&es)for(e=e.child;e!==null;)Gd(e,t,n),e=e.sibling}function Gd(e,t,n){switch(e.tag){case 26:si(e,t,n),e.flags&es&&e.memoizedState!==null&&fp(n,Ln,e.memoizedState,e.memoizedProps);break;case 5:si(e,t,n);break;case 3:case 4:var l=Ln;Ln=_u(e.stateNode.containerInfo),si(e,t,n),Ln=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=es,es=16777216,si(e,t,n),es=l):si(e,t,n));break;default:si(e,t,n)}}function Xd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];_t=l,Vd(l,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qd(e),e=e.sibling}function Qd(e){switch(e.tag){case 0:case 11:case 15:ts(e),e.flags&2048&&Gl(9,e,e.return);break;case 3:ts(e);break;case 12:ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hu(e)):ts(e);break;default:ts(e)}}function hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];_t=l,Vd(l,e)}Xd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gl(8,t,t.return),hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hu(t));break;default:hu(t)}e=e.sibling}}function Vd(e,t){for(;_t!==null;){var n=_t;switch(n.tag){case 0:case 11:case 15:Gl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,_t=l;else e:for(n=e;_t!==null;){l=_t;var a=l.sibling,i=l.return;if(Ud(l),l===n){_t=null;break e}if(a!==null){a.return=i,_t=a;break e}_t=i}}}var _g={getCacheForType:function(e){var t=Mt(gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Mt(gt).controller.signal}},Ag=typeof WeakMap=="function"?WeakMap:Map,qe=0,Fe=null,je=null,Me=0,ke=0,fn=null,Xl=!1,ui=!1,Cr=!1,xl=0,ut=0,Ql=0,ja=0,Mr=0,dn=0,ci=0,ns=null,It=null,Rr=!1,mu=0,Zd=0,gu=1/0,pu=null,Vl=null,St=0,Zl=null,ri=null,El=0,Dr=0,zr=null,Kd=null,ls=0,Or=null;function hn(){return(qe&2)!==0&&Me!==0?Me&-Me:M.T!==null?kr():Cl()}function Jd(){if(dn===0)if((Me&536870912)===0||De){var e=xt;xt<<=1,(xt&3932160)===0&&(xt=262144),dn=e}else dn=536870912;return e=rn.current,e!==null&&(e.flags|=32),dn}function Pt(e,t,n){(e===Fe&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(oi(e,0),Kl(e,Me,dn,!1)),vn(e,n),((qe&2)===0||e!==Fe)&&(e===Fe&&((qe&2)===0&&(ja|=n),ut===4&&Kl(e,Me,dn,!1)),In(e))}function $d(e,t,n){if((qe&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||zn(e,t),a=l?Mg(e,t):Br(e,t,!0),i=l;do{if(a===0){ui&&!l&&Kl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!jg(n)){a=Br(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var d=e;a=ns;var p=d.current.memoizedState.isDehydrated;if(p&&(oi(d,u).flags|=256),u=Br(d,u,!1),u!==2){if(Cr&&!p){d.errorRecoveryDisabledLanes|=i,ja|=i,a=4;break e}i=It,It=a,i!==null&&(It===null?It=i:It.push.apply(It,i))}a=u}if(i=!1,a!==2)continue}}if(a===1){oi(e,0),Kl(e,t,0,!0);break}e:{switch(l=e,i=a,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Kl(l,t,dn,!Xl);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(a=mu+300-rt(),10<a)){if(Kl(l,t,dn,!Xl),Tl(l,0,!0)!==0)break e;El=t,l.timeoutHandle=_h(Fd.bind(null,l,n,It,pu,Rr,t,dn,ja,ci,Xl,i,"Throttled",-0,0),a);break e}Fd(l,n,It,pu,Rr,t,dn,ja,ci,Xl,i,null,-0,0)}}break}while(!0);In(e)}function Fd(e,t,n,l,a,i,u,d,p,A,U,q,j,R){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Gd(t,i,q);var ae=(i&62914560)===i?mu-rt():(i&4194048)===i?Zd-rt():0;if(ae=dp(q,ae),ae!==null){El=i,e.cancelPendingCommit=ae(ah.bind(null,e,t,i,n,l,a,u,d,p,U,q,null,j,R)),Kl(e,i,u,!A);return}}ah(e,t,i,n,l,a,u,d,p)}function jg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var a=n[l],i=a.getSnapshot;a=a.value;try{if(!un(i(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kl(e,t,n,l){t&=~Mr,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var a=t;0<a;){var i=31-bt(a),u=1<<i;l[i]=-1,a&=~u}n!==0&&_l(e,n,t)}function vu(){return(qe&6)===0?(as(0),!1):!0}function Ur(){if(je!==null){if(ke===0)var e=je.return;else e=je,fl=ba=null,Wc(e),ei=null,ki=0,e=je;for(;e!==null;)Ad(e.alternate,e),e=e.return;je=null}}function oi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Jg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),El=0,Ur(),Fe=e,je=n=rl(e.current,null),Me=t,ke=0,fn=null,Xl=!1,ui=zn(e,t),Cr=!1,ci=dn=Mr=ja=Ql=ut=0,It=ns=null,Rr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var a=31-bt(l),i=1<<a;t|=e[a],l&=~i}return xl=t,qs(),n}function Wd(e,t){Ee=null,M.H=Ji,t===Pa||t===Zs?(t=hf(),ke=3):t===Lc?(t=hf(),ke=4):ke=t===hr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,je===null&&(ut=1,su(e,En(t,e.current)))}function Id(){var e=rn.current;return e===null?!0:(Me&4194048)===Me?_n===null:(Me&62914560)===Me||(Me&536870912)!==0?e===_n:!1}function Pd(){var e=M.H;return M.H=Ji,e===null?Ji:e}function eh(){var e=M.A;return M.A=_g,e}function yu(){ut=4,Xl||(Me&4194048)!==Me&&rn.current!==null||(ui=!0),(Ql&134217727)===0&&(ja&134217727)===0||Fe===null||Kl(Fe,Me,dn,!1)}function Br(e,t,n){var l=qe;qe|=2;var a=Pd(),i=eh();(Fe!==e||Me!==t)&&(pu=null,oi(e,t)),t=!1;var u=ut;e:do try{if(ke!==0&&je!==null){var d=je,p=fn;switch(ke){case 8:Ur(),u=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(t=!0);var A=ke;if(ke=0,fn=null,fi(e,d,p,A),n&&ui){u=0;break e}break;default:A=ke,ke=0,fn=null,fi(e,d,p,A)}}Cg(),u=ut;break}catch(U){Wd(e,U)}while(!0);return t&&e.shellSuspendCounter++,fl=ba=null,qe=l,M.H=a,M.A=i,je===null&&(Fe=null,Me=0,qs()),u}function Cg(){for(;je!==null;)th(je)}function Mg(e,t){var n=qe;qe|=2;var l=Pd(),a=eh();Fe!==e||Me!==t?(pu=null,gu=rt()+500,oi(e,t)):ui=zn(e,t);e:do try{if(ke!==0&&je!==null){t=je;var i=fn;t:switch(ke){case 1:ke=0,fn=null,fi(e,t,i,1);break;case 2:case 9:if(ff(i)){ke=0,fn=null,nh(t);break}t=function(){ke!==2&&ke!==9||Fe!==e||(ke=7),In(e)},i.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:ff(i)?(ke=0,fn=null,nh(t)):(ke=0,fn=null,fi(e,t,i,7));break;case 5:var u=null;switch(je.tag){case 26:u=je.memoizedState;case 5:case 27:var d=je;if(u?Yh(u):d.stateNode.complete){ke=0,fn=null;var p=d.sibling;if(p!==null)je=p;else{var A=d.return;A!==null?(je=A,bu(A)):je=null}break t}}ke=0,fn=null,fi(e,t,i,5);break;case 6:ke=0,fn=null,fi(e,t,i,6);break;case 8:Ur(),ut=6;break e;default:throw Error(r(462))}}Rg();break}catch(U){Wd(e,U)}while(!0);return fl=ba=null,M.H=l,M.A=a,qe=n,je!==null?0:(Fe=null,Me=0,qs(),ut)}function Rg(){for(;je!==null&&!Nl();)th(je)}function th(e){var t=Td(e.alternate,e,xl);e.memoizedProps=e.pendingProps,t===null?bu(e):je=t}function nh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=bd(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=bd(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Wc(t);default:Ad(n,t),t=je=Po(t,xl),t=Td(n,t,xl)}e.memoizedProps=e.pendingProps,t===null?bu(e):je=t}function fi(e,t,n,l){fl=ba=null,Wc(t),ei=null,ki=0;var a=t.return;try{if(bg(e,a,t,n,Me)){ut=1,su(e,En(n,e.current)),je=null;return}}catch(i){if(a!==null)throw je=a,i;ut=1,su(e,En(n,e.current)),je=null;return}t.flags&32768?(De||l===1?e=!0:ui||(Me&536870912)!==0?e=!1:(Xl=e=!0,(l===2||l===9||l===3||l===6)&&(l=rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lh(t,e)):bu(t)}function bu(e){var t=e;do{if((t.flags&32768)!==0){lh(t,Xl);return}e=t.return;var n=Eg(t.alternate,t,xl);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ut===0&&(ut=5)}function lh(e,t){do{var n=wg(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);ut=6,je=null}function ah(e,t,n,l,a,i,u,d,p){e.cancelPendingCommit=null;do Su();while(St!==0);if((qe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=Nc,Qn(e,n,i,u,d,p),e===Fe&&(je=Fe=null,Me=0),ri=t,Zl=e,El=n,Dr=i,zr=a,Kd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ug(Dn,function(){return rh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,a=O.p,O.p=2,u=qe,qe|=4;try{Ng(e,t,n)}finally{qe=u,O.p=a,M.T=l}}St=1,ih(),sh(),uh()}}function ih(){if(St===1){St=0;var e=Zl,t=ri,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=O.p;O.p=2;var a=qe;qe|=4;try{Ld(t,e);var i=Jr,u=Qo(e.containerInfo),d=i.focusedElem,p=i.selectionRange;if(u!==d&&d&&d.ownerDocument&&Xo(d.ownerDocument.documentElement,d)){if(p!==null&&bc(d)){var A=p.start,U=p.end;if(U===void 0&&(U=A),"selectionStart"in d)d.selectionStart=A,d.selectionEnd=Math.min(U,d.value.length);else{var q=d.ownerDocument||document,j=q&&q.defaultView||window;if(j.getSelection){var R=j.getSelection(),ae=d.textContent.length,ge=Math.min(p.start,ae),Ke=p.end===void 0?ge:Math.min(p.end,ae);!R.extend&&ge>Ke&&(u=Ke,Ke=ge,ge=u);var T=Go(d,ge),x=Go(d,Ke);if(T&&x&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==x.node||R.focusOffset!==x.offset)){var _=q.createRange();_.setStart(T.node,T.offset),R.removeAllRanges(),ge>Ke?(R.addRange(_),R.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),R.addRange(_))}}}}for(q=[],R=d;R=R.parentNode;)R.nodeType===1&&q.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<q.length;d++){var H=q[d];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Du=!!Kr,Jr=Kr=null}finally{qe=a,O.p=l,M.T=n}}e.current=t,St=2}}function sh(){if(St===2){St=0;var e=Zl,t=ri,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=O.p;O.p=2;var a=qe;qe|=4;try{Od(e,t.alternate,t)}finally{qe=a,O.p=l,M.T=n}}St=3}}function uh(){if(St===4||St===3){St=0,Yn();var e=Zl,t=ri,n=El,l=Kd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?St=5:(St=0,ri=Zl=null,ch(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Vl=null),tt(n),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ot,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,a=O.p,O.p=2,M.T=null;try{for(var i=e.onRecoverableError,u=0;u<l.length;u++){var d=l[u];i(d.value,{componentStack:d.stack})}}finally{M.T=t,O.p=a}}(El&3)!==0&&Su(),In(e),a=e.pendingLanes,(n&261930)!==0&&(a&42)!==0?e===Or?ls++:(ls=0,Or=e):ls=0,as(0)}}function ch(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qi(t)))}function Su(){return ih(),sh(),uh(),rh()}function rh(){if(St!==5)return!1;var e=Zl,t=Dr;Dr=0;var n=tt(El),l=M.T,a=O.p;try{O.p=32>n?32:n,M.T=null,n=zr,zr=null;var i=Zl,u=El;if(St=0,ri=Zl=null,El=0,(qe&6)!==0)throw Error(r(331));var d=qe;if(qe|=4,Qd(i.current),Yd(i,i.current,u,n),qe=d,as(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ot,i)}catch{}return!0}finally{O.p=a,M.T=l,ch(e,t)}}function oh(e,t,n){t=En(n,t),t=dr(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(vn(e,2),In(e))}function Ye(e,t,n){if(e.tag===3)oh(e,e,n);else for(;t!==null;){if(t.tag===3){oh(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vl===null||!Vl.has(l))){e=En(n,e),n=fd(2),l=Ll(t,n,2),l!==null&&(dd(n,l,t,e),vn(l,2),In(l));break}}t=t.return}}function Hr(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ag;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(n)||(Cr=!0,a.add(n),e=Dg.bind(null,e,t,n),t.then(e,e))}function Dg(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Me&n)===n&&(ut===4||ut===3&&(Me&62914560)===Me&&300>rt()-mu?(qe&2)===0&&oi(e,0):Mr|=n,ci===Me&&(ci=0)),In(e)}function fh(e,t){t===0&&(t=na()),e=pa(e,t),e!==null&&(vn(e,t),In(e))}function zg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fh(e,n)}function Og(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),fh(e,n)}function Ug(e,t){return Mn(e,t)}var xu=null,di=null,qr=!1,Eu=!1,Lr=!1,Jl=0;function In(e){e!==di&&e.next===null&&(di===null?xu=di=e:di=di.next=e),Eu=!0,qr||(qr=!0,Hg())}function as(e,t){if(!Lr&&Eu){Lr=!0;do for(var n=!1,l=xu;l!==null;){if(e!==0){var a=l.pendingLanes;if(a===0)var i=0;else{var u=l.suspendedLanes,d=l.pingedLanes;i=(1<<31-bt(42|e)+1)-1,i&=a&~(u&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,gh(l,i))}else i=Me,i=Tl(l,l===Fe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||zn(l,i)||(n=!0,gh(l,i));l=l.next}while(n);Lr=!1}}function Bg(){dh()}function dh(){Eu=qr=!1;var e=0;Jl!==0&&Kg()&&(e=Jl);for(var t=rt(),n=null,l=xu;l!==null;){var a=l.next,i=hh(l,t);i===0?(l.next=null,n===null?xu=a:n.next=a,a===null&&(di=n)):(n=l,(e!==0||(i&3)!==0)&&(Eu=!0)),l=a}St!==0&&St!==5||as(e),Jl!==0&&(Jl=0)}function hh(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-bt(i),d=1<<u,p=a[u];p===-1?((d&n)===0||(d&l)!==0)&&(a[u]=gn(d,t)):p<=t&&(e.expiredLanes|=d),i&=~d}if(t=Fe,n=Me,n=Tl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&tn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||zn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&tn(l),tt(n)){case 2:case 8:n=Qt;break;case 32:n=Dn;break;case 268435456:n=zt;break;default:n=Dn}return l=mh.bind(null,e),n=Mn(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&tn(l),e.callbackPriority=2,e.callbackNode=null,2}function mh(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var l=Me;return l=Tl(e,e===Fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:($d(e,l,t),hh(e,rt()),e.callbackNode!=null&&e.callbackNode===n?mh.bind(null,e):null)}function gh(e,t){if(Su())return null;$d(e,t,!0)}function Hg(){$g(function(){(qe&6)!==0?Mn(ta,Bg):dh()})}function kr(){if(Jl===0){var e=Wa;e===0&&(e=nn,nn<<=1,(nn&261888)===0&&(nn=256)),Jl=e}return Jl}function ph(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bn(""+e)}function vh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qg(e,t,n,l,a){if(t==="submit"&&n&&n.stateNode===a){var i=ph((a[it]||null).action),u=l.submitter;u&&(t=(t=u[it]||null)?ph(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var d=new La("action","action",null,l,a);e.push({event:d,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jl!==0){var p=u?vh(a,u):new FormData(a);sr(n,{pending:!0,data:p,method:a.method,action:i},null,p)}}else typeof i=="function"&&(d.preventDefault(),p=u?vh(a,u):new FormData(a),sr(n,{pending:!0,data:p,method:a.method,action:i},i,p))},currentTarget:a}]})}}for(var Yr=0;Yr<wc.length;Yr++){var Gr=wc[Yr],Lg=Gr.toLowerCase(),kg=Gr[0].toUpperCase()+Gr.slice(1);qn(Lg,"on"+kg)}qn(Ko,"onAnimationEnd"),qn(Jo,"onAnimationIteration"),qn($o,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(ng,"onTransitionRun"),qn(lg,"onTransitionStart"),qn(ag,"onTransitionCancel"),qn(Fo,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),_e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_e("onBeforeInput",["compositionend","keypress","textInput","paste"]),_e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(is));function yh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],a=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var u=l.length-1;0<=u;u--){var d=l[u],p=d.instance,A=d.currentTarget;if(d=d.listener,p!==i&&a.isPropagationStopped())break e;i=d,a.currentTarget=A;try{i(a)}catch(U){Hs(U)}a.currentTarget=null,i=p}else for(u=0;u<l.length;u++){if(d=l[u],p=d.instance,A=d.currentTarget,d=d.listener,p!==i&&a.isPropagationStopped())break e;i=d,a.currentTarget=A;try{i(a)}catch(U){Hs(U)}a.currentTarget=null,i=p}}}}function Ce(e,t){var n=t[Un];n===void 0&&(n=t[Un]=new Set);var l=e+"__bubble";n.has(l)||(bh(t,e,2,!1),n.add(l))}function Xr(e,t,n){var l=0;t&&(l|=4),bh(n,e,l,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[wu]){e[wu]=!0,Qe.forEach(function(n){n!=="selectionchange"&&(Yg.has(n)||Xr(n,!1,e),Xr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Xr("selectionchange",!1,t))}}function bh(e,t,n,l){switch(Jh(t)){case 2:var a=gp;break;case 8:a=pp;break;default:a=io}n=a.bind(null,t,n,e),a=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,l,a){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var u=l.tag;if(u===3||u===4){var d=l.stateNode.containerInfo;if(d===a)break;if(u===4)for(u=l.return;u!==null;){var p=u.tag;if((p===3||p===4)&&u.stateNode.containerInfo===a)return;u=u.return}for(;d!==null;){if(u=B(d),u===null)return;if(p=u.tag,p===5||p===6||p===26||p===27){l=i=u;continue e}d=d.parentNode}}l=l.return}Ua(function(){var A=i,U=ca(n),q=[];e:{var j=Wo.get(e);if(j!==void 0){var R=La,ae=e;switch(e){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":R=rc;break;case"focusin":ae="focus",R=Mi;break;case"focusout":ae="blur",R=Mi;break;case"beforeblur":case"afterblur":R=Mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Ci;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Rs;break;case Ko:case Jo:case $o:R=tc;break;case Fo:R=Ds;break;case"scroll":case"scrollend":R=Wu;break;case"wheel":R=zs;break;case"copy":case"cut":case"paste":R=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Ms;break;case"toggle":case"beforetoggle":R=mc}var ge=(t&4)!==0,Ke=!ge&&(e==="scroll"||e==="scrollend"),T=ge?j!==null?j+"Capture":null:j;ge=[];for(var x=A,_;x!==null;){var H=x;if(_=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||_===null||T===null||(H=ll(x,T),H!=null&&ge.push(ss(x,H,_))),Ke)break;x=x.return}0<ge.length&&(j=new R(j,ae,null,n,U),q.push({event:j,listeners:ge}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",j&&n!==mt&&(ae=n.relatedTarget||n.fromElement)&&(B(ae)||ae[yn]))break e;if((R||j)&&(j=U.window===U?U:(j=U.ownerDocument)?j.defaultView||j.parentWindow:window,R?(ae=n.relatedTarget||n.toElement,R=A,ae=ae?B(ae):null,ae!==null&&(Ke=y(ae),ge=ae.tag,ae!==Ke||ge!==5&&ge!==27&&ge!==6)&&(ae=null)):(R=null,ae=A),R!==ae)){if(ge=js,H="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Ms,H="onPointerLeave",T="onPointerEnter",x="pointer"),Ke=R==null?j:he(R),_=ae==null?j:he(ae),j=new ge(H,x+"leave",R,n,U),j.target=Ke,j.relatedTarget=_,H=null,B(U)===A&&(ge=new ge(T,x+"enter",ae,n,U),ge.target=_,ge.relatedTarget=Ke,H=ge),Ke=H,R&&ae)t:{for(ge=Gg,T=R,x=ae,_=0,H=T;H;H=ge(H))_++;H=0;for(var de=x;de;de=ge(de))H++;for(;0<_-H;)T=ge(T),_--;for(;0<H-_;)x=ge(x),H--;for(;_--;){if(T===x||x!==null&&T===x.alternate){ge=T;break t}T=ge(T),x=ge(x)}ge=null}else ge=null;R!==null&&Sh(q,j,R,ge,!1),ae!==null&&Ke!==null&&Sh(q,Ke,ae,ge,!0)}}e:{if(j=A?he(A):window,R=j.nodeName&&j.nodeName.toLowerCase(),R==="select"||R==="input"&&j.type==="file")var Be=Bo;else if(Ga(j))if(Ho)Be=Pm;else{Be=Wm;var ie=Fm}else R=j.nodeName,!R||R.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?A&&Oa(A.elementType)&&(Be=Bo):Be=Im;if(Be&&(Be=Be(e,A))){ul(q,Be,n,U);break e}ie&&ie(e,j,A),e==="focusout"&&A&&j.type==="number"&&A.memoizedProps.value!=null&&ln(j,"number",j.value)}switch(ie=A?he(A):window,e){case"focusin":(Ga(ie)||ie.contentEditable==="true")&&(Xa=ie,Sc=A,Ui=null);break;case"focusout":Ui=Sc=Xa=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Vo(q,n,U);break;case"selectionchange":if(tg)break;case"keydown":case"keyup":Vo(q,n,U)}var Ne;if(Di)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else be?V(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(il&&n.locale!=="ko"&&(be||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&be&&(Ne=_i()):(Jn=U,Ha="value"in Jn?Jn.value:Jn.textContent,be=!0)),ie=Nu(A,Re),0<ie.length&&(Re=new Cs(Re,e,null,n,U),q.push({event:Re,listeners:ie}),Ne?Re.data=Ne:(Ne=le(n),Ne!==null&&(Re.data=Ne)))),(Ne=pc?Ae(e,n):Tt(e,n))&&(Re=Nu(A,"onBeforeInput"),0<Re.length&&(ie=new Cs("onBeforeInput","beforeinput",null,n,U),q.push({event:ie,listeners:Re}),ie.data=Ne)),qg(q,e,A,n,U)}yh(q,t)})}function ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nu(e,t){for(var n=t+"Capture",l=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ll(e,n),a!=null&&l.unshift(ss(e,a,i)),a=ll(e,t),a!=null&&l.push(ss(e,a,i))),e.tag===3)return l;e=e.return}return[]}function Gg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sh(e,t,n,l,a){for(var i=t._reactName,u=[];n!==null&&n!==l;){var d=n,p=d.alternate,A=d.stateNode;if(d=d.tag,p!==null&&p===l)break;d!==5&&d!==26&&d!==27||A===null||(p=A,a?(A=ll(n,i),A!=null&&u.unshift(ss(n,A,p))):a||(A=ll(n,i),A!=null&&u.push(ss(n,A,p)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Xg=/\r\n?/g,Qg=/\u0000|\uFFFD/g;function xh(e){return(typeof e=="string"?e:""+e).replace(Xg,`
`).replace(Qg,"")}function Eh(e,t){return t=xh(t),xh(e)===t}function Ze(e,t,n,l,a,i){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Sn(e,""+l);break;case"className":sa(e,"class",l);break;case"tabIndex":sa(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(e,n,l);break;case"style":sn(e,l,i);break;case"data":if(t!=="object"){sa(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Bn(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ze(e,t,"name",a.name,a,null),Ze(e,t,"formEncType",a.formEncType,a,null),Ze(e,t,"formMethod",a.formMethod,a,null),Ze(e,t,"formTarget",a.formTarget,a,null)):(Ze(e,t,"encType",a.encType,a,null),Ze(e,t,"method",a.method,a,null),Ze(e,t,"target",a.target,a,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Bn(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=Bn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ts.get(n)||n,ia(e,n,l))}}function Zr(e,t,n,l,a,i){switch(n){case"style":sn(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!we.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),i=e[it]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof l=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,a);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ia(e,n,l)}}}function Dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var l=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,i,u,n,null)}}a&&Ze(e,t,"srcSet",n.srcSet,n,null),l&&Ze(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var d=i=u=a=null,p=null,A=null;for(l in n)if(n.hasOwnProperty(l)){var U=n[l];if(U!=null)switch(l){case"name":a=U;break;case"type":u=U;break;case"checked":p=U;break;case"defaultChecked":A=U;break;case"value":i=U;break;case"defaultValue":d=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Ze(e,t,l,U,n,null)}}Ni(e,i,d,p,A,u,a,!1);return;case"select":Ce("invalid",e),l=u=i=null;for(a in n)if(n.hasOwnProperty(a)&&(d=n[a],d!=null))switch(a){case"value":i=d;break;case"defaultValue":u=d;break;case"multiple":l=d;default:Ze(e,t,a,d,n,null)}t=i,n=u,e.multiple=!!l,t!=null?an(e,!!l,t,!1):n!=null&&an(e,!!l,n,!0);return;case"textarea":Ce("invalid",e),i=a=l=null;for(u in n)if(n.hasOwnProperty(u)&&(d=n[u],d!=null))switch(u){case"value":l=d;break;case"defaultValue":a=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:Ze(e,t,u,d,n,null)}Zn(e,l,a,i);return;case"option":for(p in n)n.hasOwnProperty(p)&&(l=n[p],l!=null)&&(p==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(e,t,p,l,n,null));return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(l=0;l<is.length;l++)Ce(is[l],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in n)if(n.hasOwnProperty(A)&&(l=n[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,A,l,n,null)}return;default:if(Oa(t)){for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!==void 0&&Zr(e,t,U,l,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(l=n[d],l!=null&&Ze(e,t,d,l,n,null))}function Vg(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,u=null,d=null,p=null,A=null,U=null;for(R in n){var q=n[R];if(n.hasOwnProperty(R)&&q!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":p=q;default:l.hasOwnProperty(R)||Ze(e,t,R,null,l,q)}}for(var j in l){var R=l[j];if(q=n[j],l.hasOwnProperty(j)&&(R!=null||q!=null))switch(j){case"type":i=R;break;case"name":a=R;break;case"checked":A=R;break;case"defaultChecked":U=R;break;case"value":u=R;break;case"defaultValue":d=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==q&&Ze(e,t,j,R,l,q)}}za(e,u,d,p,A,U,i,a);return;case"select":R=u=d=j=null;for(i in n)if(p=n[i],n.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":R=p;default:l.hasOwnProperty(i)||Ze(e,t,i,null,l,p)}for(a in l)if(i=l[a],p=n[a],l.hasOwnProperty(a)&&(i!=null||p!=null))switch(a){case"value":j=i;break;case"defaultValue":d=i;break;case"multiple":u=i;default:i!==p&&Ze(e,t,a,i,l,p)}t=d,n=u,l=R,j!=null?an(e,!!n,j,!1):!!l!=!!n&&(t!=null?an(e,!!n,t,!0):an(e,!!n,n?[]:"",!1));return;case"textarea":R=j=null;for(d in n)if(a=n[d],n.hasOwnProperty(d)&&a!=null&&!l.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Ze(e,t,d,null,l,a)}for(u in l)if(a=l[u],i=n[u],l.hasOwnProperty(u)&&(a!=null||i!=null))switch(u){case"value":j=a;break;case"defaultValue":R=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(r(91));break;default:a!==i&&Ze(e,t,u,a,l,i)}Ti(e,j,R);return;case"option":for(var ae in n)j=n[ae],n.hasOwnProperty(ae)&&j!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?e.selected=!1:Ze(e,t,ae,null,l,j));for(p in l)j=l[p],R=n[p],l.hasOwnProperty(p)&&j!==R&&(j!=null||R!=null)&&(p==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Ze(e,t,p,j,l,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in n)j=n[ge],n.hasOwnProperty(ge)&&j!=null&&!l.hasOwnProperty(ge)&&Ze(e,t,ge,null,l,j);for(A in l)if(j=l[A],R=n[A],l.hasOwnProperty(A)&&j!==R&&(j!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:Ze(e,t,A,j,l,R)}return;default:if(Oa(t)){for(var Ke in n)j=n[Ke],n.hasOwnProperty(Ke)&&j!==void 0&&!l.hasOwnProperty(Ke)&&Zr(e,t,Ke,void 0,l,j);for(U in l)j=l[U],R=n[U],!l.hasOwnProperty(U)||j===R||j===void 0&&R===void 0||Zr(e,t,U,j,l,R);return}}for(var T in n)j=n[T],n.hasOwnProperty(T)&&j!=null&&!l.hasOwnProperty(T)&&Ze(e,t,T,null,l,j);for(q in l)j=l[q],R=n[q],!l.hasOwnProperty(q)||j===R||j==null&&R==null||Ze(e,t,q,j,l,R)}function wh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var a=n[l],i=a.transferSize,u=a.initiatorType,d=a.duration;if(i&&d&&wh(u)){for(u=0,d=a.responseEnd,l+=1;l<n.length;l++){var p=n[l],A=p.startTime;if(A>d)break;var U=p.transferSize,q=p.initiatorType;U&&wh(q)&&(p=p.responseEnd,u+=U*(p<d?1:(d-A)/(p-A)))}if(--l,t+=8*(i+u)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kr=null,Jr=null;function Tu(e){return e.nodeType===9?e:e.ownerDocument}function Nh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Th(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $r(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fr=null;function Kg(){var e=window.event;return e&&e.type==="popstate"?e===Fr?!1:(Fr=e,!0):(Fr=null,!1)}var _h=typeof setTimeout=="function"?setTimeout:void 0,Jg=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,$g=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(e){return Ah.resolve(null).then(e).catch(Fg)}:_h;function Fg(e){setTimeout(function(){throw e})}function $l(e){return e==="head"}function jh(e,t){var n=t,l=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(a),pi(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")us(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,us(n);for(var i=n.firstChild;i;){var u=i.nextSibling,d=i.nodeName;i[w]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=u}}else n==="body"&&us(e.ownerDocument.body);n=a}while(n);pi(t)}function Ch(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Wr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wr(n),X(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Wg(e,t,n,l){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[w])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Ig(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function Mh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Ir(e){return e.data==="$?"||e.data==="$~"}function Pr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Pg(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var eo=null;function Rh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function zh(e,t,n){switch(t=Tu(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);X(e)}var jn=new Map,Oh=new Set;function _u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wl=O.d;O.d={f:ep,r:tp,D:np,C:lp,L:ap,m:ip,X:up,S:sp,M:cp};function ep(){var e=wl.f(),t=vu();return e||t}function tp(e){var t=oe(e);t!==null&&t.tag===5&&t.type==="form"?Wf(t):wl.r(e)}var hi=typeof document>"u"?null:document;function Uh(e,t,n){var l=hi;if(l&&typeof t=="string"&&t){var a=Jt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Oh.has(a)||(Oh.add(a),e={rel:e,crossOrigin:n,href:t},l.querySelector(a)===null&&(t=l.createElement("link"),Dt(t,"link",e),te(t),l.head.appendChild(t)))}}function np(e){wl.D(e),Uh("dns-prefetch",e,null)}function lp(e,t){wl.C(e,t),Uh("preconnect",e,t)}function ap(e,t,n){wl.L(e,t,n);var l=hi;if(l&&e&&t){var a='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Jt(n.imageSizes)+'"]')):a+='[href="'+Jt(e)+'"]';var i=a;switch(t){case"style":i=mi(e);break;case"script":i=gi(e)}jn.has(i)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),jn.set(i,e),l.querySelector(a)!==null||t==="style"&&l.querySelector(cs(i))||t==="script"&&l.querySelector(rs(i))||(t=l.createElement("link"),Dt(t,"link",e),te(t),l.head.appendChild(t)))}}function ip(e,t){wl.m(e,t);var n=hi;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',i=a;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=gi(e)}if(!jn.has(i)&&(e=C({rel:"modulepreload",href:e},t),jn.set(i,e),n.querySelector(a)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rs(i)))return}l=n.createElement("link"),Dt(l,"link",e),te(l),n.head.appendChild(l)}}}function sp(e,t,n){wl.S(e,t,n);var l=hi;if(l&&e){var a=fe(l).hoistableStyles,i=mi(e);t=t||"default";var u=a.get(i);if(!u){var d={loading:0,preload:null};if(u=l.querySelector(cs(i)))d.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jn.get(i))&&to(e,n);var p=u=l.createElement("link");te(p),Dt(p,"link",e),p._p=new Promise(function(A,U){p.onload=A,p.onerror=U}),p.addEventListener("load",function(){d.loading|=1}),p.addEventListener("error",function(){d.loading|=2}),d.loading|=4,Au(u,t,l)}u={type:"stylesheet",instance:u,count:1,state:d},a.set(i,u)}}}function up(e,t){wl.X(e,t);var n=hi;if(n&&e){var l=fe(n).hoistableScripts,a=gi(e),i=l.get(a);i||(i=n.querySelector(rs(a)),i||(e=C({src:e,async:!0},t),(t=jn.get(a))&&no(e,t),i=n.createElement("script"),te(i),Dt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(a,i))}}function cp(e,t){wl.M(e,t);var n=hi;if(n&&e){var l=fe(n).hoistableScripts,a=gi(e),i=l.get(a);i||(i=n.querySelector(rs(a)),i||(e=C({src:e,async:!0,type:"module"},t),(t=jn.get(a))&&no(e,t),i=n.createElement("script"),te(i),Dt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(a,i))}}function Bh(e,t,n,l){var a=(a=ue.current)?_u(a):null;if(!a)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=mi(n.href),n=fe(a).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=mi(n.href);var i=fe(a).hoistableStyles,u=i.get(e);if(u||(a=a.ownerDocument||a,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=a.querySelector(cs(e)))&&!i._p&&(u.instance=i,u.state.loading=5),jn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jn.set(e,n),i||rp(a,e,n,u.state))),t&&l===null)throw Error(r(528,""));return u}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gi(n),n=fe(a).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function mi(e){return'href="'+Jt(e)+'"'}function cs(e){return'link[rel="stylesheet"]['+e+"]"}function Hh(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function rp(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Dt(t,"link",n),te(t),e.head.appendChild(t))}function gi(e){return'[src="'+Jt(e)+'"]'}function rs(e){return"script[async]"+e}function qh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(l)return t.instance=l,te(l),l;var a=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),te(l),Dt(l,"style",a),Au(l,n.precedence,e),t.instance=l;case"stylesheet":a=mi(n.href);var i=e.querySelector(cs(a));if(i)return t.state.loading|=4,t.instance=i,te(i),i;l=Hh(n),(a=jn.get(a))&&to(l,a),i=(e.ownerDocument||e).createElement("link"),te(i);var u=i;return u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),Dt(i,"link",l),t.state.loading|=4,Au(i,n.precedence,e),t.instance=i;case"script":return i=gi(n.src),(a=e.querySelector(rs(i)))?(t.instance=a,te(a),a):(l=n,(a=jn.get(i))&&(l=C({},n),no(l,a)),e=e.ownerDocument||e,a=e.createElement("script"),te(a),Dt(a,"link",l),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Au(l,n.precedence,e));return t.instance}function Au(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=l.length?l[l.length-1]:null,i=a,u=0;u<l.length;u++){var d=l[u];if(d.dataset.precedence===t)i=d;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function to(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function no(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ju=null;function Lh(e,t,n){if(ju===null){var l=new Map,a=ju=new Map;a.set(n,l)}else a=ju,l=a.get(n),l||(l=new Map,a.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[w]||i[ft]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var d=l.get(u);d?d.push(i):l.set(u,[i])}}return l}function kh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function op(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fp(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=mi(l.href),i=t.querySelector(cs(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,te(i);return}i=t.ownerDocument||t,l=Hh(l),(a=jn.get(a))&&to(l,a),i=i.createElement("link"),te(i);var u=i;u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),Dt(i,"link",l),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Cu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var lo=0;function dp(e,t){return e.stylesheets&&e.count===0&&Ru(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&lo===0&&(lo=62500*Zg());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>lo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(a)}}:null}function Cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Ru(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(hp,e),Mu=null,Cu.call(e))}function hp(e,t){if(!(t.state.loading&4)){var n=Mu.get(e);if(n)var l=n.get(null);else{n=new Map,Mu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var u=a[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),l=u)}l&&n.set(null,l)}a=t.instance,u=a.getAttribute("data-precedence"),i=n.get(u)||l,i===l&&n.set(null,a),n.set(u,a),this.count++,l=Cu.bind(this),a.addEventListener("load",l),a.addEventListener("error",l),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var os={$$typeof:ce,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function mp(e,t,n,l,a,i,u,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=l,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Gh(e,t,n,l,a,i,u,d,p,A,U,q){return e=new mp(e,t,n,u,p,A,U,q,d),t=1,i===!0&&(t|=24),i=cn(3,null,null,t),e.current=i,i.stateNode=e,t=Bc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:n,cache:t},kc(i),e}function Xh(e){return e?(e=Za,e):Za}function Qh(e,t,n,l,a,i){a=Xh(a),l.context===null?l.context=a:l.pendingContext=a,l=ql(t),l.payload={element:n},i=i===void 0?null:i,i!==null&&(l.callback=i),n=Ll(e,l,t),n!==null&&(Pt(n,e,t),Gi(n,e,t))}function Vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ao(e,t){Vh(e,t),(e=e.alternate)&&Vh(e,t)}function Zh(e){if(e.tag===13||e.tag===31){var t=pa(e,67108864);t!==null&&Pt(t,e,67108864),ao(e,67108864)}}function Kh(e){if(e.tag===13||e.tag===31){var t=hn();t=jl(t);var n=pa(e,t);n!==null&&Pt(n,e,t),ao(e,t)}}var Du=!0;function gp(e,t,n,l){var a=M.T;M.T=null;var i=O.p;try{O.p=2,io(e,t,n,l)}finally{O.p=i,M.T=a}}function pp(e,t,n,l){var a=M.T;M.T=null;var i=O.p;try{O.p=8,io(e,t,n,l)}finally{O.p=i,M.T=a}}function io(e,t,n,l){if(Du){var a=so(l);if(a===null)Vr(e,t,l,zu,n),$h(e,l);else if(yp(a,e,t,n,l))l.stopPropagation();else if($h(e,l),t&4&&-1<vp.indexOf(e)){for(;a!==null;){var i=oe(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=Ht(i.pendingLanes);if(u!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;u;){var p=1<<31-bt(u);d.entanglements[1]|=p,u&=~p}In(i),(qe&6)===0&&(gu=rt()+500,as(0))}}break;case 31:case 13:d=pa(i,2),d!==null&&Pt(d,i,2),vu(),ao(i,2)}if(i=so(l),i===null&&Vr(e,t,l,zu,n),i===a)break;a=i}a!==null&&l.stopPropagation()}else Vr(e,t,l,null,n)}}function so(e){return e=ca(e),uo(e)}var zu=null;function uo(e){if(zu=null,e=B(e),e!==null){var t=y(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zu=e,null}function Jh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rn()){case ta:return 2;case Qt:return 8;case Dn:case Pn:return 32;case zt:return 268435456;default:return 32}default:return 32}}var co=!1,Fl=null,Wl=null,Il=null,fs=new Map,ds=new Map,Pl=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $h(e,t){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function hs(e,t,n,l,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[a]},t!==null&&(t=oe(t),t!==null&&Zh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yp(e,t,n,l,a){switch(t){case"focusin":return Fl=hs(Fl,e,t,n,l,a),!0;case"dragenter":return Wl=hs(Wl,e,t,n,l,a),!0;case"mouseover":return Il=hs(Il,e,t,n,l,a),!0;case"pointerover":var i=a.pointerId;return fs.set(i,hs(fs.get(i)||null,e,t,n,l,a)),!0;case"gotpointercapture":return i=a.pointerId,ds.set(i,hs(ds.get(i)||null,e,t,n,l,a)),!0}return!1}function Fh(e){var t=B(e.target);if(t!==null){var n=y(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,On(e.priority,function(){Kh(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,On(e.priority,function(){Kh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=so(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);mt=l,n.target.dispatchEvent(l),mt=null}else return t=oe(n),t!==null&&Zh(t),e.blockedOn=n,!1;t.shift()}return!0}function Wh(e,t,n){Ou(e)&&n.delete(t)}function bp(){co=!1,Fl!==null&&Ou(Fl)&&(Fl=null),Wl!==null&&Ou(Wl)&&(Wl=null),Il!==null&&Ou(Il)&&(Il=null),fs.forEach(Wh),ds.forEach(Wh)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,co||(co=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bp)))}var Bu=null;function Ih(e){Bu!==e&&(Bu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bu===e&&(Bu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],a=e[t+2];if(typeof l!="function"){if(uo(l||n)===null)continue;break}var i=oe(n);i!==null&&(e.splice(t,3),t-=3,sr(i,{pending:!0,data:a,method:n.method,action:l},l,a))}}))}function pi(e){function t(p){return Uu(p,e)}Fl!==null&&Uu(Fl,e),Wl!==null&&Uu(Wl,e),Il!==null&&Uu(Il,e),fs.forEach(t),ds.forEach(t);for(var n=0;n<Pl.length;n++){var l=Pl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Fh(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var a=n[l],i=n[l+1],u=a[it]||null;if(typeof i=="function")u||Ih(n);else if(u){var d=null;if(i&&i.hasAttribute("formAction")){if(a=i,u=i[it]||null)d=u.formAction;else if(uo(a)!==null)continue}else d=u.action;typeof d=="function"?n[l+1]=d:(n.splice(l,3),l-=3),Ih(n)}}}function Ph(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(u){return a=u})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function ro(e){this._internalRoot=e}Hu.prototype.render=ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=hn();Qh(n,l,e,t,null,null)},Hu.prototype.unmount=ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qh(e.current,2,null,e,null,null),vu(),t[yn]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&Fh(e)}};var em=c.version;if(em!=="19.2.4")throw Error(r(527,em,"19.2.4"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var Sp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ot=qu.inject(Sp),jt=qu}catch{}}return gs.createRoot=function(e,t){if(!h(e))throw Error(r(299));var n=!1,l="",a=ud,i=cd,u=rd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Gh(e,1,!1,null,null,n,l,null,a,i,u,Ph),e[yn]=t.current,Qr(e),new ro(t)},gs.hydrateRoot=function(e,t,n){if(!h(e))throw Error(r(299));var l=!1,a="",i=ud,u=cd,d=rd,p=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=Gh(e,1,!0,t,n??null,l,a,p,i,u,d,Ph),t.context=Xh(null),n=t.current,l=hn(),l=jl(l),a=ql(l),a.callback=null,Ll(n,a,l),n=l,t.current.lanes=n,vn(t,n),In(t),e[yn]=t.current,Qr(e),new Hu(t)},gs.version="19.2.4",gs}var om;function Cp(){if(om)return ho.exports;om=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),ho.exports=jp(),ho.exports}var Mp=Cp();function Rp(){return o.jsxs("footer",{className:"marker-footer","aria-label":"Site footer",children:[o.jsx("div",{className:"footer-copy",children:" 2025 Vysti Research. All rights reserved."}),o.jsx("img",{className:"footer-logo",src:"/assets/logo_black.png",alt:"Vysti"})]})}let vs=null,Lu=null;async function Am(){return vs||Lu||(Lu=(async()=>{const s=await fetch("/student-react-config.json",{cache:"no-store"});if(!s.ok)throw new Error(`Failed to load runtime config (${s.status})`);const c=await s.json();if(!c||typeof c!="object")throw new Error("Invalid runtime config");return vs=c,window.__vystiRuntimeConfig=c,vs})(),Lu)}function Co(){return vs||window.__vystiRuntimeConfig||{}}function Vu(s="https://vysti-rules.onrender.com"){const c=Co().apiBaseUrl||s;return String(c).replace(/\/$/,"")}function Dp(){return document.querySelector('meta[name="app-build-id"]')?.content||"dev"}const fm={apiBaseUrl:"",supabaseUrl:"",supabaseAnonKey:"",buildId:"",featureFlags:{reactBeta:!1,revisionPracticeReact:!1,debugRevisionPractice:!1,practiceNavigationReact:!1,practiceHighlightReact:!1,debugPracticeNavigation:!1,hardeningReact:!1,cancelRequestsReact:!1,strictFileValidationReact:!1,statusToastsReact:!1,debugHardening:!1,autosaveDraftReact:!1,revisionHistoryReact:!1,debugAutosave:!1,debugHistory:!1}};let Ca=null,xo=null;const Eo=s=>{const c={...fm,...s||{},featureFlags:{...fm.featureFlags,...s?.featureFlags||{}}};return c.buildId||(c.buildId=Dp()),c},zp=s=>!s.supabaseUrl||!s.supabaseAnonKey||!s.apiBaseUrl?new Error("Missing required app configuration."):null,Op=1.5;async function Up(){if(Ca)return Ca;try{await Am();const c=Co();Ca=Eo(c)}catch(c){xo=c,Ca=Eo()}const s=zp(Ca);return s&&(xo=s),Ca}function ws(){return Ca||Eo()}function jm(){return xo}const Cm=[{value:"textual_analysis",label:"Analytic essay"},{value:"peel_paragraph",label:"Mini-essay paragraph"},{value:"reader_response",label:"Reader response"},{value:"argumentation",label:"Argumentation"}],dm={textual_analysis:{description:"A formal and academic essay of analysis with all Vysti Rules running.",details:["No first-person allowed or personal pronouns","First sentence should state the author, genre, title, and summary.","Requires a closed thesis statement.","Requires quoted evidence in body paragraphs.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},peel_paragraph:{description:"One focused analytical paragraph following the Vysti Rules.",details:["The first sentence should state the author, genre, title, and summary.","The first sentence should include devices and/or strategies like a closed thesis","No first-person allowed or personal pronouns","Requires quoted evidence in the body of the paragraph.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},reader_response:{description:"More personal voice allowed, but still needs argument + evidence.",details:["Allows first-person and personal pronouns","Allows contractions and 'which'","First sentence should state the author, genre, title, and summary.","Requires a closed thesis statement.","Requires quoted evidence in body paragraphs.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},argumentation:{description:"Argumentation is more open mode beyond textual analysis.",details:["Allows for past tense.","Allows first-person and personal pronouns","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]}};function Bp(){const{buildId:s}=ws(),c=()=>{try{localStorage.setItem("uiMode","classic")}catch{}};return o.jsxs("div",{className:"beta-banner",role:"status","aria-live":"polite",children:[o.jsx("span",{className:"beta-badge",children:"React Beta"}),o.jsxs("span",{className:"beta-text",children:["React Beta  if anything looks wrong, use"," ",o.jsx("a",{href:"/student.html",onClick:c,children:"student.html"})]}),s?o.jsxs("span",{className:"beta-build",children:["Build ",s]}):null,o.jsx("a",{className:"beta-link",href:"/student.html",onClick:c,children:"Return to classic student.html"})]})}let Zu="";const Yu=[];let Mm=null;const Hp=s=>{Yu.push(s),Yu.length>50&&Yu.shift()};function qp(s){Zu=s?.buildId||""}function Cn(s,c={}){Hp({type:s,details:c,buildId:Zu,at:new Date().toISOString()})}function en(s,c={}){Mm={message:s,...c,at:new Date().toISOString(),buildId:Zu},Cn("error",{message:s,...c})}function Rm(){return{buildId:Zu,lastError:Mm,recentEvents:Yu.slice(-12)}}const Lp=/key|secret|token|anonkey|authorization/i,hm=(s,c="full")=>{const f=String(s||"");return f&&c==="partial"&&f.length>=8?`${f.slice(0,4)}${f.slice(-4)}`:"[REDACTED]"},kp=s=>s?Lp.test(String(s)):!1,Yp=(s,c)=>c==="supabaseAnonKey"?hm(s,"partial"):kp(c)?hm(s):s,wo=s=>{if(Array.isArray(s))return s.map(f=>wo(f));if(!s||typeof s!="object")return s;const c={};return Object.entries(s).forEach(([f,r])=>{r&&typeof r=="object"?c[f]=wo(r):c[f]=Yp(r,f)}),c};function Gp(s){return wo(s)}function Xp({data:s,isOpen:c,onToggle:f,rolloutConfig:r,rolloutReason:h,uiMode:y,buildId:v,onForceClassic:N,onForceReact:S,onClearUiMode:m}){const[D,C]=g.useState(!1),[Y,k]=g.useState(""),Z=g.useRef(null),P=typeof f=="function"?c:D,$=()=>{typeof f=="function"?f():C(K=>!K)};g.useEffect(()=>{P&&Z.current?.focus()},[P]);const I=g.useMemo(()=>{if(!P)return"";const K=s||Rm(),ee=Gp(K);return JSON.stringify(ee,null,2)},[s,P]),F=async()=>{try{await navigator.clipboard.writeText(I),k("Copied.")}catch{k("Copy failed.")}window.setTimeout(()=>k(""),2e3)},ce=r?JSON.stringify(r,null,2):"Missing rollout config",ne=h?JSON.stringify(h,null,2):"No rollout reason";return o.jsxs("div",{className:"diagnostics",children:[o.jsx("button",{type:"button",className:"diagnostics-link",onClick:$,"aria-expanded":P,children:"Diagnostics"}),P?o.jsxs("div",{className:"diagnostics-panel",role:"dialog","aria-modal":"true",tabIndex:-1,ref:Z,onKeyDown:K=>{if(K.key==="Escape"&&(K.preventDefault(),$()),K.key==="Tab"){const ee=Z.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!ee||ee.length===0)return;const Q=Array.from(ee),W=Q[0],pe=Q[Q.length-1];K.shiftKey&&document.activeElement===W?(K.preventDefault(),pe.focus()):!K.shiftKey&&document.activeElement===pe&&(K.preventDefault(),W.focus())}},children:[o.jsxs("div",{className:"diagnostics-row",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:F,children:"Copy debug info"}),Y?o.jsx("span",{className:"diagnostics-status",children:Y}):null]}),o.jsxs("div",{className:"diagnostics-row diagnostics-controls",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"diagnostics-status",children:["uiMode: ",y||"unset"]}),o.jsxs("div",{className:"diagnostics-status",children:["buildId: ",v||"unknown"]})]}),o.jsxs("div",{className:"diagnostics-actions",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:N,children:"Force Classic"}),o.jsx("button",{type:"button",className:"secondary-btn",onClick:S,children:"Force React"}),o.jsx("button",{type:"button",className:"secondary-btn",onClick:m,children:"Clear override"})]})]}),o.jsx("pre",{className:"diagnostics-pre",children:ne}),o.jsx("pre",{className:"diagnostics-pre",children:ce}),o.jsx("pre",{className:"diagnostics-pre",children:I})]}):null]})}function Qp({mode:s,onChange:c}){return o.jsxs("label",{children:[o.jsx("span",{className:"label-row mode-select-label-row",children:o.jsx("span",{className:"visually-hidden",children:"Assignment type"})}),o.jsx("select",{id:"mode",value:s,onChange:f=>c(f.target.value),"aria-label":"Assignment type",children:Cm.map(f=>o.jsx("option",{value:f.value,children:f.label},f.value))})]})}function Vp({label:s,description:c,details:f=[]}){const[r,h]=g.useState(!1);return o.jsxs("div",{className:"mode-card",id:"modeCard",children:[o.jsxs("div",{className:"mode-card-header",children:[o.jsx("span",{className:"mode-badge",id:"modeBadge",children:s}),o.jsx("span",{className:"mode-tag",id:"modeTag"})]}),o.jsx("div",{className:"mode-desc",id:"modeDesc",children:c}),o.jsx("button",{type:"button",className:"mode-more",id:"modeMoreBtn","aria-expanded":r,onClick:()=>h(y=>!y),children:r?"Hide details":"Want more details?"}),o.jsx("div",{className:"mode-details",id:"modeDetails",hidden:!r,children:o.jsx("ul",{id:"modeDetailsList",children:f.map(y=>o.jsx("li",{children:y},y))})})]})}function Zp({blob:s,zoom:c,containerRef:f,onError:r,onEdit:h}){const y=g.useRef(0),v=g.useRef(null);g.useEffect(()=>{const N=f.current;if(!N)return;y.current+=1;const S=y.current;if(N.innerHTML="",!s){N.innerHTML="<p class='preview-empty'>Upload and mark an essay to preview it here.</p>";return}return(async()=>{try{const D=window.docx?.renderAsync||window.docxPreview?.renderAsync;if(!D){const Y=new Error("Preview library not loaded");r&&r(Y);return}const C=await s.arrayBuffer();if(S!==y.current||(await D(C,N,null,{inWrapper:!0}),S!==y.current))return;if(N.contentEditable="true",N.spellcheck=!0,N.classList.add("preview-editable"),N.style.zoom=c,typeof h=="function"){const Y=()=>h();v.current=Y,N.addEventListener("input",Y),N.addEventListener("paste",Y)}r&&r(null)}catch(D){if(console.error("Failed to render preview",D),S!==y.current)return;r&&r(D)}})(),()=>{v.current&&(N.removeEventListener("input",v.current),N.removeEventListener("paste",v.current),v.current=null),y.current+=1}},[s,f,r,h,c])}const Kp=["Avoid referring to the reader or audience unless necessary","Avoid the words 'therefore', 'thereby', 'hence', and 'thus'","Use the authors name instead of 'the author'"],Jp=["Avoid the word 'which'","Avoid using the word 'and' more than twice in a sentence","Shorten, modify, and integrate quotations"],$p=["Avoid overly general words like 'society', 'universe', 'reality', 'life', and 'truth'","Clarify pronouns and antecedents","Do not refer to the text as a text; refer to context instead","Avoid absolute language like 'always' or 'never'"],Dm={power:{title:"Power",body:"Power measures how specific your verb choices are (avoiding weak verbs like show/use).",tips:["Swap show/use for precise verbs (illustrates, highlights, underscores).","Avoid repeating the same verb across sentences.","Aim for verbs that express analysis, not reporting."]},variety:{title:"Variety",body:"Variety measures analytical depth across techniques, evidence, development, and structure.",tips:["Use 3+ unique devices per body paragraph.","Add 2+ short quotes per body paragraph.","Build paragraphs to 4+ sentences with varied starts."]},cohesion:{title:"Cohesion",body:"Cohesion measures how well ideas connect within paragraphs (sentence boundaries) and across paragraph breaks (paragraph boundaries). You earn the most points from boundary statementsrepeating key content words or word families.",tips:["Carry a thesis noun into each paragraphs topic sentence.","Repeat a key noun/verb/adjective or its word family (race  racial).","Use occasional within-paragraph transitions, but avoid repeats."]},precision:{title:"Precision",body:"Precision measures unnecessary, wordy, and imprecise language that can weaken analysis.",tips:['Unnecessary: remove filler, reader/audience, banned connectors, and "the author".',"Wordy: cut which-clauses, too-many-and chains, and long quotations.","Imprecise: avoid vague terms, unclear pronouns, text-as-text, and absolutes."]}},mm=new Set(["show","shows","showed","shown","showing","use","uses","used","using","make","makes","made","making","do","does","did","doing","get","gets","got","getting","have","has","had","having"]),Fp=new Map([["show","show"],["shows","show"],["showed","show"],["shown","show"],["showing","show"],["use","use"],["uses","use"],["used","use"],["using","use"],["make","make"],["makes","make"],["made","make"],["making","make"],["do","do"],["does","do"],["did","do"],["doing","do"],["get","get"],["gets","get"],["got","get"],["getting","get"],["have","have"],["has","have"],["had","have"],["having","have"]]),Wp=new Set(["this","that","these","those","it","they","he","she","we","i","you","there"]),zm=new Set(["the","a","an","and","or","but","if","then","so","because","since","as","while","when","after","before","though","although","however","therefore","thus","moreover","furthermore","additionally","also","likewise","similarly","from","into","onto","with","within","without","of","to","in","on","at","by","for","about","over","under","between","through","during","is","are","was","were","be","been","being","am","have","has","had","do","does","did","doing","that","this","these","those","it","its","their","they","them","he","she","his","her","we","our","us","you","your","i","me","my","mine","yours","ours","theirs","not","no","yes","can","could","would","should","may","might","must","will","just","very","really","more","most","less","least","such","than","too","each","every","some","any","all","both","either","neither","nor","own","same","other","another","there","here","then","now","who","whom","which","what","where","why","how","up","down","out","off","again","further","once"]),Ip=new Set([...zm,"essay","text","story","novel","poem","poetry","author","writer","reader","audience","character","quote","quotation","example","evidence","paragraph","sentence","chapter"]),bi=(s,c,f)=>Math.min(Math.max(s,c),f),Mo=s=>String(s||"").replace(/[]/g,'"').replace(/[]/g,"'").replace(/[]/g,"-"),Om=s=>Mo(s).replace(/\r\n/g,`
`).replace(/\r/g,`
`),Pp=s=>String(s||"").replace(/"[^"]+"/g," "),Ku=s=>(String(s||"").toLowerCase().match(/[a-z']+/g)||[]).filter(Boolean),ev=s=>Om(s).split(/\n\s*\n+/).map(c=>c.trim()).filter(Boolean),Gu=s=>Mo(s).split(new RegExp("(?<=[.!?])\\s+")).map(c=>c.trim()).filter(Boolean),tv=s=>{const c=Ku(s);if(!c.length)return"";let f=0;for(;f<c.length&&zm.has(c[f]);)f+=1;return c[f]||c[0]||""},nv=s=>{const c=String(s||"").match(/"[^"]{2,140}"/g);return c?c.length:0},lv=s=>{const c=ev(s),f=c.filter(r=>Ku(r).length>=5);return{rawParagraphs:c,filteredParagraphs:f}},av=s=>s.length<=2?s.map((c,f)=>f):s.slice(1,-1).map((c,f)=>f+1),vo=(s,c)=>s.reduce((f,r)=>f+(Number(c?.[r])||0),0),iv=s=>{const c=Number(s)||0;return c<200?0:c<=500?5:c<=800?10:10+5*Math.ceil((c-800)/300)},sv=(s,c)=>s[c]!=="use"&&s[c]!=="uses"?!1:s[c-1]==="the"&&s[c+1]==="of",uv=(s,c)=>["do","does","did"].includes(s[c])?s[c-1]==="only"&&s[c-2]==="not":!1,cv=s=>String(s||"").toLowerCase().replace(/'s$/g,"").replace(/'/g,""),yo=s=>Ku(s).map(cv).filter(f=>f.length>2&&!Ip.has(f)),rv=s=>{const c={sentenceBoundaryHits:0,sentenceBoundaryDenom:0,paragraphBoundaryHits:0,paragraphBoundaryDenom:0,transitionsWithinCount:0,transitionsWithinUnique:0,paragraphStartTransitionsCount:0,issues:{weakTransitions:[]},sourceText:s.join(`

`)},f=new Set(["however","therefore","thus","moreover","furthermore","additionally","also","likewise","similarly","instead","meanwhile","consequently","finally","overall","nevertheless"]),r=new Set,h=[];s.forEach(m=>{Gu(m).forEach(C=>{const Y=yo(C);if(h.push(Y),Y.length){const k=Y[0];f.has(k)&&(c.transitionsWithinCount+=1,r.has(k)?c.issues.weakTransitions.push({reason:"Repeated transition",token:k}):(r.add(k),c.transitionsWithinUnique+=1))}})});for(let m=0;m<h.length-1;m+=1){c.sentenceBoundaryDenom+=1;const D=new Set(h[m]);(h[m+1]||[]).some(k=>D.has(k))&&(c.sentenceBoundaryHits+=1)}for(let m=0;m<s.length-1;m+=1){const D=Gu(s[m]).slice(-1)[0]||"",C=Gu(s[m+1])[0]||"",Y=new Set(yo(D)),k=yo(C);c.paragraphBoundaryDenom+=1,k.some(P=>Y.has(P))&&(c.paragraphBoundaryHits+=1)}const y=c.sentenceBoundaryDenom?c.sentenceBoundaryHits/c.sentenceBoundaryDenom:0,v=c.paragraphBoundaryDenom?c.paragraphBoundaryHits/c.paragraphBoundaryDenom:0,N=Math.min(c.transitionsWithinUnique*2,10);return{cohesionScore:bi(Math.round(100*(.7*y+.3*v)+N),0,100),cohesionSub:"",details:c}},ov=s=>{const c=new Map;return String(s||"").split(`
`).map(f=>f.trim()).filter(f=>f&&!f.startsWith("#")).forEach(f=>{const[r,h]=f.split(",").map(N=>N?.trim());if(!r)return;const y=r.toLowerCase(),v=(h||r).toLowerCase();c.set(y,v)}),c},fv=async s=>{const c=["/thesis_devices.txt","./thesis_devices.txt","/assets/thesis_devices.txt"];let f=null;for(const r of c)try{const h=await fetch(r,{cache:"no-store"});if(!h.ok){f=new Error(`Failed ${r} (${h.status})`);continue}const y=await h.text();return{lexicon:ov(y),source:r}}catch(h){f=h}return f&&console.warn("Failed to load thesis devices lexicon:",f),{lexicon:new Map,source:""}},dv=(s,c)=>{if(!c||!c.size)return new Set;const f=String(s||"").toLowerCase(),r=new Set;for(const[h,y]of c.entries())f.includes(h)&&r.add(y);return r},hv=(s,c,{labelCounts:f,markEventId:r,powerVerbFormsSet:h,thesisDevicesLexicon:y}={})=>{const v=Om(s||""),S=Pp(Mo(s||"")).toLowerCase().replace(/\s+/g," ").trim(),m=Ku(S),D=m.length,C={show:0,use:0,make:0,do:0,get:0,have:0};let Y=0;for(let Te=0;Te<m.length;Te+=1){const $e=m[Te];if(!mm.has($e)||sv(m,Te)||uv(m,Te))continue;Y+=1;const Xe=Fp.get($e);Xe&&C[Xe]!==void 0&&(C[Xe]+=1)}let k=0,Z=iv(D);if(h&&Z>0){const Te=new Set;for(const $e of m)mm.has($e)||h.has($e)&&Te.add($e);k=Te.size}const P=D?Y/D*100:0,$=bi(Math.round(100-P*8),0,100),I=Z===0?100:bi(Math.round(k/Z*100),0,100),F=bi(Math.round($*.6+I*.4),0,100),{rawParagraphs:ce,filteredParagraphs:ne}=lv(v),K=ne,ee=K.map(Te=>Gu(Te)),W=ee.flat().length,pe=av(K),ze=pe.map(Te=>K[Te]||""),ve=ze.length,ye=[],Ge=[],et=[],Le=[];let M=0,O=0,L=0,se=0;const me=!!(y&&y.size);ze.forEach((Te,$e)=>{const Xe=pe[$e];if((ee[Xe]?.length||0)<4&&(L+=1,et.push(Xe)),nv(Te)>=2?O+=1:Ge.push(Xe),!me)return;dv(Te,y).size>=3?M+=1:ye.push(Xe)}),me||(M=ve);const b=[];let z=0;pe.forEach(Te=>{const $e=ee[Te]||[];let Xe=0;$e.forEach(ct=>{const mn=tv(ct);mn&&Wp.has(mn)&&(Xe+=1,se+=1,Le.push({sentence:ct,paragraph_index:Te}))}),Xe>1?b.push(Te):z+=1});const G=ve?M/ve:1,J=ve?O/ve:1,re=ve?1-L/ve:1,ue=ve?z/ve:1,xe=bi(Math.round(100*(.35*G+.35*J+.2*re+.1*ue)),0,100),We=rv(K),Ue=We.cohesionScore,Je=f&&typeof f=="object"?f:{},Yt=r!=null;let Gt=null,At={unnecessaryCount:0,wordyCount:0,impreciseCount:0,hasCounts:!1};if(Yt){const Te=vo(Kp,Je),$e=vo(Jp,Je),Xe=vo($p,Je),ct=Te*3+$e*2+Xe*3;Gt=bi(100-ct,0,100),At={unnecessaryCount:Te,wordyCount:$e,impreciseCount:Xe,hasCounts:!0}}return{power:{score:F,sub:"",details:{weakCount:Y,weakByBase:C,powerCount:k,powerTarget:Z}},variety:{score:xe,sub:"",details:{bodyParagraphCount:ve,bodyParagraphIndices:pe,paragraphsFiltered:K,techniqueOkCount:M,techniqueFailures:ye,evidenceOkCount:O,evidenceFailures:Ge,undevelopedCount:L,undevelopedParagraphs:et,structureOkCount:z,structureFailures:b,weakStartCount:se,weakStartSentences:Le,totalSentenceCount:W,techniquesUnavailable:!me}},cohesion:{score:Ue,sub:We.cohesionSub,details:We.details},precision:{score:Gt,sub:"",details:At},meta:{paragraphs:ce.length,sentences:W,mode:c||""}}},mv=s=>s==null||Number.isNaN(s)?"":`${s}/100`;function gv({metrics:s,collapsed:c,onToggleDetails:f,onOpenInfo:r,onOpenPillHint:h,mode:y}){const v=y==="peel_paragraph",N=v?null:s?.cohesion?.score;return o.jsxs("div",{className:"preview-metrics-wrap",children:[o.jsx("div",{className:"metrics-details-toggle",children:o.jsx("button",{type:"button",className:"metrics-toggle-btn","aria-expanded":!c,onClick:f,children:c?"Show details":"Hide details"})}),o.jsx("div",{className:`student-metrics-grid metrics-inline${c?" details-collapsed":""}`,id:"metricsGrid",children:["power","variety","cohesion","precision"].map(S=>{if(S==="cohesion"&&v)return null;const m=s?.[S],D=S==="cohesion"?N:m?.score,C=Dm[S]?.title||S;return o.jsxs("div",{className:"metric-card",id:`metric-${S}`,children:[o.jsxs("div",{className:"metric-head",children:[o.jsxs("div",{className:"metric-title",children:[C,o.jsx("button",{className:"metric-info metric-info-btn",type:"button","data-metric":S,"aria-label":`${C} info`,onClick:r,children:"i"})]}),o.jsx("div",{className:`metric-score${D===100?" perfect":""}`,children:mv(D)})]}),o.jsx("div",{className:"metric-meter",children:o.jsx("div",{className:`metric-meter-fill${D===100?" perfect":""}`,style:{width:D?`${D}%`:"0%"}})}),o.jsxs("div",{className:"metric-sub",children:[S==="power"&&m?.details?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"metric-success",children:["Power verbs: ",m.details.powerCount,"/",m.details.powerTarget]}),o.jsxs("div",{className:"metric-persistent",children:["Weak verbs: ",m.details.weakCount]}),m.details.weakCount>0?o.jsx("button",{type:"button",className:"example-btn power-verb-pill",onClick:Y=>h?.({anchorEl:Y.currentTarget,mode:"anchor",dismissKey:"power_verbs_needed",data:{title:"Power verbs needed",body:"Select from the Power Verbs list to strengthen the highlighted verbs."}}),children:"Power verbs needed"}):null]}):null,S==="variety"&&m?.details?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"metric-success",children:["Techniques: ",m.details.techniqueOkCount,"/",m.details.bodyParagraphCount]}),o.jsxs("div",{className:"metric-persistent",children:["Evidence: ",m.details.evidenceOkCount,"/",m.details.bodyParagraphCount]})]}):null,S==="cohesion"&&m?.details?o.jsxs("div",{className:"metric-success",children:["Sentence links: ",m.details.sentenceBoundaryHits,"/",m.details.sentenceBoundaryDenom]}):null,S==="precision"&&m?.details?.hasCounts?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"metric-success",children:["Unnecessary: ",m.details.unnecessaryCount]}),o.jsxs("div",{className:"metric-persistent",children:["Wordy: ",m.details.wordyCount,", Imprecise: ",m.details.impreciseCount]})]}):S==="precision"?o.jsx("div",{className:"metric-success",children:"Mark to unlock precision score."}):null]})]},S)})})]})}function pv({hint:s,onDismiss:c}){return s?o.jsx("div",{id:"previewHintDock",className:"preview-hint-dock","aria-live":"polite",children:o.jsxs("div",{className:"tour-popover hint-card",children:[o.jsx("button",{type:"button",className:"tour-close","aria-label":"Close hint",onClick:c,children:""}),s.title?o.jsx("div",{className:"tour-title",children:s.title}):null,s.subheader?o.jsx("div",{className:"pill-hint-subheader",children:s.subheader}):null,s.body?o.jsx("div",{className:"tour-body",children:s.body}):null,o.jsx("div",{className:"pill-hint-footer",children:o.jsx("button",{type:"button",className:"secondary-btn",onClick:c,children:"Got it"})})]})}):null}function vv({markedBlob:s,zoom:c,onZoomChange:f,previewRef:r,onRecheck:h,isRechecking:y,isProcessing:v,onEdit:N,onDownloadMarked:S,onDownloadRevised:m,isDownloading:D,hasRevisedSinceMark:C,wordCount:Y,totalIssues:k,metrics:Z,metricsCollapsed:P,onToggleMetricsDetails:$,onOpenMetricInfo:I,onOpenPillHint:F,onOpenPowerVerbs:ce,hint:ne,onDismissHint:K,mode:ee,previewError:Q,previewErrorStack:W,showDebug:pe,onClearPreview:ze,onPreviewError:ve}){return Zp({blob:s,zoom:c,containerRef:r,onEdit:N,onError:ve}),o.jsxs("section",{className:"card marked-preview-card",id:"markedPreviewCard",style:{display:s?"block":"none"},children:[o.jsxs("div",{className:"preview-header",children:[o.jsx("h2",{className:"preview-title",children:"Preview"}),o.jsxs("div",{className:"preview-header-right",children:[s?o.jsx("div",{className:"preview-header-stats",children:o.jsxs("div",{className:"preview-header-stats-row",children:[o.jsxs("div",{className:"student-stat preview-stat",children:[o.jsx("div",{className:"student-stat-label",children:"Word count"}),o.jsx("div",{className:"student-stat-value",children:Y??""})]}),o.jsxs("div",{className:"student-stat preview-stat",children:[o.jsx("div",{className:"student-stat-label",children:"Total issues"}),o.jsx("div",{className:"student-stat-value",children:k??""})]})]})}):null,o.jsxs("div",{className:"preview-tools",children:[o.jsxs("label",{className:"preview-zoom",htmlFor:"previewZoom",children:[o.jsx("span",{children:"Zoom"}),o.jsxs("select",{id:"previewZoom",value:c,onChange:ye=>f(Number(ye.target.value)),children:[o.jsx("option",{value:.8,children:"80%"}),o.jsx("option",{value:.9,children:"90%"}),o.jsx("option",{value:1,children:"100%"}),o.jsx("option",{value:1.1,children:"110%"}),o.jsx("option",{value:1.25,children:"125%"}),o.jsx("option",{value:1.5,children:"150%"})]})]}),o.jsxs("button",{type:"button",className:"preview-pill-btn",id:"previewPowerVerbsBtn","aria-label":"Open Power Verbs",onClick:ce,children:[o.jsx("span",{className:"preview-pill-icon","aria-hidden":"true",children:""}),"Power Verbs"]})]})]})]}),s?o.jsx(gv,{metrics:Z,collapsed:P,onToggleDetails:$,onOpenInfo:I,onOpenPillHint:F,mode:ee}):null,Q?o.jsxs("div",{className:"preview-error-panel",children:[o.jsx("p",{children:"Preview failed to render."}),o.jsxs("p",{className:"helper-text",children:["Error: ",Q]}),pe&&W?o.jsx("pre",{className:"preview-error-stack",children:W}):null,o.jsxs("div",{className:"results-actions",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:ze,children:"Clear preview"}),o.jsx("button",{type:"button",className:"secondary-btn",onClick:S,disabled:!s,children:"Download marked essay"})]})]}):o.jsxs("div",{className:"preview-stage",children:[o.jsx(pv,{hint:ne,onDismiss:K}),o.jsx("div",{id:"markedPreview",ref:r,className:"marked-preview-container"})]}),o.jsxs("div",{className:"preview-actions",children:[o.jsx("button",{type:"button",className:`primary-btn${y?" is-loading loading-cursor":""}`,id:"recheckDocumentBtn",onClick:h,disabled:!s||y||v||!!Q,children:y?"Processing":"Recheck my essay"}),o.jsx("button",{type:"button",className:"secondary-btn",id:"downloadBtn",onClick:S,disabled:!s||v,children:"Download marked essay"}),o.jsx("button",{type:"button",className:`secondary-btn${D?" is-loading loading-cursor":""}`,onClick:()=>m?.(),disabled:!s||!C||D||v||!!Q,title:!C&&s?"Make at least one change in Preview to enable download":"",children:D?"Preparing":"Download revised essay"})]}),!C&&s?o.jsx("p",{className:"helper-text",children:"Make at least one change in Preview to enable download."}):null]})}const yv="p, li, h1, h2, h3",Um=s=>String(s||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).map(c=>c.replace(/[ \t]+$/g,"")).join(`
`),gm=s=>{const c=s?.innerText||s?.textContent||"";return Um(c).trim()};function Ma(s){if(!s)return"";const f=Array.from(s.querySelectorAll(yv)).filter(r=>!r.closest("table")&&!r.closest(".docx-table")).map(gm).filter(Boolean);return f.length?f.join(`

`):gm(s)}function bv(s){const c=String(s||"").trim();return c?c.split(/\s+/).filter(Boolean).length:0}function Sv(s){const c=Um(s),f=c.split(`
`),r=f.findIndex(v=>v.trim()==="");if(r<=0)return c;const h=f.slice(0,r);return h.length<=4&&h.length>=1&&h.every(v=>v.trim().length>0&&v.trim().length<=60)?f.slice(r+1).join(`
`).trimStart():c}function xv(s){return Ma(s)}const Ev="vysti_student_tour_hide",No="vysti_student_tour_completed",Bm="vysti_student_helpers_disabled",bo=[{anchor:"#mode",title:"Assignment type",body:"Choose the assignment type so Vysti applies the right rules."},{anchor:"#assignmentName",title:"Assignment Tracker",body:"Name and number your draft to track progress."},{anchor:"#dropZone",title:"Upload",body:"Upload your .docx file here."}],wv=[{anchor:"#checkBtn",title:"Mark my essay",body:"Click here to generate a preview and revise your work."}],Nv=[{anchor:"#downloadBtn",title:"Download",body:"You can download your marked essay now or revise it first."},{anchor:"#mostCommonIssuesWrap",title:"Most Common Issues",body:"Hover to see an explanation. Click a bar to jump to an example."},{anchor:"#markedPreviewCard",title:"Preview",body:"Edit your document directly in this Preview. Use Zoom if you need it. Changes here aren't finalized until you recheck."},{anchor:"#recheckDocumentBtn",title:"Recheck",body:"After editing the Preview, click here to regenerate your feedback."},{anchor:"#examplesList",title:"Practice a revision",body:"Follow Vysti's guidance to repair your work, then click 'Check rewrite'. If it's approved, click 'Apply to Preview' to update your document."}],Tv=()=>![Bm,No,Ev].some(s=>localStorage.getItem(s)==="1");function _v({authReady:s,selectedFile:c,markedBlob:f,hasResults:r,previewRef:h},y){const[v,N]=g.useState(bo),[S,m]=g.useState(0),[D,C]=g.useState(!1),[Y,k]=g.useState("tour-arrow-down"),[Z,P]=g.useState(!1),$=g.useRef(!1),I=g.useRef(null),F=g.useRef(null),ce=g.useRef(null),ne=g.useRef(null),K=g.useRef(0),ee=g.useRef(0),Q=g.useCallback(()=>{F.current&&(F.current.classList.remove("tour-highlight"),F.current=null)},[]),W=g.useCallback(O=>{O==="hide"?(localStorage.setItem(Bm,"1"),localStorage.setItem(No,"1")):O==="completed"&&localStorage.setItem(No,"1"),Q(),C(!1),P(!1)},[Q]),pe=g.useCallback((O,L)=>{for(let se=O;se<L.length;se+=1){const me=L[se],b=document.querySelector(me.anchor);if(b)return{index:se,anchor:b}}return null},[]),ze=g.useCallback(()=>{const O=I.current,L=ce.current,se=ne.current;if(!O||!L||!se)return;const me=12,b=12,z=O.getBoundingClientRect();L.style.display="block",L.style.visibility="hidden";const G=L.getBoundingClientRect(),J=z.bottom+me+G.height<=window.innerHeight;let re=J?z.bottom+me:z.top-me-G.height,ue=z.left+z.width/2-G.width/2;ue=Math.max(b,Math.min(ue,window.innerWidth-G.width-b)),re=Math.max(b,Math.min(re,window.innerHeight-G.height-b)),L.style.top=`${Math.round(re)}px`,L.style.left=`${Math.round(ue)}px`,k(J?"tour-arrow-down":"tour-arrow-up");const xe=z.left+z.width/2,We=Math.max(16,Math.min(xe-ue,G.width-16));se.style.left=`${Math.round(We)}px`,se.style.top=J?"-6px":"",se.style.bottom=J?"":"-6px",L.style.visibility="visible"},[]),ve=g.useCallback(()=>{cancelAnimationFrame(K.current),K.current=requestAnimationFrame(()=>{ze()})},[ze]),ye=g.useCallback(()=>{const O=!!f,se=!!(h?.current?xv(h.current):"");return O||se||r?Nv:c?wv:bo},[r,f,h,c]),Ge=g.useCallback((O,{force:L=!1,steps:se=bo}={})=>{!L&&!Tv()||(N(se),m(O),P(!1),C(!0))},[]),et=g.useCallback(({force:O=!1}={})=>{const L=ye();Ge(0,{force:O,steps:L})},[ye,Ge]);if(g.useImperativeHandle(y,()=>({restartTour:({force:O=!0}={})=>{W("dismissed"),et({force:O})},dismissTour:()=>W("dismissed")}),[W,et]),g.useEffect(()=>{if(!D)return;const O=pe(S,v);if(!O){W("dismissed");return}if(O.index!==S){m(O.index);return}I.current=O.anchor,Q(),O.anchor.classList.add("tour-highlight"),F.current=O.anchor,O.anchor.scrollIntoView({block:"center",behavior:"smooth"}),ve(),clearTimeout(ee.current),ee.current=window.setTimeout(()=>{ve()},350)},[v,Q,W,S,D,pe,ve]),g.useEffect(()=>{if(!D)return;const O=()=>{D&&ve()};return window.addEventListener("resize",O),window.addEventListener("scroll",O,!0),()=>{window.removeEventListener("resize",O),window.removeEventListener("scroll",O,!0)}},[D,ve]),g.useEffect(()=>{if(!s||$.current)return;$.current=!0;const O=requestAnimationFrame(()=>{window.setTimeout(()=>{et({force:!1})},50)});return()=>cancelAnimationFrame(O)},[s,et]),g.useEffect(()=>()=>{clearTimeout(ee.current),cancelAnimationFrame(K.current),Q()},[Q]),!D)return null;const Le=v[S],M=`${S+1} of ${v.length}`;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"tour-overlay"}),o.jsxs("div",{className:"tour-popover",role:"dialog","aria-live":"polite",ref:ce,children:[o.jsx("button",{className:"tour-close",type:"button","aria-label":"Close tour",onClick:()=>W("dismissed"),children:""}),o.jsx("div",{className:`tour-arrow ${Y}`,ref:ne}),o.jsx("div",{className:"tour-title",children:Le?.title}),o.jsx("div",{className:"tour-body",children:Le?.body}),o.jsxs("div",{className:"tour-footer",children:[o.jsx("div",{className:"tour-step",children:M}),o.jsxs("label",{className:"tour-checkbox-row",htmlFor:"tourHideCheckbox",children:[o.jsx("input",{id:"tourHideCheckbox",type:"checkbox",checked:Z,onChange:O=>{const L=O.target.checked;P(L),L&&W("hide")}}),"Do not show again"]}),o.jsx("button",{className:"tour-primary-btn",type:"button",onClick:()=>{if(Z){W("hide");return}const O=S+1;if(O>=v.length){W("completed");return}m(O)},children:"Got it"})]})]})]})}const Av=g.forwardRef(_v);function jv({onProgress:s,onTeacher:c,onRepeatTutorial:f,onSignOut:r,onBackToClassic:h,onSwitchToReact:y,showReactSwitch:v}){return o.jsxs("header",{className:"topbar",children:[o.jsx("div",{className:"brand",children:o.jsx("img",{src:"/assets/logo.svg",alt:"Vysti"})}),o.jsx("nav",{}),o.jsxs("div",{className:"actions",children:[o.jsx("div",{className:"ph-badge",children:"Project Headache "}),o.jsx("button",{className:"topbar-btn",type:"button",onClick:h,children:"Back to classic"}),v?o.jsx("button",{className:"topbar-btn",type:"button",onClick:y,children:"Switch to React (beta)"}):null,o.jsx("button",{className:"topbar-btn",type:"button",onClick:s,children:"Progress"}),o.jsx("button",{className:"topbar-btn",type:"button",onClick:c,children:"Teacher"}),o.jsx("button",{className:"iconbtn repeat-tutorial-trigger",type:"button","aria-label":"Repeat tutorial","data-tip":"Repeat the tutorial",onClick:f,children:"?"}),o.jsx("button",{className:"topbar-btn",type:"button",onClick:r,children:"Sign Out"})]})]})}function Cv({assignmentName:s,onChange:c}){return o.jsxs("div",{className:"assignment-tracker-block",children:[o.jsx("div",{className:"assignment-tracker-title",children:o.jsx("span",{className:"label-row",children:"Assignment Tracker"})}),o.jsx("label",{className:"visually-hidden",htmlFor:"assignmentName",children:"Assignment name (optional)"}),o.jsx("input",{type:"text",id:"assignmentName",value:s,onChange:f=>c(f.target.value),placeholder:"Assignment 01","aria-label":"Assignment name (optional)"})]})}function Mv({selectedFile:s,isDragOver:c,dragMessage:f,validationError:r,onBrowseClick:h,onFileChange:y,onDrop:v,onDragOver:N,onDragLeave:S,onClearFile:m,fileInputRef:D}){return o.jsxs("section",{className:"card upload-card",children:[o.jsx("label",{children:"Upload"}),o.jsxs("div",{id:"dropZone",className:`drop-zone${c?" dragover":""}`,tabIndex:0,role:"button","aria-label":"Upload .docx file",onClick:h,onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),h())},onDragOver:N,onDragLeave:S,onDrop:v,children:[f?o.jsx("div",{className:"dropzone-overlay",children:o.jsx("span",{children:f})}):null,o.jsx("img",{className:"dz-icon",src:"/assets/cloud-upload.svg",alt:"","aria-hidden":"true"}),o.jsx("div",{className:"dz-title",children:"Drag & drop .docx file here"}),o.jsx("div",{className:"dz-sub",children:"or click to browse"}),o.jsx("input",{ref:D,type:"file",id:"fileInput",name:"file",accept:".docx",hidden:!0,onChange:y})]}),o.jsx("ul",{id:"fileList",className:"file-list",children:s?o.jsx("li",{children:s.name}):null}),r?o.jsx("div",{className:"dropzone-error",children:r}):null,o.jsx("button",{type:"button",id:"clearFileBtn",className:"secondary-btn",style:{display:s?"inline-flex":"none"},onClick:m,children:"Clear file"})]})}const Rv=s=>{const c=new Set;return s.slice(0,5).forEach(f=>{Object.keys(f||{}).forEach(r=>{c.size<6&&c.add(r)})}),Array.from(c)};function Dv({isOpen:s,onToggle:c,data:f}){const r=f||{type:"none",items:[],raw:"",error:""},{type:h,items:y,raw:v,error:N}=r,S=g.useMemo(()=>Rv(y||[]),[y]);return o.jsxs("section",{className:"card rules-card",children:[o.jsxs("button",{className:"secondary-btn",type:"button",onClick:c,"aria-expanded":s,children:["Techniques (",s?"hide":"show",")"]}),s?o.jsxs("div",{style:{marginTop:"12px"},children:[h==="strings"?o.jsx("ul",{children:y.map((m,D)=>o.jsx("li",{children:m},`${m}-${D}`))}):null,h==="objects"?o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsx("tr",{children:S.map(m=>o.jsx("th",{children:m},m))})}),o.jsx("tbody",{children:y.map((m,D)=>o.jsx("tr",{children:S.map(C=>o.jsx("td",{children:String(m?.[C]??"")},`${D}-${C}`))},`row-${D}`))})]})}):null,h==="invalid"?o.jsxs("div",{children:[o.jsx("div",{children:N||"Techniques header present but invalid JSON"}),o.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:v})]}):null,h==="none"?o.jsx("div",{children:"No techniques data."}):null]}):null]})}function zv({isOpen:s,initialAssignmentName:c="",onCancel:f,onDownloadAsIs:r,onDownloadMla:h,isBusy:y=!1}){const v=g.useRef(null),N=g.useRef(null),[S,m]=g.useState(""),[D,C]=g.useState(""),[Y,k]=g.useState(""),[Z,P]=g.useState("");return g.useEffect(()=>{s&&(P(c||""),window.requestAnimationFrame(()=>{v.current?.focus()}))},[c,s]),g.useEffect(()=>{if(!s)return;const $=I=>{if(I.key==="Escape"){I.preventDefault(),f?.();return}if(I.key!=="Tab")return;const F=N.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!F||F.length===0)return;const ce=Array.from(F),ne=ce[0],K=ce[ce.length-1];I.shiftKey&&document.activeElement===ne?(I.preventDefault(),K.focus()):!I.shiftKey&&document.activeElement===K&&(I.preventDefault(),ne.focus())};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s,f]),s?o.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"modal-card",ref:N,children:[o.jsx("h3",{children:"Download revised essay"}),o.jsxs("label",{children:[o.jsx("span",{children:"Name"}),o.jsx("input",{ref:v,type:"text",value:S,onChange:$=>m($.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Teacher"}),o.jsx("input",{type:"text",value:D,onChange:$=>C($.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Date"}),o.jsx("input",{type:"text",value:Y,onChange:$=>k($.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Assignment"}),o.jsx("input",{type:"text",value:Z,onChange:$=>P($.target.value)})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:f,disabled:y,children:"Cancel"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:r,disabled:y,children:"Download as-is"}),o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>h?.({name:S.trim(),teacher:D.trim(),date:Y.trim(),assignment:Z.trim()}),disabled:y,children:"Add MLA + Download"})]})]})}):null}const Ov="vysti_dismiss_noask_v1__",To=s=>String(s||"").replace(/[\u201C\u201D\u201E\u201F]/g,'"').replace(/[\u2018\u2019\u201A\u201B]/g,"'").replace(/[\u2013\u2014]/g,"-").replace(/\u00AD/g,"").replace(/\u00A0/g," ").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/\s+/g," ").trim();function pm(s){return To(String(s||"")).toLowerCase()}function Uv(s){return String(s||"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"issue"}function Hm(s){return`${Ov}${Uv(s||"")}`}function Bv(s){try{return JSON.parse(localStorage.getItem(Hm(s))||"null")}catch{return null}}function Hv(s,c,f){try{localStorage.setItem(Hm(s),JSON.stringify({reason:c,other_text:f||null}))}catch{}}function qv({markEventId:s,fileName:c}){return s!=null&&String(s).trim()!==""?`mark_${s}`:`file_${c||"nofile"}`}function qm({markEventId:s,fileName:c}){return`vysti_dismissed__${qv({markEventId:s,fileName:c})}`}function _o({markEventId:s,fileName:c}){const f=qm({markEventId:s,fileName:c});try{const r=localStorage.getItem(f);if(!r)return[];const h=JSON.parse(r);return Array.isArray(h)?h:[]}catch(r){return console.warn("Failed to load dismissed issues:",r),[]}}function Lv({markEventId:s,fileName:c,dismissedIssues:f}){const r=qm({markEventId:s,fileName:c});try{localStorage.setItem(r,JSON.stringify(f||[]))}catch(h){console.warn("Failed to save dismissed issues:",h)}}function kv(s,c,f,r){if(!f||!r||!c)return!1;const h=pm(f),y=To(r);return(s||[]).some(v=>v?.file_name!==c?!1:pm(v?.label)===h&&To(v?.sentence)===y)}function Lm(s,c,f,r){return(s||[]).filter(h=>!kv(c,f,r||h?.label||"",h?.sentence||""))}function Ra(s,c,f){const r={...s||{}};if(!f)return r;const h={};return(c||[]).filter(y=>y?.file_name===f).forEach(y=>{const v=String(y?.label||"").trim();v&&(h[v]=(h[v]||0)+1)}),Object.entries(h).forEach(([y,v])=>{const N=Number(r[y]||0),S=Math.max(0,N-v);S===0?delete r[y]:r[y]=S}),r}function Yv(s){return String(s||"").toLowerCase().replace(/[]/g,"'").replace(/\s+/g," ").trim()}function Ju(s){const c=Yv(s);return c.includes("first sentence")&&c.includes("author")&&c.includes("full name")}const Gv=s=>{if(!s)return null;if(typeof s=="object")return s;if(typeof s=="string")try{return JSON.parse(s)}catch{return null}return null},Xv=s=>{if(!s)return[];if(Array.isArray(s))return s;if(typeof s=="string")try{const c=JSON.parse(s);return Array.isArray(c)?c:[]}catch{return[]}return[]},Qv=s=>{const c=Gv(s);return!c||typeof c!="object"?{}:Object.entries(c).reduce((f,[r,h])=>(r&&!Ju(r)&&(f[r]=h),f),{})},Vv=s=>Xv(s).filter(f=>!Ju(f?.label||""));async function km({supa:s,userId:c,fileName:f,dismissedIssues:r=[]}){const{data:h,error:y}=await s.from("mark_events").select("id, label_counts, issues, created_at, file_name").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(1);if(y)throw y;const v=h?.[0]||null,N=Qv(v?.label_counts||{}),S=Ra(N,r,f),m=Vv(v?.issues||[]);return{markEvent:v,labelCountsFiltered:S,issuesFiltered:m}}const vm=({supa:s,userId:c,fileName:f,label:r})=>s.from("issue_examples").select("sentence, paragraph_index, created_at, label, mark_event_id").eq("user_id",c).eq("file_name",f).eq("label",r).order("created_at",{ascending:!1}).order("paragraph_index",{ascending:!0}).limit(50),ym=({supa:s,userId:c,fileName:f})=>s.from("issue_examples").select("label, paragraph_index, created_at, mark_event_id").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(500);async function Zv({supa:s,userId:c,fileName:f,label:r,markEventId:h,dismissedIssues:y=[]}){let v=[],N=null;if(h){const C=await vm({supa:s,userId:c,fileName:f,label:r}).eq("mark_event_id",h);v=C.data||[],N=C.error}if((!v||v.length===0)&&!N){const C=await vm({supa:s,userId:c,fileName:f,label:r});v=C.data||[],N=C.error}if(N)throw N;const S=new Set,m=[];return v.forEach(C=>{const Y=String(C?.sentence||"").trim(),k=C?.paragraph_index??0,Z=`${k}::${Y}`;!Y||S.has(Z)||(S.add(Z),m.push({sentence:Y,paragraph_index:k,created_at:C?.created_at,label:C?.label||r}))}),Lm(m,y,f,r).slice(0,10)}async function Kv({supa:s,userId:c,fileName:f,markEventId:r}){let h=[],y=null;if(r){const v=await ym({supa:s,userId:c,fileName:f}).eq("mark_event_id",r);h=v.data||[],y=v.error}if((!h||h.length===0)&&!y){const v=await ym({supa:s,userId:c,fileName:f});h=v.data||[],y=v.error}if(y)throw y;return h.filter(v=>v?.label&&!Ju(v.label)).map(v=>({label:v.label,paragraph_index:v?.paragraph_index??0,created_at:v?.created_at,mark_event_id:v?.mark_event_id}))}const Jv=[{value:"no_issue",label:"There is no issue"},{value:"unable_to_repair",label:"Unable to repair issue"},{value:"unclear_guidance",label:"Unclear student guidance for issue"},{value:"other",label:"Other"}];function $v({isOpen:s,onCancel:c,onConfirm:f,onNoAsk:r}){const h=g.useRef(null),[y,v]=g.useState(""),[N,S]=g.useState(""),[m,D]=g.useState(""),C=y==="other",Y=N.length,k=!!(y&&(!C||N.trim().length>0)),Z=()=>{v(""),S(""),D("")};g.useEffect(()=>{s&&(Z(),window.requestAnimationFrame(()=>{h.current?.focus()}))},[s]);const P=F=>{if(!y){D("Please select a reason to continue.");return}if(C&&!N.trim()){D("Please add a brief explanation for Other.");return}if(D(""),F){r?.({reason:y,other_text:N.trim()||null});return}f?.({reason:y,other_text:N.trim()||null})},$=F=>{F.key==="Escape"&&(F.preventDefault(),c?.())},I=g.useMemo(()=>`${Y}/280`,[Y]);return s?o.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"dismissIssueTitle",onClick:F=>{F.target===F.currentTarget&&c?.()},onKeyDown:$,children:o.jsxs("div",{className:"modal-card dismiss-modal",children:[o.jsx("div",{id:"dismissIssueTitle",className:"modal-title",children:"Dismiss issue"}),o.jsx("div",{className:"modal-question",children:"Why are you dismissing this issue?"}),o.jsx("div",{className:"modal-reasons",children:Jv.map(F=>o.jsxs("label",{children:[o.jsx("input",{type:"radio",name:"dismissReason",value:F.value,checked:y===F.value,onChange:()=>{v(F.value),D("")}}),F.label]},F.value))}),C?o.jsxs(o.Fragment,{children:[o.jsx("textarea",{maxLength:280,className:"dismiss-other",placeholder:"Briefly explain...",value:N,onChange:F=>{S(F.target.value)}}),o.jsx("div",{className:"dismiss-char-count",children:I})]}):null,m?o.jsx("div",{className:"modal-error",children:m}):null,o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{ref:h,className:"secondary-btn",type:"button",onClick:()=>c?.(),children:"Cancel"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>P(!0),disabled:!k,children:"Do not ask me again"}),o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>P(!1),disabled:!k,children:"Dismiss issue"})]})]})}):null}const Fv=s=>{const c=Number(s);return Number.isFinite(c)?c:0},Wv=s=>String(s?.label||s?.technique||s?.name||"").trim(),Iv=s=>Fv(s?.count??s?.occurrences??s?.total??0),Pv=s=>{if(!s||typeof s!="object")return[];const c=Array.isArray(s.items)?s.items:[];if(!c.length)return[];if(s.type==="strings"){const f=c.reduce((r,h)=>{const y=String(h||"").trim();return y&&(r[y]=(r[y]||0)+1),r},{});return Object.entries(f).map(([r,h])=>({label:r,count:h})).sort((r,h)=>h.count-r.count||r.label.localeCompare(h.label)).slice(0,6)}return s.type==="objects"?c.map(f=>({label:Wv(f),count:Iv(f)})).filter(f=>f.label).sort((f,r)=>r.count-f.count||f.label.localeCompare(r.label)).slice(0,6):[]};function ey({wordCount:s,totalIssues:c,topIssue:f,techniques:r}){const h=g.useMemo(()=>Pv(r),[r]);return o.jsxs("section",{className:"practice-stat-card",children:[o.jsx("h3",{children:"Stats"}),o.jsxs("div",{className:"practice-stat-row",children:[o.jsx("span",{children:"Word count"}),o.jsx("strong",{children:Number.isFinite(s)?s:""})]}),o.jsxs("div",{className:"practice-stat-row",children:[o.jsx("span",{children:"Total issues"}),o.jsx("strong",{children:c??0})]}),o.jsxs("div",{className:"practice-stat-row",children:[o.jsx("span",{children:"Top issue"}),o.jsx("strong",{children:f||""})]}),h.length?o.jsxs("div",{className:"practice-techniques",children:[o.jsx("h4",{children:"Top techniques"}),o.jsx("ul",{children:h.map(y=>o.jsxs("li",{children:[o.jsx("span",{children:y.label}),o.jsx("strong",{children:y.count})]},y.label))})]}):null]})}function ys(s){return String(s||"").toLowerCase().replace(/[]/g,"'").replace(/[^a-z0-9\s']/g," ").replace(/\s+/g," ").trim()}function Qu(s){return String(s||"").toLowerCase().replace(/[]/g,'"').replace(/[]/g,"'").replace(/\s+/g," ").trim()}function bs(s){return String(s||"").toLowerCase().replace(/[\u2018\u2019]/g,"'").replace(/[^\w\s']/g," ").replace(/\s+/g," ").trim()}function Ym(s){if(!s)return[];const f=Array.from(s.querySelectorAll("p, li")).map(h=>({node:h,text:bs(h.innerText||h.textContent||"")})).filter(h=>h.text),r=f.filter(h=>h.text.length>=20);return(r.length?r:f).map(h=>h.node)}const ty=s=>bs(s).split(" ").filter(c=>c.length>=4);function $u(s,c){if(!s||!c)return null;const f=bs(c).slice(0,80),r=Ym(s);if(!r.length||!f)return null;for(const v of r)if(bs(v.innerText||v.textContent||"").includes(f))return{el:v,score:1};const h=Array.from(new Set(ty(c)));if(!h.length)return null;let y={el:null,score:0};return r.forEach(v=>{const N=bs(v.innerText||v.textContent||"");if(!N)return;const m=h.reduce((D,C)=>N.includes(C)?D+1:D,0)/h.length;m>y.score&&(y={el:v,score:m})}),!y.el||y.score<.25?null:y}function Gm(s){s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("ph-flash"),window.setTimeout(()=>{s.classList.remove("ph-flash")},1400))}function Ro(s){s&&s.querySelectorAll(".ph-highlight").forEach(c=>{c.classList.remove("ph-highlight")})}function ny(s,c){if(!s)return 0;Ro(s);const f=Array.isArray(c)?c.map(y=>y?.sentence).filter(Boolean):[],r=new Set;let h=0;return f.forEach(y=>{const v=$u(s,y);if(!v?.el)return;const N=v.el;r.has(N)||(r.add(N),v.el.classList.add("ph-highlight"),h+=1)}),h}const ly=s=>String(s||"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ay=s=>{let c=ly(s);return c=c.replace(/\s+/g,"\\s+"),c=c.replace(/["]/g,'["]'),c=c.replace(/[']/g,"[']"),new RegExp(c,"i")},iy=s=>{const c=document.createTreeWalker(s,NodeFilter.SHOW_TEXT),f=[];let r=c.nextNode();for(;r;)f.push(r),r=c.nextNode();return f},sy=s=>{let c="";const f=s.map(r=>{const h=c.length,y=r.nodeValue||"";return c+=y,{node:r,start:h,end:c.length}});return{fullText:c,ranges:f}},uy=(s,c,f)=>{const r=s.find(v=>c>=v.start&&c<=v.end),h=s.find(v=>f>=v.start&&f<=v.end);if(!r||!h)return null;const y=document.createRange();return y.setStart(r.node,Math.max(0,c-r.start)),y.setEnd(h.node,Math.max(0,f-h.start)),y};function cy({containerEl:s,originalSentence:c,rewrite:f,shouldScroll:r=!0}){if(!s||!c||!f)return{ok:!1,message:"Missing preview or rewrite text."};const h=$u(s,c);if(!h?.el)return{ok:!1,message:"Could not find that sentence in the preview."};const y=h.el,v=iy(y),{fullText:N,ranges:S}=sy(v);if(!N.trim())return{ok:!1,message:"Preview block is empty."};const D=ay(c).exec(N);if(!D){const P=Qu(N),$=Qu(c);return P.includes($)?{ok:!1,message:"Could not isolate the sentence boundaries. Paste manually."}:{ok:!1,message:"Couldn't isolate that sentence. Paste manually if needed."}}const C=D.index,Y=C+D[0].length,k=uy(S,C,Y);if(!k)return{ok:!1,message:"Could not isolate the sentence range. Paste manually."};k.deleteContents();const Z=document.createElement("span");return Z.className="vysti-applied-rewrite",Z.textContent=f,k.insertNode(Z),r&&Gm(Z),{ok:!0}}const ps=s=>(s||"").replace(/\s+/g," ").trim(),ry=s=>!s||s.nodeType!==Node.ELEMENT_NODE?!1:s.style&&(s.style.backgroundColor||s.style.background)?!0:!!s.querySelector("*[style*='background']"),oy=s=>{!s||s.nodeType!==Node.ELEMENT_NODE||(s.style&&(s.style.backgroundColor="",s.style.background=""),s.querySelectorAll("*").forEach(c=>{c.style&&(c.style.backgroundColor="",c.style.background="")}))},fy=(s,c)=>{const f=Array.from(s.querySelectorAll("p, li")),r=f.length?f:Ym(s),h=Number.isFinite(c?.paragraph_index)?c.paragraph_index:null;if(h!==null&&r.length){if(r[h])return r[h];if(h>0&&r[h-1])return r[h-1]}return $u(s,c?.sentence||"")?.el||null};function Xm(s,c,{containerEl:f,scroll:r=!0,allowParagraphFallback:h=!1,silent:y=!1}={}){if(!f||!f.innerText.trim())return{ok:!1,message:'Click "Mark my essay" to load the preview first.'};const v=fy(f,c);if(!v)return{ok:!1,message:"Couldn't locate the sentence in the preview."};const N=ps(c?.sentence||"");if(!h&&N&&!ps(v.innerText).includes(N.slice(0,40)))return{ok:!1,message:"Couldn't isolate the exact sentence in preview. Try Find in preview first."};r&&v.scrollIntoView({behavior:"smooth",block:"center"});const S=Array.from(v.querySelectorAll("span, a")).filter(Y=>{const k=ps(Y.textContent);return k.startsWith("")&&k.includes(s)});if(!S.length)return{ok:!1,message:"Couldn't find the issue label in the preview."};let m=S[0];const D=m.parentElement&&m.parentElement.tagName==="SPAN"&&ps(m.parentElement.textContent)===ps(m.textContent)?m.parentElement:m;let C=D.previousSibling;for(;C&&C.nodeType===Node.ELEMENT_NODE;){const Y=C;if(!ry(Y))break;oy(Y),C=C.previousSibling}return D.remove(),Ro(f),f.normalize(),{ok:!0,message:y?"":"Dismissed from preview. (This will stay dismissed after Recheck.)",blockEl:v}}function dy(s,c,f){if(!s||!f)return;const r=(c||[]).filter(h=>h?.file_name===f);r.length&&r.forEach(h=>{Xm(h?.label||"",h,{containerEl:s,scroll:!1,allowParagraphFallback:!0,silent:!0})})}const hy=["/assets/student-react/power_verbs_2025.json","/assets/power_verbs_2025.json","/power_verbs_2025.json"],my="Avoid weak verbs",gy=s=>{if(!s)return null;if(typeof s=="string")return{verb:s.trim(),definition:""};const c=String(s.verb||"").trim();return c?{verb:c,definition:String(s.definition||"").trim()}:null},Do=async(s=hy)=>{let c=null;for(const f of s)try{const r=await fetch(f,{cache:"no-store"});if(!r.ok){c=new Error(`Failed ${f} (${r.status})`);continue}const h=await r.json(),y=Array.isArray(h)?h.map(gy).filter(Boolean):[];return{list:y,map:new Map(y.map(v=>[v.verb.toLowerCase(),v.definition])),source:f}}catch(r){c=r}return c&&console.warn("Failed to load power verbs from all candidate URLs:",c),{list:[],map:new Map,source:""}},py=s=>{const c=new Set;return(s||[]).forEach(f=>{const r=String(f?.verb||"").toLowerCase().trim();r&&(c.add(r),r.endsWith("s")&&c.add(r.slice(0,-1)),r.endsWith("es")&&c.add(r.slice(0,-2)),r.endsWith("ed")&&c.add(r.slice(0,-2)),r.endsWith("ing")&&c.add(r.slice(0,-3)))}),c},Ao=s=>{const c=[...s||[]];for(let f=c.length-1;f>0;f-=1){const r=Math.floor(Math.random()*(f+1));[c[f],c[r]]=[c[r],c[f]]}return c},Qm=(s,c)=>{if(!s||!c)return!1;const f=s.selectionStart??0,r=s.selectionEnd??0,h=s.value||"",y=h.slice(0,f),v=h.slice(r);s.value=`${y}${c}${v}`;const N=y.length+c.length;return s.setSelectionRange(N,N),s.dispatchEvent(new Event("input",{bubbles:!0})),!0},vy=(s,c)=>{if(!s||!c)return!1;const f=window.getSelection?.();if(!f||f.rangeCount===0)return!1;const r=f.getRangeAt(0),h=r.commonAncestorContainer;return s.contains(h)?(r.deleteContents(),r.insertNode(document.createTextNode(c)),r.collapse(!1),f.removeAllRanges(),f.addRange(r),!0):!1},Vm=async s=>{if(!s)return!1;try{return await navigator.clipboard.writeText(s),!0}catch{return!1}},bm=5;function yy({textareaRef:s,onOpenDictionary:c,onVerbApplied:f}){const[r,h]=g.useState([]),[y,v]=g.useState(""),[N,S]=g.useState(""),[m,D]=g.useState([]);g.useEffect(()=>{let k=!0;return Do().then(({list:Z})=>{k&&(h(Z),Z.length||S("Power verbs list failed to load."))}),()=>{k=!1}},[]),g.useEffect(()=>{r.length&&D(Ao(r).slice(0,bm))},[r]);const C=()=>{if(!r.length)return;const k=Ao(r).slice(0,bm);D(k),v("Shuffled."),window.setTimeout(()=>v(""),1e3)},Y=async k=>{if(!k)return;const Z=s?.current;let P=!1;Z&&(P=Qm(Z,k)),P?(v("Applied."),f?.(k)):(await Vm(k),v("Copied.")),window.setTimeout(()=>v(""),1200)};return o.jsxs("div",{className:"power-verbs-helper",children:[o.jsxs("div",{className:"power-verbs-header",children:[o.jsx("div",{className:"power-verbs-title",children:"Do any of these work?"}),o.jsxs("div",{className:"power-verbs-actions",children:[o.jsx("div",{className:"power-verbs-feedback",children:y||N}),o.jsx("button",{type:"button",className:"power-verbs-iconbtn","aria-label":"Open power verbs dictionary",onClick:c,children:""})]})]}),o.jsxs("div",{className:"power-verbs-suggestions-row",children:[o.jsx("div",{className:"power-verbs-suggestions-list",children:(m||[]).map(k=>o.jsx("button",{type:"button",className:"example-btn power-verb-pill",onClick:()=>Y(k.verb),children:k.verb},k.verb))}),o.jsx("button",{type:"button",className:"power-verbs-shuffle-btn","aria-label":"Shuffle suggestions",onClick:C,children:""})]})]})}function by(s){const c=new AbortController,f=c.signal;return{signal:f,cancel:()=>{f.aborted||(f.__abortReason="cancel",c.abort())},controller:c,clear:()=>{}}}async function Ss(s,c={},{timeoutMs:f}={}){const r=c.signal,h=new AbortController;let y=!1,v=!1,N=null;r&&r.addEventListener("abort",()=>{v=r.__abortReason==="cancel",h.abort()},{once:!0}),f&&Number.isFinite(f)&&f>0&&(N=window.setTimeout(()=>{y=!0,h.abort()},f));try{return await fetch(s,{...c,signal:h.signal})}catch(S){if(y){const m=new Error("Request timed out");throw m.code="TIMEOUT",m}if(h.signal.aborted||S?.name==="AbortError"){const m=new Error("Request canceled");throw m.code="ABORTED",m}throw S}finally{N&&window.clearTimeout(N)}}async function xs(s){if(!s)return"Unknown error";try{const f=(await s.text()).trim().slice(0,200);return`${s.status} ${s.statusText}: ${f||"Request failed"}`}catch{return`${s.status} ${s.statusText}`}}function Es(s){return s?.status===401||s?.status===403}async function Sy({supa:s,label:c,labelTrimmed:f,rewrite:r,mode:h,contextText:y,originalSentence:v,paragraphIndex:N}){if(!s)throw new Error("Supabase is not available.");const{data:S,error:m}=await s.auth.getSession();if(m||!S?.session)throw new Error("Session expired. Please sign in again.");const D=Vu();if(!D)throw new Error("Missing API configuration.");const C={label:c,label_trimmed:f,rewrite:r,mode:h,context_text:y,original_sentence:v,paragraph_index:N??0},Y=await Ss(`${D}/revision/check`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S.session.access_token}`},body:JSON.stringify(C)},{timeoutMs:25e3});if(Es(Y))throw new Error("Session expired. Please sign in again.");if(!Y.ok)throw new Error(await xs(Y));return Y.json()}const zo=({userId:s,fileName:c})=>{const f=String(s||"anon"),r=String(c||"unknown");return`vysti_revision_practice_${f}_${r}`},xy=s=>{try{return sessionStorage.getItem(s)}catch{return null}},Ey=(s,c)=>{try{return sessionStorage.setItem(s,c),!0}catch{try{return localStorage.setItem(s,c),!0}catch{return!1}}},wy=s=>{try{sessionStorage.removeItem(s)}catch{}try{localStorage.removeItem(s)}catch{}};function Ny({userId:s,fileName:c}){const f=zo({userId:s,fileName:c});try{const r=xy(f)??localStorage.getItem(f);if(!r)return null;const h=JSON.parse(r);return!h||typeof h!="object"?null:h}catch{return null}}function Ty({userId:s,fileName:c,state:f}){const r=zo({userId:s,fileName:c});try{Ey(r,JSON.stringify(f))}catch{}}function _y({userId:s,fileName:c}){const f=zo({userId:s,fileName:c});wy(f)}const Ay=s=>{const c=String(s||"").trim();return c?c.split(/\s+/).filter(Boolean).length:null},vi=(s,c)=>{const f=String(c?.sentence||"").trim(),r=c?.paragraph_index??0;return`${s}::${r}::${f}`},jy=s=>{const c=ys(s);return{isIntro:c.includes("title")||c.includes("introduction")||c.includes("thesis")||c.includes("first sentence"),isConclusion:c.includes("conclusion")}},Cy=s=>{if(!s.length)return null;const c=s.reduce((f,r)=>{const h=Number.isFinite(r)?r:0;return f[h]=(f[h]||0)+1,f},{});return Object.entries(c).sort((f,r)=>r[1]-f[1]).map(([f])=>Number(f)).find(f=>Number.isFinite(f))};function My({enabled:s,requestActive:c=!1,practiceNavEnabled:f=!1,practiceHighlightEnabled:r=!1,externalAttempt:h=null,onClearExternalAttempt:y,supa:v,selectedFile:N,markedBlob:S,previewRef:m,techniques:D,dismissedIssues:C,onDismissedIssuesChange:Y,selectedLabelOverride:k,onSelectedLabelChange:Z,onOpenDiagnostics:P,onNavigateToExample:$,onHighlightExamples:I,onClearHighlights:F,mode:ce,onPreviewEdited:ne,onOpenPowerVerbs:K}){const[ee,Q]=g.useState(!1),[W,pe]=g.useState(!1),[ze,ve]=g.useState(""),[ye,Ge]=g.useState({}),[et,Le]=g.useState({}),[M,O]=g.useState([]),[L,se]=g.useState(""),[me,b]=g.useState([]),[z,G]=g.useState([]),[J,re]=g.useState([]),[ue,xe]=g.useState(null),[We,Ue]=g.useState(null),[Je,Yt]=g.useState(""),[Gt,At]=g.useState(!1),[Te,$e]=g.useState({}),[Xe,ct]=g.useState({}),[mn,Xt]=g.useState({}),[Mn,tn]=g.useState(!1),[Nl,Yn]=g.useState({}),[rt,Rn]=g.useState({}),[ta,Qt]=g.useState(!1),[Dn,Pn]=g.useState(null),[zt,el]=g.useState(""),[Si,ot]=g.useState(""),[jt,at]=g.useState([]),bt=g.useRef(0),Gn=g.useRef(""),Xn=g.useRef(null),Vt=g.useRef({}),nn=!!ws()?.featureFlags?.debugRevisionPractice,xt=C??jt,Et=w=>{typeof Y=="function"?Y(w):at(w)},Ht=g.useMemo(()=>Object.values(ye||{}).reduce((w,X)=>w+(Number(X)||0),0),[ye]),Tl=M.length?`${M[0].label} (${M[0].count})`:"",zn=g.useMemo(()=>{const w=ys(L);return w===ys(my)||w.includes("power verbs")},[L]),gn=g.useMemo(()=>Object.entries(Xe).map(([w,X])=>({key:w,...X})),[Xe]),na=w=>{w&&($e(w.drafts||{}),ct(w.approved||{}),Xt(w.applied||{}),tn(!!w.approvedPanelOpen),w.selectedLabel&&se(w.selectedLabel))};g.useEffect(()=>{if(!Je||!N?.name)return;const w=Ny({userId:Je,fileName:N.name});na(w)},[Je,N?.name]),g.useEffect(()=>{!Je||!N?.name||Ty({userId:Je,fileName:N.name,state:{drafts:Te,approved:Xe,applied:mn,approvedPanelOpen:Mn,selectedLabel:L,markEventId:ue}})},[Xe,mn,Mn,Te,N,L,ue,Je]),g.useEffect(()=>{if(!s)return;const w=m?.current;if(!w)return;const X=()=>{window.clearTimeout(bt.current),bt.current=window.setTimeout(()=>{const B=Ma(w);B!==Gn.current&&(Gn.current=B,Ue(Ay(B)))},900)};return X(),w.addEventListener("input",X),w.addEventListener("paste",X),()=>{w.removeEventListener("input",X),w.removeEventListener("paste",X),window.clearTimeout(bt.current)}},[s,S,m]),g.useEffect(()=>{if(!s)return;if(h){const B=h.labelCounts||{},oe=Object.entries(B).map(([fe,te])=>({label:fe,count:Number(te)||0})).filter(fe=>fe.label&&fe.count>0).sort((fe,te)=>te.count-fe.count||fe.label.localeCompare(te.label)).slice(0,10),he=_o({markEventId:h.id||null,fileName:N?.name||""});Et(he),Le(B),Ge(Ra(B,he,N?.name||"")),O(oe),xe(h.id||null),G(h.issues||[]),se(fe=>fe&&oe.some(te=>te.label===fe)?fe:oe[0]?.label||""),At(!1),ve(""),Q(!1);return}if(!v||!N||!S){ve(""),At(!1),Ge({}),O([]),se(""),b([]),xe(null),G([]);return}let w=!0;return(async()=>{Q(!0),ve(""),At(!1);try{const{data:B,error:oe}=await v.auth.getSession();if(oe||!B?.session)throw new Error("Session expired. Please sign in again.");const he=B.session.user?.id;if(!he)throw new Error("Missing user session.");const{markEvent:fe,labelCountsFiltered:te,issuesFiltered:Qe}=await km({supa:v,userId:he,fileName:N.name});if(nn&&console.log("[revision-practice] mark event",{hasEvent:!!fe,labelCountKeys:Object.keys(te||{}).length,issueCount:Qe.length}),!w)return;if(!fe){At(!0),Ge({}),Le({}),O([]),se(""),b([]),xe(null),Yt(he),G([]),re([]),Et([]);return}const we=_o({markEventId:fe.id||null,fileName:N.name});Et(we),Le(te||{}),Ge(Ra(te||{},we,N.name)),xe(fe.id||null),Yt(he),G(Qe||[]),se(_e=>_e||"")}catch(B){if(!w)return;ve(B?.message||"Failed to load revision data.")}finally{w&&Q(!1)}})(),()=>{w=!1}},[s,S,N,v,nn,h]),g.useEffect(()=>{if(!s||!v||!N||!Je||!ue)return;let w=!0;return(async()=>{try{const B=await Kv({supa:v,userId:Je,fileName:N.name,markEventId:ue});if(!w)return;re(B)}catch(B){if(!w)return;nn&&console.warn("[revision-practice] index fetch failed",B),re([])}})(),()=>{w=!1}},[s,v,N,Je,ue,nn]),g.useEffect(()=>{k&&M.some(w=>w.label===k)&&se(k)},[k,M]),g.useEffect(()=>{ot("")},[L]),g.useEffect(()=>{N?.name&&Ge(Ra(et,xt,N.name))},[xt,et,N?.name]),g.useEffect(()=>{if(!me.length)return;const w=Lm(me,xt,N?.name||"",L);w.length!==me.length&&b(w)},[xt,me,L,N?.name]),g.useEffect(()=>{if(!zt)return;const w=window.setTimeout(()=>el(""),2e3);return()=>window.clearTimeout(w)},[zt]),g.useEffect(()=>{ta&&(c||!s||!S)&&(Qt(!1),Pn(null))},[ta,c,s,S]),g.useEffect(()=>{if(!s||!L||!v||!N){b([]);return}let w=!0;return(async()=>{pe(!0),ve("");try{let B=Je;if(!B){const{data:he,error:fe}=await v.auth.getSession();if(fe||!he?.session?.user?.id)throw new Error("Session expired. Please sign in again.");if(!w)return;B=he.session.user.id,Yt(B)}const oe=await Zv({supa:v,userId:B,fileName:N.name,label:L,markEventId:ue,dismissedIssues:xt});if(nn&&console.log("[revision-practice] examples",{label:L,count:oe.length}),!w)return;b(oe),ot("")}catch(B){if(!w)return;ve(B?.message||"Failed to load examples.")}finally{w&&pe(!1)}})(),()=>{w=!1}},[s,L,v,N,ue,Je,nn,xt]),g.useEffect(()=>{if(!N?.name||!Je)return;const w=ue||null;w&&(Xn.current&&Xn.current!==w&&(_y({userId:Je,fileName:N.name}),$e({}),ct({}),Xt({}),tn(!1),Yn({}),Rn({})),Xn.current=w)},[ue,N?.name,Je]);const pn=g.useMemo(()=>{const w=Object.entries(ye||{}).map(([we,_e])=>({label:we,count:Number(_e)||0})).filter(we=>we.label&&we.count>0),X=J.length?J:z,B=X.map(we=>we?.paragraph_index).filter(Number.isFinite),oe=B.length?Math.min(...B):null,he=B.length?Math.max(...B):null,fe=w.reduce((we,_e)=>{const lt=X.filter(wt=>wt?.label===_e.label).map(wt=>wt?.paragraph_index).filter(Number.isFinite);return we[_e.label]=Cy(lt),we},{}),te={intro:[],body:{},conclusion:[]};w.forEach(we=>{const _e=fe[we.label],lt=jy(we.label);if(oe!==null&&_e===oe||lt.isIntro){te.intro.push(we);return}if(he!==null&&_e===he||lt.isConclusion){te.conclusion.push(we);return}const wt=oe!==null&&_e!==null?Math.max(1,_e-oe):1;te.body[wt]||(te.body[wt]=[]),te.body[wt].push(we)});const Qe=we=>we.sort((_e,lt)=>lt.count-_e.count||_e.label.localeCompare(lt.label));return te.intro=Qe(te.intro),te.conclusion=Qe(te.conclusion),Object.keys(te.body).forEach(we=>{te.body[we]=Qe(te.body[we])}),{groups:te,introIdx:oe,conclusionIdx:he}},[J,z,ye]);g.useEffect(()=>{const w=Object.entries(ye||{}).map(([X,B])=>({label:X,count:Number(B)||0})).filter(X=>X.label&&X.count>0).sort((X,B)=>B.count-X.count||X.label.localeCompare(B.label)).slice(0,10);O(w),se(X=>X&&w.some(B=>B.label===X)?X:w[0]?.label||"")},[ye]);const vn=g.useMemo(()=>new Set(me.map(w=>vi(L,w))),[me,L]),Qn=g.useMemo(()=>gn.filter(w=>!vn.has(w.key)),[vn,gn]),_l=g.useMemo(()=>{if(!L)return"";const w=z.find(he=>he?.label===L),X=String(w?.short_explanation||"").trim();if(X)return X;const B=String(w?.explanation||"").trim();if(!B)return"";const oe=B.split(".")[0]?.trim();return oe?`${oe}.`:B},[z,L]),Da=async w=>{if(w)try{await navigator.clipboard.writeText(w)}catch(X){console.warn("Copy failed",X)}},Al=w=>{const X=String(w||"");return X.length<=140?X:`${X.slice(0,140)}`},jl=(w,X)=>{$e(B=>({...B,[w]:X}))},tt=(w,X)=>{Yn(B=>({...B,[w]:{...B[w]||{},...X}}))},Cl=w=>{ct(X=>{const B={...X};return delete B[w],B})},On=async(w,X)=>{const B=vi(w,X),oe=String(Te[B]||"").trim(),he=String(X?.sentence||"").trim();if(!m?.current){tt(B,{error:"Preview not loaded yet."});return}if(!oe){tt(B,{error:"Enter a rewrite before checking."});return}const fe=Qu(oe),te=Qu(he);if(fe===te){tt(B,{error:"Rewrite must be different from the original."}),Cl(B);return}const Qe=Ma(m.current);if(!Qe){tt(B,{error:"Preview text is not available yet."});return}if(!v){tt(B,{error:"Supabase is not available."});return}tt(B,{loading:!0,error:"",approved:!1});try{const we=await Sy({supa:v,label:w,labelTrimmed:ys(w),rewrite:oe,mode:ce,contextText:Qe,originalSentence:he,paragraphIndex:X?.paragraph_index??0});we?.approved?(tt(B,{approved:!0,message:"Approved!"}),ct(_e=>({..._e,[B]:{label:w,sentence:he,paragraph_index:X?.paragraph_index??0,rewrite:oe}}))):(tt(B,{approved:!1,error:we?.message||"Rewrite not approved yet."}),Cl(B))}catch(we){tt(B,{error:we?.message||"Check failed."}),Cl(B)}finally{tt(B,{loading:!1})}},qt=(w,{shouldScroll:X=!0}={})=>{const B=m?.current;if(!B)return tt(w.key,{error:"Preview not ready."}),!1;const oe=cy({containerEl:B,originalSentence:w.sentence,rewrite:w.rewrite,shouldScroll:X});return oe.ok?(Xt(he=>({...he,[w.key]:!0})),ct(he=>{const fe={...he};return delete fe[w.key],fe}),Ge(he=>{const fe={...he};return w.label&&Number.isFinite(fe[w.label])&&(fe[w.label]=Math.max(0,Number(fe[w.label])-1)),fe}),ne?.(),tt(w.key,{message:"Applied to preview."}),!0):(tt(w.key,{error:oe.message}),!1)},ft=()=>{if(gn.length<2)return;let w=0;gn.forEach((X,B)=>{qt(X,{shouldScroll:B===gn.length-1})&&(w+=1)}),w>0&&ve("")},it=w=>{$e(X=>{const B={...X};return delete B[w],B}),ct(X=>{const B={...X};return delete B[w],B}),Xt(X=>{const B={...X};return delete B[w],B}),Yn(X=>{const B={...X};return delete B[w],B})},yn=async(w,X,B)=>{if(!N?.name)return;const oe=N.name,he={label:w||"",sentence:X?.sentence||"",paragraph_index:X?.paragraph_index??null,file_name:oe,created_at:new Date().toISOString(),reason:B.reason,other_text:B.other_text||null},fe=[...xt||[],he];if(Et(fe),Lv({markEventId:ue,fileName:oe,dismissedIssues:fe}),v)try{const _e=(await v.auth.getSession())?.data?.session?.user?.id||Je;if(_e){const{error:lt}=await v.from("dismissed_issue_feedback").insert({user_id:_e,file_name:oe,mark_event_id:ue||null,mode:ce,issue_label:w||"",paragraph_index:he.paragraph_index,sentence:he.sentence,reason:B.reason,other_text:B.other_text||null});lt&&console.warn("Dismissed issue feedback insert failed:",lt)}}catch(we){console.warn("Dismissed issue feedback insert failed:",we)}const te=Xm(w,he,{containerEl:m?.current,scroll:!0,allowParagraphFallback:!0,silent:!1}),Qe=vi(w,X);te.ok?(el(te.message||"Dismissed."),ne?.()):(tt(Qe,{error:te.message||"Preview not available."}),el("")),Ge(we=>{const _e={...we},lt=Number(_e[w]||0),wt=Math.max(0,lt-1);return wt===0?delete _e[w]:_e[w]=wt,_e}),tt(Qe,{message:"Dismissed."}),b(we=>{const _e=we.filter(lt=>vi(w,lt)!==Qe);return _e.length||ot("No remaining examples (they may have been dismissed). Choose a different issue."),_e}),it(Qe)},Un=async(w,X)=>{const B=Bv(w);if(B?.reason){await yn(w,X,{reason:B.reason,other_text:B.other_text||null,dontAskAgain:!0});return}Pn({label:w,example:X}),Qt(!0)},xi=()=>{if(!L)return;const w=me.map(fe=>{const te=vi(L,fe),Qe=String(Te[te]||"").trim(),_e=Xe[te]?.rewrite||""||Qe||"";return{original:fe?.sentence||"",rewrite:_e}}),X=[`Label: ${L}`,"",...w.flatMap((fe,te)=>[`Example ${te+1}:`,`Original: ${fe.original}`,`Rewrite: ${fe.rewrite||"(none)"}`,""])],B=new Blob([X.join(`
`)],{type:"text/plain"}),oe=`revision_notes_${ys(L)||"issue"}.txt`,he=document.createElement("a");he.href=URL.createObjectURL(B),he.download=oe,he.click(),URL.revokeObjectURL(he.href)},la=async({reason:w,other_text:X})=>{if(!Dn)return;const{label:B,example:oe}=Dn;Qt(!1),Pn(null),await yn(B,oe,{reason:w,other_text:X,dontAskAgain:!1})},Ml=async({reason:w,other_text:X})=>{if(!Dn)return;const{label:B,example:oe}=Dn;Hv(B,w,X),Qt(!1),Pn(null),await yn(B,oe,{reason:w,other_text:X,dontAskAgain:!0})};return s?o.jsxs("section",{className:"card practice-card",children:[o.jsxs("div",{className:"practice-header",children:[o.jsx("h2",{children:"Revision practice"}),P?o.jsx("button",{type:"button",className:"diagnostics-link",onClick:P,children:"Diagnostics"}):null]}),!N||!S?o.jsx("p",{className:"helper-text",children:"Mark an essay to unlock revision practice."}):null,ze?o.jsx("p",{className:"helper-text error-text",children:ze}):null,ee?o.jsx("p",{className:"helper-text",children:"Loading revision data"}):null,h?o.jsxs("div",{className:"helper-text practice-note",children:["Viewing attempt from"," ",h?.createdAt?new Date(h.createdAt).toLocaleString():"earlier"," ",""," ",o.jsx("button",{type:"button",className:"diagnostics-link",onClick:()=>y?.(),children:"Back to latest"})]}):null,Gt&&!ee?o.jsx("p",{className:"helper-text",children:"No revision data yet (mark again)."}):null,N&&S&&!ee?o.jsxs("div",{className:"practice-grid",children:[o.jsx(ey,{wordCount:We,totalIssues:Ht,topIssue:Tl,techniques:D}),o.jsxs("div",{className:"practice-issues",children:[o.jsx("h3",{children:"Grouped issues"}),o.jsxs("div",{className:"practice-groups",children:[o.jsxs("div",{className:"practice-group",children:[o.jsx("div",{className:"practice-group-title",children:"Title and Introduction"}),o.jsx("div",{className:"issue-list",children:pn.groups.intro.length?pn.groups.intro.map(w=>o.jsxs("button",{type:"button",className:`issue-chip${L===w.label?" is-active":""}`,onClick:()=>{se(w.label),Z?.(w.label)},children:[w.label," (",w.count,")"]},w.label)):o.jsx("p",{className:"helper-text",children:"No intro issues."})})]}),Object.keys(pn.groups.body).sort((w,X)=>Number(w)-Number(X)).map(w=>o.jsxs("div",{className:"practice-group",children:[o.jsxs("div",{className:"practice-group-title",children:["Body Paragraph ",w]}),o.jsx("div",{className:"issue-list",children:pn.groups.body[w].map(X=>o.jsxs("button",{type:"button",className:`issue-chip${L===X.label?" is-active":""}`,onClick:()=>{se(X.label),Z?.(X.label)},children:[X.label," (",X.count,")"]},X.label))})]},`body-${w}`)),o.jsxs("div",{className:"practice-group",children:[o.jsx("div",{className:"practice-group-title",children:"Conclusion"}),o.jsx("div",{className:"issue-list",children:pn.groups.conclusion.length?pn.groups.conclusion.map(w=>o.jsxs("button",{type:"button",className:`issue-chip${L===w.label?" is-active":""}`,onClick:()=>{se(w.label),Z?.(w.label)},children:[w.label," (",w.count,")"]},w.label)):o.jsx("p",{className:"helper-text",children:"No conclusion issues."})})]})]}),o.jsxs("div",{className:"practice-top-issues",children:[o.jsx("h4",{children:"Most common issues"}),o.jsx("div",{className:"issue-list",children:M.length?M.map(w=>o.jsxs("button",{type:"button",className:`issue-chip${L===w.label?" is-active":""}`,onClick:()=>{se(w.label),Z?.(w.label)},children:[w.label," (",w.count,")"]},w.label)):o.jsx("p",{className:"helper-text",children:"No issues to show yet."})})]}),o.jsxs("div",{className:"examples-panel",children:[o.jsxs("div",{className:"examples-header",children:[o.jsx("h4",{children:L||"Examples"}),L?o.jsx("button",{className:"secondary-btn",type:"button",onClick:xi,children:"Download revision notes"}):null]}),_l?o.jsx("p",{className:"helper-text",children:_l}):null,zt?o.jsx("p",{className:"helper-text",children:zt}):null,r&&me.length?o.jsxs("div",{className:"practice-action-row",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>I?.(me),children:"Highlight examples"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>F?.(),children:"Clear highlights"})]}):null,W?o.jsx("p",{className:"helper-text",children:"Loading examples"}):me.length?me.map((w,X)=>{const B=vi(L,w),oe=Te[B]||"",he=Xe[B],fe=!!mn[B],te=Nl[B]||{};return Vt.current[B]||(Vt.current[B]={current:null}),o.jsxs("div",{className:"example-row",children:[o.jsxs("div",{className:"example-meta",children:[o.jsxs("span",{children:["Paragraph ",w.paragraph_index??0]}),te.message?o.jsx("span",{className:"example-status success",children:te.message}):null,te.error?o.jsx("span",{className:"example-status error",children:te.error}):null,he?o.jsx("span",{className:"example-status approved",children:"Approved!"}):null,fe?o.jsx("span",{className:"example-status applied",children:"Applied"}):null]}),f?o.jsx("button",{type:"button",className:"example-jump",onClick:()=>$?.(w.sentence),title:w.sentence||"",children:Al(w.sentence)}):o.jsx("p",{children:Al(w.sentence)}),o.jsx("textarea",{className:"rewrite-input",rows:3,placeholder:"Write a stronger rewrite here",value:oe,onChange:Qe=>jl(B,Qe.target.value),ref:Qe=>{Vt.current[B].current=Qe}}),zn?o.jsx(yy,{textareaRef:Vt.current[B],onOpenDictionary:Qe=>K?.({anchorEl:Qe?.currentTarget,textareaRef:Vt.current[B]})}):null,o.jsxs("div",{className:"rewrite-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Da(w.sentence),children:"Copy sentence"}),o.jsx("button",{className:"secondary-btn dismiss-btn",type:"button",onClick:()=>Un(L,w),disabled:te.loading,children:"Dismiss issue"}),o.jsx("button",{className:`secondary-btn${te.loading?" is-loading loading-cursor":""}`,type:"button",onClick:()=>On(L,w),disabled:te.loading,children:te.loading?"Checking":"Check rewrite"}),o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>qt({key:B,label:L,sentence:w.sentence,paragraph_index:w.paragraph_index,rewrite:he?.rewrite||""}),disabled:!he?.rewrite,children:"Apply to Preview"})]})]},`${B}-${X}`)}):o.jsx("p",{className:"helper-text",children:Si||"No examples saved for this issue yet."})]}),gn.length?o.jsxs("div",{className:"approved-panel",children:[o.jsxs("button",{type:"button",className:"secondary-btn",onClick:()=>tn(w=>!w),children:[Mn?"Hide":"Show"," approved rewrites (",gn.length,")"]}),Mn?o.jsxs("div",{className:"approved-list",children:[Qn.length?Qn.map(w=>{const X=!!rt[w.key],B=Te[w.key]??w.rewrite;return o.jsxs("div",{className:"approved-item",children:[o.jsx("div",{className:"approved-meta",children:w.label}),X?o.jsx("textarea",{className:"rewrite-input",rows:2,value:B,onChange:oe=>jl(w.key,oe.target.value)}):o.jsx("p",{className:"approved-text",children:w.rewrite}),o.jsxs("div",{className:"rewrite-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Rn(oe=>({...oe,[w.key]:!oe[w.key]})),children:X?"Cancel":"Edit"}),X?o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{const oe=String(B||"").trim();oe&&(ct(he=>({...he,[w.key]:{...w,rewrite:oe}})),Rn(he=>({...he,[w.key]:!1})))},children:"Save"}):null,o.jsx("button",{className:"primary-btn",type:"button",onClick:()=>qt({key:w.key,label:w.label,sentence:w.sentence,paragraph_index:w.paragraph_index,rewrite:Xe[w.key]?.rewrite||""}),children:"Apply to Preview"})]})]},`approved-${w.key}`)}):o.jsx("p",{className:"helper-text",children:"No other approved rewrites yet."}),gn.length>=2?o.jsx("button",{className:"primary-btn apply-all-btn",type:"button",onClick:ft,children:"Apply all rewrites to Preview"}):null]}):null]}):null]})]}):null,o.jsx($v,{isOpen:ta,onCancel:()=>{Qt(!1),Pn(null)},onConfirm:la,onNoAsk:Ml})]}):null}const Ry=30,Dy=80,zy=s=>Object.entries(s||{}).filter(([c,f])=>c&&(Number(f)||0)>0).sort((c,f)=>(Number(f[1])||0)-(Number(c[1])||0)).slice(0,Ry).map(([c,f])=>({label:c,count:Number(f)||0})),Oy=s=>{const c=String(s||"").trim();if(!c)return"";const f=c.match(/^(.+?[.!?])(\s|$)/);return f?f[1]:c},Uy=(s,c)=>{const f=new Map;return(c||[]).forEach(r=>{const h=String(r?.label||"").trim();if(!h||f.has(h))return;const y=r?.short_explanation?String(r.short_explanation):Oy(r?.explanation);y&&f.set(h,y)}),s.map(r=>f.get(r)||"")},By=()=>{let s=document.getElementById("mostCommonIssuesTooltip");return s||(s=document.createElement("div"),s.id="mostCommonIssuesTooltip",s.className="mci-tooltip",s.innerHTML=`
    <div class="mci-tooltip-header"></div>
    <div class="mci-body"></div>
    <div class="mci-hint">Click the bar chart to revise</div>
  `,s.style.opacity="0",document.body.appendChild(s),s)},Hy=(s,c,f)=>{const r=s.canvas.getBoundingClientRect(),h=r.left+window.scrollX+c.caretX,y=r.top+window.scrollY+c.caretY,v=12,N=f.getBoundingClientRect(),S=Math.max(v,Math.min(h-N.width/2,window.innerWidth-N.width-v)),m=Math.max(v,y-N.height-12);f.style.left=`${S}px`,f.style.top=`${m}px`};function qy({labelCounts:s,issues:c,onSelectLabel:f,markEventId:r}){const h=g.useRef(null),y=g.useRef(null),v=g.useRef(null),N=g.useRef(null),S=g.useRef(null),m=g.useMemo(()=>zy(s),[s]),D=g.useMemo(()=>m.map(k=>k.label),[m]),C=g.useMemo(()=>m.map(k=>k.count),[m]),Y=g.useMemo(()=>Uy(D,c),[c,D]);return g.useEffect(()=>{const k=h.current,Z=N.current;if(!k||!Z)return;if(!m.length){k.dataset.hasData="false",k.style.display="none",S.current&&(S.current.destroy(),S.current=null);return}const P=window.Chart;if(!P){k.dataset.hasData="true",k.style.display="block";return}k.dataset.hasData="true",k.style.display="block",S.current&&(S.current.destroy(),S.current=null);const $=y.current,I=v.current;if($&&r!=null){const Q=String(r);$.dataset.markEventId!==Q&&(delete $.dataset.hasScrolled,$.dataset.markEventId=Q)}const F=$?$.clientWidth:k.clientWidth,ce=Math.max(F,m.length*Dy);Z.width=ce,Z.style.width=`${ce}px`,Z.style.height="280px",I&&(I.style.width=`${ce}px`);const ne=$&&!$.dataset.hasScrolled;$&&ne&&($.scrollLeft=0),$&&$.addEventListener("scroll",()=>{$.dataset.hasScrolled="1"},{once:!0});const K=Z.getContext("2d"),ee=By();return S.current=new P(K,{type:"bar",data:{labels:D,datasets:[{data:C,backgroundColor:"rgba(11, 98, 214, 0.6)",borderColor:"rgba(11, 98, 214, 1)",borderWidth:1,explanations:Y}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1,external:({chart:Q,tooltip:W})=>{if(!W||!Q)return;if(W.opacity===0){ee.style.opacity="0";return}const pe=W.title?.[0]||"",ze=W.body?.[0]?.lines?.[0]||"",ve=W.dataPoints?.[0]?.dataIndex??0,ye=Y[ve]||"";ee.querySelector(".mci-tooltip-header").textContent=pe,ee.querySelector(".mci-body").textContent=`${ze}${ye?`  ${ye}`:""}`,ee.style.opacity="1",Hy(Q,W,ee)}}},onHover:(Q,W,pe)=>{pe?.canvas&&(pe.canvas.style.cursor=W?.length?"pointer":"default")},onClick:(Q,W,pe)=>{if(!pe)return;const ze=pe.getElementsAtEventForMode(Q,"nearest",{intersect:!0},!0);if(!ze.length)return;const ve=ze[0].index,ye=pe.data.labels?.[ve]||"";ye&&f?.(ye)},scales:{y:{beginAtZero:!0,ticks:{precision:0}},x:{ticks:{autoSkip:!0,maxRotation:45,minRotation:0,font:{size:14,weight:"600"},callback:(Q,W)=>{const pe=D[W]||"";return pe.length>26?`${pe.slice(0,25)}`:pe}}}}}}),()=>{S.current&&(S.current.destroy(),S.current=null)}},[m,Y,D,C,f,r]),m.length?o.jsxs("div",{id:"mostCommonIssuesWrap",ref:h,style:{marginTop:"20px"},children:[o.jsx("div",{className:"rules-title",children:"Most Common Issues"}),o.jsx("div",{id:"mciScrollViewport",className:"mci-scroll-viewport",ref:y,children:o.jsx("div",{id:"mciScrollInner",className:"mci-scroll-inner",ref:v,children:o.jsx("canvas",{id:"mostCommonIssuesChart",ref:N})})})]}):null}const Sm={info:3500,success:3500,warn:4500};function Ly({toasts:s,onDismiss:c}){return g.useEffect(()=>{const f=(s||[]).filter(r=>Sm[r.kind]).map(r=>{const h=Sm[r.kind],y=window.setTimeout(()=>c?.(r.id),h);return()=>window.clearTimeout(y)});return()=>{f.forEach(r=>r())}},[c,s]),s?.length?o.jsx("div",{className:"status-toasts",role:"status","aria-live":"polite",children:s.map(f=>o.jsxs("div",{className:`toast toast-${f.kind||"info"}`,children:[o.jsxs("div",{className:"toast-body",children:[o.jsx("strong",{children:f.title}),f.message?o.jsx("div",{children:f.message}):null]}),o.jsxs("div",{className:"toast-actions",children:[f.kind==="error"?o.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{try{const r=JSON.stringify(f.details||{},null,2);await navigator.clipboard.writeText(r)}catch(r){console.warn("Copy toast details failed",r)}},children:"Copy error details"}):null,o.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>c?.(f.id),children:"Close"})]})]},f.id))}):null}class Xu extends g.Component{constructor(c){super(c),this.state={hasError:!1,error:null,componentStack:"",errorStack:""}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,f){console.error("Student React render error",c),this.setState({componentStack:f?.componentStack||"",errorStack:c?.stack||""})}handleCopyDetails=async()=>{try{const c=this.state.error?.message||"Unknown error",f=this.state.errorStack||this.state.error?.stack||"",r=this.state.componentStack||"",h=Rm()||{},y=JSON.stringify({error:c,stack:f,componentStack:r,buildId:h.buildId||"",recentEvents:h.recentEvents||[],url:window.location.href},null,2);await navigator.clipboard.writeText(y)}catch(c){console.warn("Copy debug info failed",c)}};render(){if(this.state.hasError){const{inline:c=!1,title:f="Something broke while rendering the preview.",message:r="Try reloading or returning to the classic view.",showClassic:h=!0}=this.props,y=!!ws()?.featureFlags?.debugHardening,v=new URLSearchParams(window.location.search).get("debug")==="1",N=y||v,S=this.state.error?.message||"Unknown error",m=this.state.componentStack||"",D=c?"section":"main",C=c?"":"page student-page student-react-shell";return o.jsx(D,{className:C,children:o.jsxs("div",{className:"card form-card",children:[o.jsx("p",{children:f}),o.jsx("p",{className:"helper-text",children:r}),o.jsxs("p",{className:"helper-text",children:["Error: ",S]}),N&&m?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"helper-text",children:"Component stack:"}),o.jsx("pre",{className:"preview-error-stack",children:m})]}):null,o.jsxs("div",{className:"results-actions",children:[o.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>window.location.reload(),children:"Reload page"}),h?o.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>window.location.assign("/student.html"),children:"Return to classic"}):null,o.jsx("button",{type:"button",className:"secondary-btn",onClick:this.handleCopyDetails,children:"Copy debug info"})]})]})})}return this.props.children}}function ky({visible:s,savedAt:c,onRestore:f,onDismiss:r,onDelete:h}){if(!s)return null;const y=c?new Date(c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"recently";return o.jsxs("div",{className:"draft-banner",children:[o.jsxs("div",{className:"draft-banner-text",children:["Unsaved draft found from ",y]}),o.jsxs("div",{className:"draft-banner-actions",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:f,children:"Restore"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:r,children:"Dismiss"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:h,children:"Delete"})]})]})}function Yy({enabled:s,attempts:c,selectedAttemptId:f,onSelectAttempt:r,onRefresh:h,isLoading:y,error:v}){return s?o.jsxs("section",{className:"card practice-card",children:[o.jsxs("div",{className:"practice-header",children:[o.jsx("h2",{children:"Attempt history"}),o.jsx("button",{className:"diagnostics-link",type:"button",onClick:h,children:"Refresh"})]}),y?o.jsx("p",{className:"helper-text",children:"Loading history"}):null,v?o.jsx("p",{className:"helper-text error-text",children:v}):null,!y&&(!c||c.length===0)?o.jsx("p",{className:"helper-text",children:"No attempts yet for this file."}):null,o.jsx("div",{className:"attempt-list",children:(c||[]).map(N=>{const S=N?.createdAt?new Date(N.createdAt).toLocaleString():"Unknown time";return o.jsxs("button",{type:"button",className:`attempt-item${f===N.id?" is-active":""}`,onClick:()=>r?.(N),children:[o.jsx("div",{className:"attempt-time",children:S}),o.jsxs("div",{className:"attempt-meta",children:[o.jsxs("span",{children:["Total issues: ",N.totalIssues??0]}),o.jsx("span",{children:N.topIssue||"Top issue "})]})]},N.id)})})]}):null}var Oo=_m();function Gy({isOpen:s,anchorEl:c,metricKey:f,onClose:r}){const h=g.useRef(null);if(g.useLayoutEffect(()=>{if(!s||!c||!h.current)return;const v=h.current,N=c.getBoundingClientRect(),S=10,m=12;v.style.display="block",v.style.visibility="hidden";const D=v.getBoundingClientRect(),Y=N.bottom+S+D.height<=window.innerHeight?N.bottom+S:N.top-S-D.height;let k=N.left+N.width/2-D.width/2;k=Math.max(m,Math.min(k,window.innerWidth-D.width-m)),v.style.top=`${Math.round(Y)}px`,v.style.left=`${Math.round(k)}px`,v.style.visibility="visible"},[c,s,f]),g.useEffect(()=>{if(!s)return;const v=m=>{h.current?.contains(m.target)||c?.contains(m.target)||r?.()},N=m=>{m.key==="Escape"&&r?.()},S=()=>{if(!h.current||!c)return;const m=c.getBoundingClientRect(),D=10,C=12,Y=h.current.getBoundingClientRect(),Z=m.bottom+D+Y.height<=window.innerHeight?m.bottom+D:m.top-D-Y.height;let P=m.left+m.width/2-Y.width/2;P=Math.max(C,Math.min(P,window.innerWidth-Y.width-C)),h.current.style.top=`${Math.round(Z)}px`,h.current.style.left=`${Math.round(P)}px`};return document.addEventListener("mousedown",v,!0),document.addEventListener("touchstart",v,!0),document.addEventListener("keydown",N),window.addEventListener("resize",S),window.addEventListener("scroll",S,!0),()=>{document.removeEventListener("mousedown",v,!0),document.removeEventListener("touchstart",v,!0),document.removeEventListener("keydown",N),window.removeEventListener("resize",S),window.removeEventListener("scroll",S,!0)}},[c,s,r]),!s)return null;const y=Dm[f]||{};return Oo.createPortal(o.jsxs("div",{ref:h,className:"tour-popover metric-popover",children:[o.jsx("div",{className:"tour-title",children:y.title||"Metric"}),o.jsx("div",{className:"tour-body",children:y.body||""}),y.tips?.length?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"metric-popover-tips-title",children:"Tips"}),o.jsx("ul",{className:"metric-popover-list",children:y.tips.map(v=>o.jsx("li",{children:v},v))})]}):null]}),document.body)}const xm=12;function Xy({isOpen:s,anchorEl:c,previewRef:f,textareaRef:r,onClose:h,onVerbApplied:y}){const v=g.useRef(null),[N,S]=g.useState([]),[m,D]=g.useState(new Map),[C,Y]=g.useState(0),[k,Z]=g.useState(""),[P,$]=g.useState("");g.useEffect(()=>{s&&Do().then(({list:ne,map:K})=>{const ee=Ao(ne);S(ee),D(K),$(ee.length?"":"Power verbs list failed to load. Check power_verbs_2025.json path.")})},[s]),g.useLayoutEffect(()=>{if(!s||!c||!v.current)return;const ne=v.current,K=c.getBoundingClientRect(),ee=10,Q=12;ne.style.display="flex",ne.style.visibility="hidden";const W=ne.getBoundingClientRect();let ze=K.bottom+ee+W.height<=window.innerHeight?K.bottom+ee:K.top-ee-W.height,ve=K.left+K.width/2-W.width/2;ve=Math.max(Q,Math.min(ve,window.innerWidth-W.width-Q)),ze<Q&&(ze=Q),ne.style.top=`${Math.round(ze)}px`,ne.style.left=`${Math.round(ve)}px`,ne.style.visibility="visible"},[c,s,C,N]),g.useEffect(()=>{if(!s)return;const ne=Q=>{v.current?.contains(Q.target)||c?.contains(Q.target)||h?.()},K=Q=>{Q.key==="Escape"&&h?.()},ee=()=>{if(!v.current||!c)return;const Q=c.getBoundingClientRect(),W=10,pe=12,ze=v.current.getBoundingClientRect();let ye=Q.bottom+W+ze.height<=window.innerHeight?Q.bottom+W:Q.top-W-ze.height,Ge=Q.left+Q.width/2-ze.width/2;Ge=Math.max(pe,Math.min(Ge,window.innerWidth-ze.width-pe)),ye<pe&&(ye=pe),v.current.style.top=`${Math.round(ye)}px`,v.current.style.left=`${Math.round(Ge)}px`};return document.addEventListener("mousedown",ne,!0),document.addEventListener("touchstart",ne,!0),document.addEventListener("keydown",K),window.addEventListener("resize",ee),window.addEventListener("scroll",ee,!0),()=>{document.removeEventListener("mousedown",ne,!0),document.removeEventListener("touchstart",ne,!0),document.removeEventListener("keydown",K),window.removeEventListener("resize",ee),window.removeEventListener("scroll",ee,!0)}},[c,s,h]);const I=g.useMemo(()=>{const ne=N||[],K=[];for(let ee=0;ee<ne.length;ee+=xm)K.push(ne.slice(ee,ee+xm));return K},[N]),F=I[C]||[],ce=async ne=>{if(!ne)return;const K=f?.current,ee=r?.current;let Q=!1;ee?Q=Qm(ee,ne):K&&(Q=vy(K,ne)),Q?(Z("Applied."),ee||y?.(ne)):(await Vm(ne),Z("Copied.")),window.setTimeout(()=>Z(""),1200)};return s?Oo.createPortal(o.jsxs("div",{ref:v,className:"tour-popover power-verbs-popover",children:[o.jsxs("div",{className:"power-verbs-popover-header",children:[o.jsx("div",{className:"power-verbs-popover-title",children:"Power Verbs"}),o.jsx("button",{className:"power-verbs-popover-close",type:"button","aria-label":"Close",onClick:h,children:""})]}),o.jsx("div",{className:"power-verbs-feedback",children:k}),P?o.jsx("div",{className:"power-verbs-popover-grid",children:P}):o.jsx("div",{className:"power-verbs-popover-grid",children:F.map(ne=>{const K=ne?.verb||"",ee=ne?.definition||m.get(String(K).toLowerCase())||"";return o.jsxs("button",{type:"button",className:"power-verb-card",onClick:()=>ce(K),children:[o.jsxs("div",{className:"power-verb-card-header",children:[o.jsx("div",{className:"power-verb-card-verb",children:K}),o.jsx("div",{className:"power-verb-card-copied",children:k})]}),o.jsx("div",{className:"power-verb-card-def",children:ee})]},K)})}),o.jsxs("div",{className:"power-verbs-popover-footer",children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Y(ne=>Math.max(ne-1,0)),disabled:C===0,children:"Prev"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Y(ne=>Math.min(ne+1,I.length-1)),disabled:C>=I.length-1,children:"Next"})]})]}),document.body):null}const Qy="vysti_pill_hint_shown_v3__",Zm=s=>`${Qy}${String(s||"").trim()}`,Vy=s=>{if(!s)return!1;try{return sessionStorage.getItem(Zm(s))==="1"}catch{return!1}},Zy=s=>{if(s)try{sessionStorage.setItem(Zm(s),"1")}catch{}};function Ky({isOpen:s,mode:c="anchor",anchorEl:f,data:r,nav:h,dismissKey:y,onClose:v}){const N=g.useRef(null);if(g.useLayoutEffect(()=>{if(!s||c!=="anchor"||!f||!N.current)return;const k=N.current,Z=f.getBoundingClientRect(),P=12,$=12;k.style.display="block",k.style.visibility="hidden";const I=k.getBoundingClientRect();let F=Z.bottom+P,ce=Z.left+Z.width/2-I.width/2;ce=Math.max($,Math.min(ce,window.innerWidth-I.width-$)),F+I.height>window.innerHeight-$&&(F=Z.top-P-I.height),k.style.top=`${Math.round(F)}px`,k.style.left=`${Math.round(ce)}px`,k.style.visibility="visible"},[f,s,c,r]),g.useEffect(()=>{if(!s)return;const k=$=>{N.current?.contains($.target)||c==="anchor"&&f?.contains($.target)||v?.()},Z=$=>{$.key==="Escape"&&v?.()},P=()=>{if(!N.current||!f||c!=="anchor")return;const $=f.getBoundingClientRect(),I=12,F=12,ce=N.current.getBoundingClientRect();let ne=$.bottom+I,K=$.left+$.width/2-ce.width/2;K=Math.max(F,Math.min(K,window.innerWidth-ce.width-F)),ne+ce.height>window.innerHeight-F&&(ne=$.top-I-ce.height),N.current.style.top=`${Math.round(ne)}px`,N.current.style.left=`${Math.round(K)}px`};return document.addEventListener("mousedown",k,!0),document.addEventListener("touchstart",k,!0),document.addEventListener("keydown",Z),window.addEventListener("resize",P),window.addEventListener("scroll",P,!0),()=>{document.removeEventListener("mousedown",k,!0),document.removeEventListener("touchstart",k,!0),document.removeEventListener("keydown",Z),window.removeEventListener("resize",P),window.removeEventListener("scroll",P,!0)}},[f,s,c,v]),g.useEffect(()=>{s&&y&&Vy(y)&&v?.()},[y,s,v]),!s||!r)return null;const{title:S,body:m,subheader:D}=r,C=h?.count&&h?.count>1,Y=o.jsxs(o.Fragment,{children:[c==="modal"?o.jsx("div",{className:"pill-hint-backdrop"}):null,o.jsxs("div",{ref:N,className:`tour-popover pill-hint-popover${c==="modal"?" is-modal":""}`,role:"dialog","aria-modal":c==="modal"?"true":"false",children:[o.jsx("button",{className:"tour-close",type:"button","aria-label":"Close",onClick:v,children:""}),o.jsx("div",{className:"tour-arrow"}),o.jsx("div",{className:"tour-title",children:S||"Hint"}),o.jsx("div",{className:"tour-body",children:m||""}),D?o.jsx("div",{className:"pill-hint-subheader",children:D}):null,o.jsxs("div",{className:"pill-hint-footer",children:[C?o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>h?.go?.(-1),disabled:h?.canPrev?!h.canPrev():!1,children:"Prev"}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>h?.go?.(1),disabled:h?.canNext?!h.canNext():!1,children:"Next"})]}):null,o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{y&&Zy(y),v?.()},children:"Got it"})]})]})]});return Oo.createPortal(Y,document.body)}let ku=null;function Jy(){if(ku)return ku;if(!window.supabase?.createClient)return null;const s=Co(),{supabaseUrl:c,supabaseAnonKey:f}=s||{};return!c||!f?null:(ku=window.supabase.createClient(c,f),ku)}function $y(){return`${location.pathname}${location.search}${location.hash}`}function Km(s){return`/signin.html?redirect=${encodeURIComponent(s||"")}`}function Fy(){location.replace(Km($y()))}const Wy=s=>Km(s),Em=s=>{const c=Wy(s);Cn("auth_redirect",{redirectUrl:c}),Fy()};function Iy(){const[s,c]=g.useState(null),[f,r]=g.useState(!0),[h,y]=g.useState(""),v=g.useRef(!0);return g.useEffect(()=>{v.current=!0;const N=Jy();if(c(N),!N){y("Supabase client not available."),r(!1),en("Supabase client not available");return}const S=async()=>{try{Cn("auth_check_start");const{data:D}=await N.auth.getSession();if(!D?.session){Cn("auth_session_missing"),Em();return}localStorage.setItem("vysti_role","student"),v.current&&r(!1),Cn("auth_session_valid")}catch(D){console.error("Failed to read session",D),v.current&&(y("Unable to verify session. Please refresh."),r(!1)),en("Auth check failed",{error:D?.message})}};S();const{data:m}=N.auth.onAuthStateChange(()=>{S()});return()=>{v.current=!1,m?.subscription?.unsubscribe()}},[]),{supa:s,isChecking:f,authError:h,redirectToSignin:Em}}function Py({file:s,mode:c,includeSummaryTable:f=!1,assignmentName:r="",detectedWork:h=null}){const y=new FormData;if(y.append("file",s),y.append("mode",c),y.append("include_summary_table",f?"true":"false"),y.append("highlight_thesis_devices","false"),y.append("student_mode","true"),r&&r.trim()&&y.append("assignment_name",r.trim()),h?.confidence==="high"){const v=typeof h.text_is_minor_work=="boolean"?h.text_is_minor_work:h.isMinor;h.author&&y.append("author",h.author),h.title&&y.append("title",h.title),typeof v=="boolean"&&y.append("text_is_minor_work",v?"true":"false")}return y}function So(s){if(!s)return null;try{return JSON.parse(s)}catch{return s}}function eb({fileName:s,text:c,mode:f,detectedWork:r=null}){const h={file_name:s,text:c,mode:f,highlight_thesis_devices:!1,student_mode:!0};if(r?.confidence==="high"){const y=typeof r.text_is_minor_work=="boolean"?r.text_is_minor_work:r.isMinor;h.titles=[{author:r.author||"",title:r.title||"",is_minor:!!y}]}return h}function wm(s,c){const f=URL.createObjectURL(s),r=document.createElement("a");r.href=f,r.download=c,r.click(),URL.revokeObjectURL(f)}async function tb({supa:s,file:c,mode:f,assignmentName:r,onSessionExpired:h,signal:y,timeoutMs:v}){if(Cn("mark_start",{mode:f,fileName:c?.name||""}),!s)throw en("Supabase is not available"),new Error("Supabase is not available.");const{data:N,error:S}=await s.auth.getSession();if(S||!N?.session)throw h&&h(),en("Session expired before mark"),new Error("Session expired. Please sign in again.");const m=Vu();if(!m)throw en("Mark URL missing from config"),new Error("Missing API configuration. Please refresh.");try{const D=Py({file:c,mode:f,includeSummaryTable:!1,assignmentName:r}),C=await Ss(`${m}/mark`,{method:"POST",headers:{Authorization:`Bearer ${N.session.access_token}`},body:D,signal:y},{timeoutMs:v});if(Es(C)){const Z=new Error("Session expired");throw Z.code="SESSION_EXPIRED",Z}if(!C.ok)throw new Error(await xs(C));const Y=C.headers.get("X-Vysti-Techniques"),k=await C.blob();return Cn("mark_success",{size:k.size}),{blob:k,techniquesHeader:Y,status:C.status}}catch(D){throw D?.code==="SESSION_EXPIRED"?(h&&h(),en("Session expired during mark"),new Error("Session expired. Please sign in again.")):(en("Mark failed",{error:D?.message}),D)}}async function nb({supa:s,payload:c,onSessionExpired:f,signal:r,timeoutMs:h}){if(Cn("recheck_start"),!s)throw en("Supabase is not available"),new Error("Supabase is not available.");const{data:y,error:v}=await s.auth.getSession();if(v||!y?.session)throw f&&f(),en("Session expired before recheck"),new Error("Session expired. Please sign in again.");const N=Vu();if(!N)throw en("Recheck URL missing from config"),new Error("Missing API configuration. Please refresh.");try{const S=await Ss(`${N}/mark_text`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.session.access_token}`},body:JSON.stringify(c),signal:r},{timeoutMs:h});if(Es(S)){const C=new Error("Session expired");throw C.code="SESSION_EXPIRED",C}if(!S.ok)throw new Error(await xs(S));const m=S.headers.get("X-Vysti-Techniques"),D=await S.blob();return Cn("recheck_success",{size:D.size}),{blob:D,techniquesHeader:m}}catch(S){throw S?.code==="SESSION_EXPIRED"?(f&&f(),en("Session expired during recheck"),new Error("Session expired. Please sign in again.")):(en("Recheck failed",{error:S?.message}),S)}}const lb=s=>{if(!s)return{};if(typeof s=="object")return s;if(typeof s=="string")try{const c=JSON.parse(s);return c&&typeof c=="object"?c:{}}catch{return{}}return{}},ab=s=>{const c=lb(s);return Object.entries(c).reduce((f,[r,h])=>(r&&!Ju(r)&&(f[r]=h),f),{})},ib=s=>{const c=Object.entries(s||{}).map(([r,h])=>({label:r,count:Number(h)||0}));if(!c.length)return"";const f=c.sort((r,h)=>h.count-r.count||r.label.localeCompare(h.label))[0];return f?.label?`${f.label} (${f.count})`:""},sb=s=>Object.values(s||{}).reduce((c,f)=>c+(Number(f)||0),0);async function ub({supa:s,userId:c,fileName:f,limit:r=10}){const{data:h,error:y}=await s.from("mark_events").select("id, created_at, file_name, label_counts, issues").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(r);if(y)throw y;return(h||[]).map(v=>{const N=ab(v?.label_counts||{});return{id:v?.id,createdAt:v?.created_at,totalIssues:sb(N),topIssue:ib(N),labelCounts:N,issues:v?.issues||[]}})}const cb=1,rb=2e5,Nm=s=>String(s||"").replace(/[:\n\r\t]/g,"_").replace(/\s+/g,"_").slice(0,120);function Uo({userId:s,fileName:c,mode:f}){const r=Nm(c),h=Nm(f);return`vysti:draft:${s||"anon"}:${r}:${h}`}function ob({userId:s,fileName:c,mode:f}){try{const r=Uo({userId:s,fileName:c,mode:f}),h=localStorage.getItem(r);if(!h)return null;const y=JSON.parse(h);return!y?.text||!y?.savedAt?null:y}catch{return null}}function fb({userId:s,fileName:c,mode:f,text:r}){try{const h=Uo({userId:s,fileName:c,mode:f}),y={text:r,savedAt:new Date().toISOString(),version:cb};return localStorage.setItem(h,JSON.stringify(y)),y}catch{return null}}function db({userId:s,fileName:c,mode:f}){try{const r=Uo({userId:s,fileName:c,mode:f});localStorage.removeItem(r)}catch{}}function hb(s){const c=String(s||"").trim();return!(!c||c.length<40||c.length>rb)}function mb(s,c){let f=0,r=null;return(...h)=>{const y=Date.now(),v=c-(y-f);if(v<=0){f=y,s(...h);return}r||(r=window.setTimeout(()=>{f=Date.now(),r=null,s(...h)},v))}}const gb=["vysti_student_helpers_disabled","vysti_student_tour_completed","vysti_student_tour_hide"],yi={type:"none",items:[],raw:"",error:""},pb=15*1024*1024,Tm="vysti_metric_details_collapsed";function vb(){const{supa:s,isChecking:c,authError:f,redirectToSignin:r}=Iy(),[h,y]=g.useState("textual_analysis"),[v,N]=g.useState(""),[S,m]=g.useState(null),[D,C]=g.useState(!1),[Y,k]=g.useState(!1),[Z,P]=g.useState(!1),[$,I]=g.useState({message:"",kind:"info"}),[F,ce]=g.useState(null),[ne,K]=g.useState(yi),[ee,Q]=g.useState(null),[W,pe]=g.useState(""),[ze,ve]=g.useState(!1),[ye,Ge]=g.useState(!1),[et,Le]=g.useState(null),[M,O]=g.useState(""),[L,se]=g.useState({hasSession:!1,email:""}),[me,b]=g.useState(Op),[z,G]=g.useState(!1),[J,re]=g.useState(!1),[ue,xe]=g.useState(!1),[We,Ue]=g.useState(""),[Je,Yt]=g.useState(!1),[Gt,At]=g.useState({}),[Te,$e]=g.useState({}),[Xe,ct]=g.useState([]),[mn,Xt]=g.useState(!1),[Mn,tn]=g.useState(""),[Nl,Yn]=g.useState(""),[rt,Rn]=g.useState(null),[ta,Qt]=g.useState(null),[Dn,Pn]=g.useState(0),[zt,el]=g.useState([]),[Si,ot]=g.useState(""),[jt,at]=g.useState(""),[bt,Gn]=g.useState(""),[Xn,Vt]=g.useState(null),[nn,xt]=g.useState(!1),[Et,Ht]=g.useState(null),[Tl,zn]=g.useState([]),[gn,na]=g.useState(!1),[pn,vn]=g.useState(""),[Qn,_l]=g.useState(null),[Da,Al]=g.useState([]),[jl,tt]=g.useState(""),[Cl,On]=g.useState(""),qt=g.useRef(""),[ft,it]=g.useState(null),[yn,Un]=g.useState(null),[xi,la]=g.useState(!1),[Ml,w]=g.useState({open:!1,anchorEl:null,metricKey:null}),[X,B]=g.useState({open:!1,anchorEl:null,textareaRef:null}),[oe,he]=g.useState(null),[fe,te]=g.useState({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null}),[Qe,we]=g.useState(null),[_e,lt]=g.useState(null),wt=g.useRef(0),Oe=ws(),aa=jm(),Zt=Vu(),ia=Zt?`${Zt}/mark`:"",sa=Zt?`${Zt}/mark_text`:"",bn=Zt?`${Zt}/export_docx`:"",Kt=!!Oe.featureFlags?.debugHardening,tl=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.revisionPracticeReact||E.get("practice")==="1"||localStorage.getItem("vysti_practice")==="1"},[Oe.featureFlags?.revisionPracticeReact]),Ei=Oe.rollout?.studentReact||{},wi=(Ei.allowEmails||[]).map(E=>String(E||"").toLowerCase()),Ns=Ei.allowUserIds||[],Vn=L.email&&wi.includes(L.email.toLowerCase())||W&&Ns.includes(W),ua=g.useMemo(()=>new URLSearchParams(window.location.search).get("rolloutDebug")==="1",[]),Jt=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return Vn||E.get("react")==="1"||ua},[Vn,ua]),za=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.practiceNavigationReact||E.get("practiceNav")==="1"||localStorage.getItem("vysti_practice_nav")==="1"},[Oe.featureFlags?.practiceNavigationReact]),Ni=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.practiceHighlightReact||E.get("practiceHL")==="1"||localStorage.getItem("vysti_practice_hl")==="1"},[Oe.featureFlags?.practiceHighlightReact]),ln=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.hardeningReact||E.get("hardening")==="1"||localStorage.getItem("vysti_hardening")==="1"},[Oe.featureFlags?.hardeningReact]),an=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.cancelRequestsReact||E.get("cancel")==="1"||localStorage.getItem("vysti_cancel")==="1"},[Oe.featureFlags?.cancelRequestsReact]),Ti=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.strictFileValidationReact||E.get("strict")==="1"||localStorage.getItem("vysti_strict_files")==="1"},[Oe.featureFlags?.strictFileValidationReact]),Zn=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.statusToastsReact||E.get("statusToasts")==="1"||localStorage.getItem("vysti_status_toasts")==="1"},[Oe.featureFlags?.statusToastsReact]),Sn=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.autosaveDraftReact||E.get("autosave")==="1"||localStorage.getItem("vysti_autosave")==="1"},[Oe.featureFlags?.autosaveDraftReact]),nl=g.useMemo(()=>{const E=new URLSearchParams(window.location.search);return!!Oe.featureFlags?.revisionHistoryReact||E.get("history")==="1"||localStorage.getItem("vysti_history")==="1"},[Oe.featureFlags?.revisionHistoryReact]),Nt=g.useRef(null),sn=g.useRef(null),Oa=g.useRef(null),Ts=g.useMemo(()=>dm[h]||dm.textual_analysis,[h]),Fu=g.useMemo(()=>Object.values(Gt||{}).reduce((E,V)=>E+(Number(V)||0),0),[Gt]);g.useEffect(()=>{if(new URLSearchParams(window.location.search).get("react")==="1"&&(Vn||ua))try{localStorage.setItem("uiMode","react"),Gn("react")}catch{}},[Vn,ua]),g.useEffect(()=>{try{la(localStorage.getItem(Tm)==="1")}catch{la(!1)}},[]),g.useEffect(()=>{try{Gn(localStorage.getItem("uiMode")||"")}catch{Gn("")}},[]),g.useEffect(()=>{let E=!0;return Do().then(({list:V})=>{E&&we(py(V))}),fv().then(({lexicon:V})=>{E&&lt(V)}),()=>{E=!1}},[]),g.useEffect(()=>{const E=requestAnimationFrame(()=>{document.body.classList.add("popovers-ready")});return()=>cancelAnimationFrame(E)},[]),g.useEffect(()=>{tl&&Yt(!0)},[tl]),g.useEffect(()=>{if(!s||!S||!F){At({}),$e({}),ct([]),tn(""),Xt(!1),Rn(null),Qt(null);return}if(Et){const le=Et.labelCounts||{},be=Et.issues||[];if($e(le),At(Ra(le,zt,S?.name)),ct(be),tn(""),Xt(!1),Rn(Et.id||null),Qt(Et||null),!Nl){const Ae=Object.keys(le||{})[0]||"";Yn(Ae)}return}let E=!0;return(async()=>{Xt(!0),tn("");try{const{data:le,error:be}=await s.auth.getSession();if(be||!le?.session?.user?.id)throw new Error("Session expired. Please sign in again.");let Ae=0,Tt=null;for(;Ae<5;){if(!E)return;const{markEvent:sl,labelCountsFiltered:Ga,issuesFiltered:ul}=await km({supa:s,userId:le.session.user.id,fileName:S.name});if(sl){Tt={markEvent:sl,labelCountsFiltered:Ga,issuesFiltered:ul};break}Ae+=1,Ae<5&&await new Promise(cl=>setTimeout(cl,400))}if(!E)return;if(!Tt?.markEvent){tn("Revision data is still syncing  try Recheck or click Refresh."),$e({}),At({}),ct([]),Rn(null),Qt(null);return}if($e(Tt.labelCountsFiltered||{}),At(Ra(Tt.labelCountsFiltered||{},zt,S?.name)),ct(Tt.issuesFiltered||[]),Rn(Tt.markEvent?.id||null),Qt(Tt.markEvent||null),!Nl){const sl=Object.keys(Tt.labelCountsFiltered||{})[0]||"";Yn(sl)}}catch(le){if(!E)return;tn(le?.message||"Failed to load issue data."),At({}),ct([]),Rn(null),Qt(null)}finally{E&&Xt(!1)}})(),()=>{E=!1}},[s,S,F,Et,Nl,zt,Dn]),g.useEffect(()=>{if(!S?.name){el([]);return}const E=_o({markEventId:rt,fileName:S.name});el(E)},[rt,S?.name]),g.useEffect(()=>{S?.name&&At(Ra(Te,zt,S.name))},[zt,Te,S?.name]),g.useEffect(()=>{F||(ot(""),at(""))},[F]),g.useEffect(()=>{if(!F||!Nt.current||!S?.name)return;const E=window.setTimeout(()=>{dy(Nt.current,zt,S.name)},300);return()=>window.clearTimeout(E)},[zt,F,S?.name]),g.useEffect(()=>{if(!F){it(null),Un(null);return}return Rl(80),()=>{wt.current&&window.clearTimeout(wt.current)}},[F,h,Gt,rt,Qe,_e]),g.useEffect(()=>{if(!s)return;let E=!0;const V=async()=>{try{const{data:be}=await s.auth.getSession();if(!E)return;pe(be?.session?.user?.id||"")}catch{if(!E)return;pe("")}};V();const{data:le}=s.auth.onAuthStateChange(()=>{V()});return()=>{E=!1,le?.subscription?.unsubscribe()}},[s]),g.useEffect(()=>{if(!s)return;const{data:E}=s.auth.onAuthStateChange((V,le)=>{le||(localStorage.removeItem("vysti_role"),r())});return()=>{E?.subscription?.unsubscribe()}},[r,s]),g.useEffect(()=>{if(!s)return;let E=!0;const V=async()=>{try{const{data:be}=await s.auth.getSession();if(!E)return;se({hasSession:!!be?.session,email:be?.session?.user?.email||""})}catch{if(!E)return;se({hasSession:!1,email:""})}};V();const{data:le}=s.auth.onAuthStateChange(()=>{V()});return()=>{E=!1,le?.subscription?.unsubscribe()}},[s]);const Bn=E=>{if(!Zn)return;const V=`${Date.now()}-${Math.random().toString(16).slice(2)}`;Al(le=>[...le,{id:V,...E}])},Hn=E=>{Al(V=>V.filter(le=>le.id!==E))},mt=(E,V=null)=>{I({message:E,kind:"error"}),Zn&&Bn({kind:"error",title:"Error",message:E,details:V})},ca=E=>{I({message:E,kind:"success"}),Zn&&Bn({kind:"success",title:"Success",message:E})},Kn=()=>{I({message:"",kind:"info"})},Lt=()=>{he(null),w({open:!1,anchorEl:null,metricKey:null}),B({open:!1,anchorEl:null,textareaRef:null}),te({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null})},_s=()=>{const E=Nt.current;if(!E)return;const V=Ma(E);if(!V)return;const le=bv(V);it(Number.isFinite(le)?le:null);const be=hv(V,h,{labelCounts:Gt,markEventId:rt,powerVerbFormsSet:Qe,thesisDevicesLexicon:_e});Un(be)},Rl=(E=350)=>{wt.current&&window.clearTimeout(wt.current),wt.current=window.setTimeout(()=>{_s()},E)},Ua=E=>{const V=by();return _l({kind:E,cancel:V.cancel}),V},ll=()=>{_l(null)},Ot=()=>{I({message:"Session expiredsigning you back in",kind:"error"}),Cn("session_expired"),window.setTimeout(()=>{const E=`${window.location.pathname}${window.location.search}`;r(E)},150)},Ba=E=>{if(!E)return{type:"none",items:[],raw:"",error:""};const V=So(E);if(Array.isArray(V)){const le=V.every(Ae=>typeof Ae=="string"),be=V.every(Ae=>Ae&&typeof Ae=="object"&&!Array.isArray(Ae));if(le)return{type:"strings",items:V,raw:E,error:""};if(be)return{type:"objects",items:V,raw:E,error:""}}return typeof V=="string"?{type:"invalid",items:[],raw:V,error:"Techniques header present but invalid JSON"}:{type:"invalid",items:[],raw:E,error:"Techniques header present but invalid JSON"}},Dl=()=>We||(S?.name||"essay.docx").replace(/\.docx$/i,"")||"essay",Jn=()=>`${Dl()}_marked.docx`,Ha=()=>`${Dl()}_revised.docx`,qa=E=>{const V=[E?.name?.trim(),E?.teacher?.trim(),E?.assignment?.trim(),E?.date?.trim()].filter(Boolean);return V.length?`${V.join(`
`)}

`:""},_i=E=>E?(E.name?.toLowerCase()||"").endsWith(".docx")||E.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document":!1,ra=E=>E?_i(E)?E.size>pb?{ok:!1,message:"File is too large (max 15MB)."}:{ok:!0,message:""}:{ok:!1,message:"Only .docx files are allowed."}:{ok:!1,message:"No file selected."},oa=E=>{if(Ti){const V=ra(E);if(!V.ok){E&&en("Invalid file selected",{fileName:E?.name||"",reason:V.message}),tt(V.message),mt(V.message),m(null),ce(null),K(yi),Q(null),Le(null),O(""),G(!1),Ue(""),ot(""),at(""),sn.current&&(sn.current.value="");return}}else if(!E||!_i(E)){E&&(mt("Please upload a .docx file."),en("Invalid file type selected",{fileName:E?.name||""})),m(null),ce(null),K(yi),Q(null),Le(null),O(""),G(!1),Ue(""),ot(""),at(""),sn.current&&(sn.current.value="");return}Kn(),tt(""),m(E),ce(null),K(yi),Q(null),Le(null),O(""),G(!1),Ue(""),ot(""),at(""),Cn("file_selected",{fileName:E?.name||""})},As=()=>{sn.current?.click()},Ut=E=>{const V=E.target.files?.[0];On(""),oa(V)},al=E=>{E.preventDefault(),E.stopPropagation(),C(!1),On("");const V=E.dataTransfer?.files?.[0];oa(V)},La=E=>{if(E.preventDefault(),E.stopPropagation(),C(!0),!Ti){On("Drop to upload");return}const le=E.dataTransfer?.items?.[0]?.getAsFile?.()||E.dataTransfer?.files?.[0];if(!le){On("Drop to upload");return}const be=ra(le);On(be.ok?"Drop to upload":be.message)},fa=()=>{C(!1),On("")},Wu=()=>{m(null),ce(null),K(yi),Q(null),Le(null),O(""),G(!1),Ue(""),tt(""),ot(""),at(""),it(null),Un(null),Lt(),Kn(),sn.current&&(sn.current.value="")},Ai=async()=>{if(!S){mt("Please select a .docx file first.");return}if(il)return;Lt(),k(!0),I({message:ln?"Uploading...":"Processing...",kind:"info"}),Zn&&Bn({kind:"info",title:"Marking",message:"Uploading essay..."}),Le(null),O("");const E=ln||an?Ua("mark"):null;try{const{blob:V,techniquesHeader:le,status:be}=await tb({supa:s,file:S,mode:h,assignmentName:v,onSessionExpired:Ot,signal:E?.signal,timeoutMs:ln?9e4:void 0});I({message:ln?"Rendering preview...":"Marked successfully. Scroll down to Preview.",kind:"info"}),ce(V),K(Ba(le));const Ae=So(le);Q(Array.isArray(Ae)?Ae:null),G(!1),Rl(120),ot(""),at("");const Tt=(S?.name||"essay.docx").replace(/\.docx$/i,"")||"essay";Ue(Tt),Ht(null),nl&&Ya(),Le({status:be,ok:!0}),ca("Marked successfully. Scroll down to Preview.")}catch(V){if(console.error("Mark failed",V),V?.code==="TIMEOUT")mt("This took too long. Try again (or check connection).",V);else if(V?.code==="ABORTED")I({message:"Canceled.",kind:"info"});else{const le=V?.message||"Failed to mark essay. Please try again.";Le({status:V?.status??null,ok:!1}),O(le),mt(le,V)}}finally{E?.clear?.(),E&&ll(),k(!1)}},ji=E=>{E.preventDefault(),Ai()},da=E=>({...eb({fileName:S?.name||"essay.docx",text:E,mode:h}),include_summary_table:!1}),ka=()=>{if(!F)return;const E=Jn();wm(F,E),Cn("download_started",{fileName:E})},js=()=>{m(null),ce(null),K(yi),Q(null),Le(null),O(""),G(!1),Ue(""),tt(""),Vt(null),xt(!1),Ht(null),zn([]),ot(""),at(""),it(null),Un(null),Lt(),Kn(),sn.current&&(sn.current.value="")},Iu=async()=>{if(!F||il)return;Lt();const E=Ma(Nt.current);if(!E){mt("Please add text to the preview before rechecking.");return}P(!0),I({message:"Rechecking...",kind:"info"}),Zn&&Bn({kind:"info",title:"Rechecking",message:"Rechecking essay..."});const V=ln||an?Ua("recheck"):null;try{const{blob:le,techniquesHeader:be}=await nb({supa:s,payload:da(E),onSessionExpired:Ot,signal:V?.signal,timeoutMs:ln?6e4:void 0});ce(le),K(Ba(be));const Ae=So(be);Q(Array.isArray(Ae)?Ae:null),G(!1),Rl(120),ot(""),at(""),Ht(null),nl&&Ya(),ca("Rechecked ")}catch(le){if(console.error("Recheck failed",le),le?.code==="TIMEOUT")mt("This took too long. Try again (or check connection).",le);else if(le?.code==="ABORTED")I({message:"Canceled.",kind:"info"});else{const be=le?.message||"Failed to recheck essay. Please try again.";mt(be,le)}}finally{V?.clear?.(),V&&ll(),P(!1)}},Ci=()=>{G(!0),Rl(350)},Pu=E=>{if(!E){ot(""),at("");return}ot(E?.message||"Preview render failed"),at(E?.stack||"")},Mi=()=>{ce(null),G(!1),ot(""),at(""),it(null),Un(null)},ec=()=>{Pn(E=>E+1)},tc=()=>{an&&Qn?.cancel&&(Qn.cancel(),Bn({kind:"warn",title:"Canceled",message:"Request canceled."}),I({message:"Canceled.",kind:"info"}))},nc=async E=>{if(E){if(!s){mt("Supabase is not available.");return}if(!Zt){mt("Missing API configuration. Please refresh.");return}try{const{data:V,error:le}=await s.auth.getSession();if(le||!V?.session){Ot();return}const be=Ha(),Ae=await Ss(`${Zt}/export_docx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V.session.access_token}`},body:JSON.stringify({file_name:be,text:E})},{timeoutMs:6e4});if(Es(Ae)){Ot();return}if(!Ae.ok)throw new Error(await xs(Ae));const Tt=await Ae.blob();ce(Tt),G(!0),I({kind:"success",message:"Draft restored into preview."}),Vt(null),xt(!0)}catch(V){console.error("Draft restore failed",V),mt(V?.message||"Failed to restore draft.")}}},lc=()=>{Xn?.text&&nc(Xn.text)},ac=()=>{xt(!0)},Cs=()=>{!S||!W||(db({userId:W,fileName:S.name,mode:h}),Vt(null),xt(!0),I({kind:"info",message:"Draft deleted."}))},ic=E=>{if(!za)return;const V=Nt.current;if(!V){I({kind:"error",message:"Preview is not ready yet."});return}const le=$u(V,E);if(!le||!le.el){I({kind:"error",message:"Couldnt find that sentence in the preview (docx HTML mismatch)."});return}Oe.featureFlags?.debugPracticeNavigation&&console.log("[practiceNav] match score:",le.score,"sentence:",E),Gm(le.el)},sc=E=>{if(!Ni)return;const V=Nt.current;if(!V)return;const le=ny(V,E);I({kind:"info",message:`Highlighted ${le} matching paragraphs in the preview.`})},uc=()=>{const E=Nt.current;E&&(Ro(E),I({kind:"info",message:"Highlights cleared."}))};g.useEffect(()=>{if(!Sn||!W||!S||!Nt.current)return;const E=Nt.current,le=mb(()=>{const be=Ma(E);if(!hb(be)||be===qt.current)return;qt.current=be;const Ae=fb({userId:W,fileName:S.name,mode:h,text:be});Ae&&Vt(Ae),Oe.featureFlags?.debugAutosave&&console.log("[autosave] saved",{length:be.length,savedAt:Ae?.savedAt||""})},2500);return E.addEventListener("input",le),E.addEventListener("paste",le),()=>{E.removeEventListener("input",le),E.removeEventListener("paste",le)}},[Sn,W,S,h,Nt,Oe.featureFlags?.debugAutosave]),g.useEffect(()=>{if(!Sn||!W||!S)return;const E=ob({userId:W,fileName:S.name,mode:h});E?.text?(Vt(E),xt(!1)):Vt(null)},[Sn,W,S,h]);async function Ya(){if(!(!nl||!s||!W||!S)){na(!0),vn("");try{const E=await ub({supa:s,userId:W,fileName:S.name,limit:10});zn(E),Oe.featureFlags?.debugHistory&&console.log("[history] attempts",E.map(V=>V.id))}catch(E){vn(E?.message||"Failed to load history.")}finally{na(!1)}}}g.useEffect(()=>{if(!nl||!W||!S){zn([]),vn("");return}Ya()},[nl,W,S]);const Ri=()=>{!F||!z||xe(!0)},cc=()=>{la(E=>{const V=!E;try{localStorage.setItem(Tm,V?"1":"0")}catch{}return V})},rc=E=>{const V=E?.currentTarget?.dataset?.metric;V&&(Lt(),w({open:!0,anchorEl:E.currentTarget,metricKey:V}))},oc=E=>{Lt(),B({open:!0,anchorEl:E?.currentTarget||null,textareaRef:null})},Ms=({anchorEl:E,textareaRef:V})=>{Lt(),B({open:!0,anchorEl:E||null,textareaRef:V||null})},fc=({anchorEl:E,mode:V="anchor",data:le,nav:be,dismissKey:Ae})=>{le&&(Lt(),te({open:!0,mode:V,anchorEl:E||null,data:le,nav:be||null,dismissKey:Ae||null}))},Rs=async({includeMla:E,fields:V})=>{if(!F||il)return;if(!s){mt("Supabase is not available.");return}const le=Ma(Nt.current);if(!le){mt("Could not extract text from preview.");return}re(!0),I({message:"Preparing download...",kind:"info"}),Zn&&Bn({kind:"info",title:"Exporting",message:"Preparing download..."});const be=ln||an?Ua("export"):null;try{const{data:Ae,error:Tt}=await s.auth.getSession();if(Tt||!Ae?.session){Ot();return}if(!Zt){mt("Missing API configuration. Please refresh.");return}const sl=Ha(),Ga=E?`${qa(V)}${Sv(le)}`:le,ul=await Ss(`${Zt}/export_docx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae.session.access_token}`},body:JSON.stringify({file_name:sl,text:Ga}),signal:be?.signal},{timeoutMs:ln?6e4:void 0});if(Es(ul)){Ot();return}if(!ul.ok)throw new Error(await xs(ul));const cl=await ul.blob();wm(cl,sl),G(!1),ca("Revised essay downloaded.")}catch(Ae){if(console.error("Download revised failed",Ae),Ae?.code==="TIMEOUT")mt("This took too long. Try again (or check connection).",Ae);else if(Ae?.code==="ABORTED")I({message:"Canceled.",kind:"info"});else{const Tt=Ae?.message||"Failed to download revised essay.";mt(Tt,Ae)}}finally{be?.clear?.(),be&&ll(),re(!1),xe(!1)}},dc=async()=>{if(!s){window.location.replace(`/signin.html?redirect=${encodeURIComponent("/student_react.html")}`);return}try{await s.auth.signOut()}finally{localStorage.removeItem("vysti_role"),window.location.replace(`/signin.html?redirect=${encodeURIComponent("/student_react.html")}`)}},Ds=E=>{try{localStorage.setItem("uiMode",E),Gn(E)}catch{}},hc=()=>{try{localStorage.removeItem("uiMode"),Gn("")}catch{}},zs=()=>{Ds("classic"),window.location.replace("/student.html?classic=1")},Os=()=>{if(!Vn&&!ua){I({message:"React beta is currently allowlist-only. Ask a teacher for access.",kind:"error"});return}Ds("react"),window.location.replace("/student_react.html?react=1")},mc=()=>{gb.forEach(E=>localStorage.removeItem(E)),Oa.current?.restartTour({force:!0})},gc=g.useMemo(()=>ye?{buildId:Oe.buildId,url:window.location.href,uiMode:(()=>{try{return localStorage.getItem("uiMode")||""}catch{return""}})(),apiBaseUrl:Zt,markUrl:ia,markTextUrl:sa,exportUrl:bn,techniquesParsedCount:Array.isArray(ee)?ee.length:null,supabaseUrl:Oe.supabaseUrl,auth:{hasSession:L.hasSession,email:L.email},lastMark:{status:et?.status??null,ok:et?.ok??null,error:M},configError:aa?aa.message||String(aa):""}:null,[Zt,L,Oe.buildId,Oe.supabaseUrl,aa,bn,M,et,sa,ia,ye,ee]),Di=g.useMemo(()=>{if(!ye)return null;try{return JSON.parse(sessionStorage.getItem("rolloutReason")||"null")}catch{return null}},[ye]);if(c)return o.jsx("main",{className:"page student-page student-react-shell",children:o.jsx("div",{className:"card form-card",children:o.jsx("p",{children:"Checking session..."})})});if(f)return o.jsx("main",{className:"page student-page student-react-shell",children:o.jsx("div",{className:"card form-card",children:o.jsx("p",{children:f})})});const ha=!c&&!f,pc=!!$.message||!!F,il=ln||an?!!Qn:!1,Us=$.kind==="success"?" success":$.kind==="error"?" error":"";return o.jsxs("div",{className:"student-react-shell",children:[Zn?o.jsx(Ly,{toasts:Da,onDismiss:Hn}):null,Oe.featureFlags?.reactBeta?o.jsx(Bp,{}):null,o.jsx(jv,{onProgress:()=>window.location.assign("/student_progress.html"),onTeacher:()=>{localStorage.setItem("vysti_role","teacher"),window.location.assign("/index.html")},onRepeatTutorial:mc,onSignOut:dc,onBackToClassic:zs,onSwitchToReact:Os,showReactSwitch:Jt}),o.jsx(Av,{ref:Oa,authReady:ha,selectedFile:S,markedBlob:F,hasResults:pc,previewRef:Nt}),o.jsxs("main",{className:"page student-page",children:[o.jsx(ky,{visible:Sn&&!nn&&!!Xn?.text,savedAt:Xn?.savedAt,onRestore:lc,onDismiss:ac,onDelete:Cs}),o.jsxs("form",{className:"marker-grid",onSubmit:ji,children:[o.jsxs("section",{className:"card form-card",children:[o.jsx(Qp,{mode:h,onChange:y}),o.jsx(Vp,{label:Cm.find(E=>E.value===h)?.label||"Analytic essay",description:Ts.description,details:Ts.details}),o.jsx(Cv,{assignmentName:v,onChange:N}),o.jsx("button",{className:`primary-btn${Y?" is-loading loading-cursor":""}`,id:"checkBtn",type:"submit",disabled:!S||Y||il,children:Y?"Processing":"Mark my essay"})]}),o.jsx(Mv,{selectedFile:S,isDragOver:D,dragMessage:Cl,validationError:jl,onBrowseClick:As,onFileChange:Ut,onDrop:al,onDragOver:La,onDragLeave:fa,onClearFile:Wu,fileInputRef:sn}),o.jsxs("section",{className:"card rules-card",id:"resultsCard",children:[o.jsx("div",{id:"statusArea",className:`status-area${Us}`,role:"status","aria-live":"polite",children:$.message}),o.jsxs("div",{className:"results-actions",children:[an&&Qn?o.jsxs("button",{className:"secondary-btn",type:"button",onClick:tc,children:["Cancel ",Qn.kind]}):null,tl?o.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Yt(E=>!E),children:"Revision practice"}):null,o.jsx("button",{className:"secondary-btn",type:"button",style:{display:S?"inline-flex":"none"},onClick:js,children:"Clear / Start over"})]}),tl?o.jsxs(o.Fragment,{children:[mn?o.jsx("p",{className:"helper-text",children:"Loading issue data"}):null,Mn?o.jsxs("div",{className:"helper-text error-text",children:[o.jsx("p",{children:Mn}),o.jsx("button",{className:"secondary-btn",type:"button",onClick:ec,children:"Refresh issue data"})]}):null,o.jsx(qy,{labelCounts:Gt,issues:Xe,markEventId:rt,onSelectLabel:E=>{Yn(E),Yt(!0)}})]}):null]})]}),o.jsx(Xu,{inline:!0,title:"Something broke while rendering the preview.",message:"Try reloading or use the classic view.",children:o.jsx(vv,{markedBlob:F,zoom:me,onZoomChange:b,previewRef:Nt,onRecheck:Iu,isRechecking:Z,isProcessing:Y||il,onEdit:Ci,onDownloadMarked:ka,onDownloadRevised:Ri,isDownloading:J,hasRevisedSinceMark:z,wordCount:ft,totalIssues:Fu,metrics:yn,metricsCollapsed:xi,onToggleMetricsDetails:cc,onOpenMetricInfo:rc,onOpenPillHint:fc,onOpenPowerVerbs:oc,hint:oe,onDismissHint:()=>he(null),mode:h,previewError:Si,previewErrorStack:jt,showDebug:Kt,onClearPreview:Mi,onPreviewError:Pu})}),tl&&Je?o.jsx(Xu,{inline:!0,title:"Something broke while rendering revision practice.",message:"Try reloading or continue without this panel.",children:o.jsx(My,{enabled:tl,requestActive:il,practiceNavEnabled:za,practiceHighlightEnabled:Ni,externalAttempt:Et,onClearExternalAttempt:()=>Ht(null),supa:s,selectedFile:S,markedBlob:F,previewRef:Nt,techniques:ne,dismissedIssues:zt,onDismissedIssuesChange:el,selectedLabelOverride:Nl,onSelectedLabelChange:E=>Yn(E),onOpenDiagnostics:()=>Ge(!0),onNavigateToExample:ic,onHighlightExamples:sc,onClearHighlights:uc,mode:h,onPreviewEdited:Ci,onOpenPowerVerbs:Ms})}):null,nl?o.jsx(Yy,{enabled:nl,attempts:Tl,selectedAttemptId:Et?.id||null,onSelectAttempt:E=>Ht(E),onRefresh:Ya,isLoading:gn,error:pn}):null,o.jsx(Dv,{isOpen:ze,onToggle:()=>ve(E=>!E),data:ne}),o.jsx(Xu,{inline:!0,title:"Something broke while rendering diagnostics.",message:"Try reloading or continue without diagnostics.",children:o.jsx(Xp,{isOpen:ye,onToggle:()=>Ge(E=>!E),data:gc,rolloutConfig:Ei,rolloutReason:Di,uiMode:bt,buildId:Oe.buildId,onForceClassic:zs,onForceReact:Os,onClearUiMode:hc})}),o.jsx(Rp,{})]}),o.jsx(Gy,{isOpen:Ml.open,anchorEl:Ml.anchorEl,metricKey:Ml.metricKey,onClose:()=>w({open:!1,anchorEl:null,metricKey:null})}),o.jsx(Xy,{isOpen:X.open,anchorEl:X.anchorEl,previewRef:Nt,textareaRef:X.textareaRef,onClose:()=>B({open:!1,anchorEl:null,textareaRef:null}),onVerbApplied:()=>Ci()}),o.jsx(Ky,{isOpen:fe.open,mode:fe.mode,anchorEl:fe.anchorEl,data:fe.data,nav:fe.nav,dismissKey:fe.dismissKey,onClose:()=>te({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null})}),o.jsx(zv,{isOpen:ue,initialAssignmentName:v,isBusy:J,onCancel:()=>xe(!1),onDownloadAsIs:()=>Rs({includeMla:!1}),onDownloadMla:E=>Rs({includeMla:!0,fields:E})})]})}const yb=document.getElementById("root"),Jm=Mp.createRoot(yb),bb=()=>{Jm.render(o.jsx("main",{className:"page student-page student-react-shell",children:o.jsx("div",{className:"card form-card",children:o.jsx("p",{children:"Loading"})})}))},Sb=new URLSearchParams(window.location.search);if(Sb.get("classic")==="1"){try{localStorage.setItem("uiMode","classic")}catch{}window.location.replace("/student.html?classic=1")}else bb(),(async()=>{try{await Am()}catch(s){console.warn("Runtime config init failed:",s)}try{await Up();const s=ws(),c=jm();c&&console.warn("Config error:",c),qp(s)}catch(s){console.error("Config init failed:",s)}Jm.render(o.jsx(g.StrictMode,{children:o.jsx(Xu,{children:o.jsx(vb,{})})}))})();
