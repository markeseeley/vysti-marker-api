(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const y of h)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&o(v)}).observe(document,{childList:!0,subtree:!0});function f(h){const y={};return h.integrity&&(y.integrity=h.integrity),h.referrerPolicy&&(y.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?y.credentials="include":h.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function o(h){if(h.ep)return;h.ep=!0;const y=f(h);fetch(h.href,y)}})();var ho={exports:{}},ms={};var lm;function Np(){if(lm)return ms;lm=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function f(o,h,y){var v=null;if(y!==void 0&&(v=""+y),h.key!==void 0&&(v=""+h.key),"key"in h){y={};for(var N in h)N!=="key"&&(y[N]=h[N])}else y=h;return h=y.ref,{$$typeof:s,type:o,key:v,ref:h!==void 0?h:null,props:y}}return ms.Fragment=c,ms.jsx=f,ms.jsxs=f,ms}var am;function Tp(){return am||(am=1,ho.exports=Np()),ho.exports}var r=Tp(),mo={exports:{}},xe={};var im;function _p(){if(im)return xe;im=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),Y=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=Y&&b[Y]||b["@@iterator"],typeof b=="function"?b:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,W={};function P(b,z,X){this.props=b,this.context=z,this.refs=W,this.updater=X||K}P.prototype.isReactComponent={},P.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function I(){}I.prototype=P.prototype;function ce(b,z,X){this.props=b,this.context=z,this.refs=W,this.updater=X||K}var ne=ce.prototype=new I;ne.constructor=ce,ee(ne,P.prototype),ne.isPureReactComponent=!0;var J=Array.isArray;function te(){}var Q={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function ve(b,z,X){var $=X.ref;return{$$typeof:s,type:b,key:z,ref:$!==void 0?$:null,props:X}}function Oe(b,z){return ve(b.type,z,b.props)}function ye(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function be(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return z[X]})}var Ge=/\/+/g;function et(b,z){return typeof b=="object"&&b!==null&&b.key!=null?be(""+b.key):z.toString(36)}function ke(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(te,te):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function R(b,z,X,$,fe){var ue=typeof b;(ue==="undefined"||ue==="boolean")&&(b=null);var Ee=!1;if(b===null)Ee=!0;else switch(ue){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(b.$$typeof){case s:case c:Ee=!0;break;case D:return Ee=b._init,R(Ee(b._payload),z,X,$,fe)}}if(Ee)return fe=fe(b),Ee=$===""?"."+et(b,0):$,J(fe)?(X="",Ee!=null&&(X=Ee.replace(Ge,"$&/")+"/"),R(fe,z,X,"",function(Je){return Je})):fe!=null&&(ye(fe)&&(fe=Oe(fe,X+(fe.key==null||b&&b.key===fe.key?"":(""+fe.key).replace(Ge,"$&/")+"/")+Ee)),z.push(fe)),1;Ee=0;var We=$===""?".":$+":";if(J(b))for(var Ue=0;Ue<b.length;Ue++)$=b[Ue],ue=We+et($,Ue),Ee+=R($,z,X,ue,fe);else if(Ue=k(b),typeof Ue=="function")for(b=Ue.call(b),Ue=0;!($=b.next()).done;)$=$.value,ue=We+et($,Ue++),Ee+=R($,z,X,ue,fe);else if(ue==="object"){if(typeof b.then=="function")return R(ke(b),z,X,$,fe);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function O(b,z,X){if(b==null)return b;var $=[],fe=0;return R(b,$,"","",function(ue){return z.call(X,ue,fe++)}),$}function L(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var se=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},re={map:O,forEach:function(b,z,X){O(b,function(){z.apply(this,arguments)},X)},count:function(b){var z=0;return O(b,function(){z++}),z},toArray:function(b){return O(b,function(z){return z})||[]},only:function(b){if(!ye(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return xe.Activity=C,xe.Children=re,xe.Component=P,xe.Fragment=f,xe.Profiler=h,xe.PureComponent=ce,xe.StrictMode=o,xe.Suspense=S,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,xe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},xe.cache=function(b){return function(){return b.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(b,z,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var $=ee({},b.props),fe=b.key;if(z!=null)for(ue in z.key!==void 0&&(fe=""+z.key),z)!F.call(z,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&z.ref===void 0||($[ue]=z[ue]);var ue=arguments.length-2;if(ue===1)$.children=X;else if(1<ue){for(var Ee=Array(ue),We=0;We<ue;We++)Ee[We]=arguments[We+2];$.children=Ee}return ve(b.type,fe,$)},xe.createContext=function(b){return b={$$typeof:v,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:y,_context:b},b},xe.createElement=function(b,z,X){var $,fe={},ue=null;if(z!=null)for($ in z.key!==void 0&&(ue=""+z.key),z)F.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(fe[$]=z[$]);var Ee=arguments.length-2;if(Ee===1)fe.children=X;else if(1<Ee){for(var We=Array(Ee),Ue=0;Ue<Ee;Ue++)We[Ue]=arguments[Ue+2];fe.children=We}if(b&&b.defaultProps)for($ in Ee=b.defaultProps,Ee)fe[$]===void 0&&(fe[$]=Ee[$]);return ve(b,ue,fe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(b){return{$$typeof:N,render:b}},xe.isValidElement=ye,xe.lazy=function(b){return{$$typeof:D,_payload:{_status:-1,_result:b},_init:L}},xe.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},xe.startTransition=function(b){var z=Q.T,X={};Q.T=X;try{var $=b(),fe=Q.S;fe!==null&&fe(X,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(te,se)}catch(ue){se(ue)}finally{z!==null&&X.types!==null&&(z.types=X.types),Q.T=z}},xe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},xe.use=function(b){return Q.H.use(b)},xe.useActionState=function(b,z,X){return Q.H.useActionState(b,z,X)},xe.useCallback=function(b,z){return Q.H.useCallback(b,z)},xe.useContext=function(b){return Q.H.useContext(b)},xe.useDebugValue=function(){},xe.useDeferredValue=function(b,z){return Q.H.useDeferredValue(b,z)},xe.useEffect=function(b,z){return Q.H.useEffect(b,z)},xe.useEffectEvent=function(b){return Q.H.useEffectEvent(b)},xe.useId=function(){return Q.H.useId()},xe.useImperativeHandle=function(b,z,X){return Q.H.useImperativeHandle(b,z,X)},xe.useInsertionEffect=function(b,z){return Q.H.useInsertionEffect(b,z)},xe.useLayoutEffect=function(b,z){return Q.H.useLayoutEffect(b,z)},xe.useMemo=function(b,z){return Q.H.useMemo(b,z)},xe.useOptimistic=function(b,z){return Q.H.useOptimistic(b,z)},xe.useReducer=function(b,z,X){return Q.H.useReducer(b,z,X)},xe.useRef=function(b){return Q.H.useRef(b)},xe.useState=function(b){return Q.H.useState(b)},xe.useSyncExternalStore=function(b,z,X){return Q.H.useSyncExternalStore(b,z,X)},xe.useTransition=function(){return Q.H.useTransition()},xe.version="19.2.4",xe}var sm;function Mo(){return sm||(sm=1,mo.exports=_p()),mo.exports}var g=Mo(),go={exports:{}},gs={},po={exports:{}},vo={};var um;function Ap(){return um||(um=1,(function(s){function c(R,O){var L=R.length;R.push(O);e:for(;0<L;){var se=L-1>>>1,re=R[se];if(0<h(re,O))R[se]=O,R[L]=re,L=se;else break e}}function f(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var O=R[0],L=R.pop();if(L!==O){R[0]=L;e:for(var se=0,re=R.length,b=re>>>1;se<b;){var z=2*(se+1)-1,X=R[z],$=z+1,fe=R[$];if(0>h(X,L))$<re&&0>h(fe,X)?(R[se]=fe,R[$]=L,se=$):(R[se]=X,R[z]=L,se=z);else if($<re&&0>h(fe,L))R[se]=fe,R[$]=L,se=$;else break e}}return O}function h(R,O){var L=R.sortIndex-O.sortIndex;return L!==0?L:R.id-O.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;s.unstable_now=function(){return y.now()}}else{var v=Date,N=v.now();s.unstable_now=function(){return v.now()-N}}var S=[],m=[],D=1,C=null,Y=3,k=!1,K=!1,ee=!1,W=!1,P=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ne(R){for(var O=f(m);O!==null;){if(O.callback===null)o(m);else if(O.startTime<=R)o(m),O.sortIndex=O.expirationTime,c(S,O);else break;O=f(m)}}function J(R){if(ee=!1,ne(R),!K)if(f(S)!==null)K=!0,te||(te=!0,be());else{var O=f(m);O!==null&&ke(J,O.startTime-R)}}var te=!1,Q=-1,F=5,ve=-1;function Oe(){return W?!0:!(s.unstable_now()-ve<F)}function ye(){if(W=!1,te){var R=s.unstable_now();ve=R;var O=!0;try{e:{K=!1,ee&&(ee=!1,I(Q),Q=-1),k=!0;var L=Y;try{t:{for(ne(R),C=f(S);C!==null&&!(C.expirationTime>R&&Oe());){var se=C.callback;if(typeof se=="function"){C.callback=null,Y=C.priorityLevel;var re=se(C.expirationTime<=R);if(R=s.unstable_now(),typeof re=="function"){C.callback=re,ne(R),O=!0;break t}C===f(S)&&o(S),ne(R)}else o(S);C=f(S)}if(C!==null)O=!0;else{var b=f(m);b!==null&&ke(J,b.startTime-R),O=!1}}break e}finally{C=null,Y=L,k=!1}O=void 0}}finally{O?be():te=!1}}}var be;if(typeof ce=="function")be=function(){ce(ye)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,et=Ge.port2;Ge.port1.onmessage=ye,be=function(){et.postMessage(null)}}else be=function(){P(ye,0)};function ke(R,O){Q=P(function(){R(s.unstable_now())},O)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return Y},s.unstable_next=function(R){switch(Y){case 1:case 2:case 3:var O=3;break;default:O=Y}var L=Y;Y=O;try{return R()}finally{Y=L}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=Y;Y=R;try{return O()}finally{Y=L}},s.unstable_scheduleCallback=function(R,O,L){var se=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?se+L:se):L=se,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=L+re,R={id:D++,callback:O,priorityLevel:R,startTime:L,expirationTime:re,sortIndex:-1},L>se?(R.sortIndex=L,c(m,R),f(S)===null&&R===f(m)&&(ee?(I(Q),Q=-1):ee=!0,ke(J,L-se))):(R.sortIndex=re,c(S,R),K||k||(K=!0,te||(te=!0,be()))),R},s.unstable_shouldYield=Oe,s.unstable_wrapCallback=function(R){var O=Y;return function(){var L=Y;Y=O;try{return R.apply(this,arguments)}finally{Y=L}}}})(vo)),vo}var cm;function jp(){return cm||(cm=1,po.exports=Ap()),po.exports}var yo={exports:{}},Ut={};var rm;function Cp(){if(rm)return Ut;rm=1;var s=Mo();function c(S){var m="https://react.dev/errors/"+S;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)m+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+S+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var o={d:{f,r:function(){throw Error(c(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},h=Symbol.for("react.portal");function y(S,m,D){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:C==null?null:""+C,children:S,containerInfo:m,implementation:D}}var v=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(S,m){if(S==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ut.createPortal=function(S,m){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(c(299));return y(S,m,null,D)},Ut.flushSync=function(S){var m=v.T,D=o.p;try{if(v.T=null,o.p=2,S)return S()}finally{v.T=m,o.p=D,o.d.f()}},Ut.preconnect=function(S,m){typeof S=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(S,m))},Ut.prefetchDNS=function(S){typeof S=="string"&&o.d.D(S)},Ut.preinit=function(S,m){if(typeof S=="string"&&m&&typeof m.as=="string"){var D=m.as,C=N(D,m.crossOrigin),Y=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;D==="style"?o.d.S(S,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:Y,fetchPriority:k}):D==="script"&&o.d.X(S,{crossOrigin:C,integrity:Y,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ut.preinitModule=function(S,m){if(typeof S=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var D=N(m.as,m.crossOrigin);o.d.M(S,{crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(S)},Ut.preload=function(S,m){if(typeof S=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var D=m.as,C=N(D,m.crossOrigin);o.d.L(S,D,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ut.preloadModule=function(S,m){if(typeof S=="string")if(m){var D=N(m.as,m.crossOrigin);o.d.m(S,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(S)},Ut.requestFormReset=function(S){o.d.r(S)},Ut.unstable_batchedUpdates=function(S,m){return S(m)},Ut.useFormState=function(S,m,D){return v.H.useFormState(S,m,D)},Ut.useFormStatus=function(){return v.H.useHostTransitionStatus()},Ut.version="19.2.4",Ut}var om;function jm(){if(om)return yo.exports;om=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),yo.exports=Cp(),yo.exports}var fm;function Mp(){if(fm)return gs;fm=1;var s=jp(),c=Mo(),f=jm();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(y(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(l=a.return,l!==null){n=l;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return S(a),e;if(i===l)return S(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==l.return)n=a,l=i;else{for(var u=!1,d=a.child;d;){if(d===n){u=!0,n=a,l=i;break}if(d===l){u=!0,l=a,n=i;break}d=d.sibling}if(!u){for(d=i.child;d;){if(d===n){u=!0,n=i,l=a;break}if(d===l){u=!0,l=i,n=a;break}d=d.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function D(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=D(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,Y=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case P:return"Profiler";case W:return"StrictMode";case J:return"Suspense";case te:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case ce:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:et(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return et(e(t))}catch{}}return null}var ke=Array.isArray,R=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},se=[],re=-1;function b(e){return{current:e}}function z(e){0>re||(e.current=se[re],se[re]=null,re--)}function X(e,t){re++,se[re]=e.current,e.current=t}var $=b(null),fe=b(null),ue=b(null),Ee=b(null);function We(e,t){switch(X(ue,t),X(fe,e),X($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_h(t),e=Ah(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z($),X($,e)}function Ue(){z($),z(fe),z(ue)}function Je(e){e.memoizedState!==null&&X(Ee,e);var t=$.current,n=Ah(t,e.type);t!==n&&(X(fe,e),X($,n))}function Lt(e){fe.current===e&&(z($),z(fe)),Ee.current===e&&(z(Ee),os._currentValue=L)}var kt,Tt;function Te(e){if(kt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kt=t&&t[1]||"",Tt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+e+Tt}var $e=!1;function Qe(e,t){if(!e||$e)return"";$e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var j=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){j=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){j=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&j&&typeof M.stack=="string")return[M.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),u=i[0],d=i[1];if(u&&d){var p=u.split(`
`),A=d.split(`
`);for(a=l=0;l<p.length&&!p[l].includes("DetermineComponentFrameRoot");)l++;for(;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;if(l===p.length||a===A.length)for(l=p.length-1,a=A.length-1;1<=l&&0<=a&&p[l]!==A[a];)a--;for(;1<=l&&0<=a;l--,a--)if(p[l]!==A[a]){if(l!==1||a!==1)do if(l--,a--,0>a||p[l]!==A[a]){var U=`
`+p[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=a);break}}}finally{$e=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Te(n):""}function ct(e,t){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te("Lazy");case 13:return e.child!==t&&t!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return Qe(e.type,!1);case 11:return Qe(e.type.render,!1);case 1:return Qe(e.type,!0);case 31:return Te("Activity");default:return""}}function vn(e){try{var t="",n=null;do t+=ct(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Yt=Object.prototype.hasOwnProperty,tn=s.unstable_scheduleCallback,nn=s.unstable_cancelCallback,jl=s.unstable_shouldYield,Ln=s.unstable_requestPaint,rt=s.unstable_now,Cn=s.unstable_getCurrentPriorityLevel,ta=s.unstable_ImmediatePriority,Xt=s.unstable_UserBlockingPriority,Mn=s.unstable_NormalPriority,el=s.unstable_LowPriority,Dt=s.unstable_IdlePriority,tl=s.log,bi=s.unstable_setDisableYieldValue,ot=null,_t=null;function at(e){if(typeof tl=="function"&&bi(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(ot,e)}catch{}}var bt=Math.clz32?Math.clz32:Gt,kn=Math.log,Yn=Math.LN2;function Gt(e){return e>>>=0,e===0?32:31-(kn(e)/Yn|0)|0}var nl=256,ln=262144,At=4194304;function ht(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qt(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var a=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var d=l&134217727;return d!==0?(l=d&~i,l!==0?a=ht(l):(u&=d,u!==0?a=ht(u):n||(n=d&~e,n!==0&&(a=ht(n))))):(d=l&~i,d!==0?a=ht(d):u!==0?a=ht(u):n||(n=l&~e,n!==0&&(a=ht(n)))),a===0?0:t!==0&&t!==a&&(t&i)===0&&(i=a&-a,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:a}function Vt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Si(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var e=At;return At<<=1,(At&62914560)===0&&(At=4194304),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ll(e,t,n,l,a,i){var u=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,p=e.expirationTimes,A=e.hiddenUpdates;for(n=u&~n;0<n;){var U=31-bt(n),q=1<<U;d[U]=0,p[U]=-1;var j=A[U];if(j!==null)for(A[U]=null,U=0;U<j.length;U++){var M=j[U];M!==null&&(M.lane&=-536870913)}n&=~q}l!==0&&yn(e,l,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function yn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-bt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function aa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-bt(n),a=1<<l;a&t|e[l]&t&&(e[l]|=t),n&=~a}}function Cl(e,t){var n=t&-t;return n=(n&42)!==0?1:Ml(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ra(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Fh(e.type))}function Rn(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Zt=Math.random().toString(36).slice(2),De="__reactFiber$"+Zt,tt="__reactProps$"+Zt,Gn="__reactContainer$"+Zt,an="__reactEvents$"+Zt,xi="__reactListeners$"+Zt,ia="__reactHandles$"+Zt,Qn="__reactResources$"+Zt,Dn="__reactMarker$"+Zt;function al(e){delete e[De],delete e[tt],delete e[an],delete e[xi],delete e[ia]}function sn(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gn]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oh(e);e!==null;){if(n=e[De])return n;e=Oh(e)}return t}e=n,n=e.parentNode}return null}function Vn(e){if(e=e[De]||e[Gn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Bt(e){var t=e[Qn];return t||(t=e[Qn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function E(e){e[Dn]=!0}var G=new Set,H={};function oe(e,t){he(e,t),he(e+"Capture",t)}function he(e,t){for(H[e]=t,e=0;e<t.length;e++)G.add(t[e])}var pe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z={},Be={};function me(e){return Yt.call(Be,e)?!0:Yt.call(Z,e)?!1:pe.test(e)?Be[e]=!0:(Z[e]=!0,!1)}function Ae(e,t,n){if(me(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function it(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function lt(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function il(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ei(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var a=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){n=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){if(!e._valueTracker){var t=il(e)?"checked":"value";e._valueTracker=Ei(e,t,""+e[t])}}function Ns(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=il(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sa=/[\n"\\]/g;function Jt(e){return e.replace(sa,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Da(e,t,n,l,a,i,u,d){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?un(e,u,Kt(t)):n!=null?un(e,u,Kt(n)):l!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Kt(d):e.removeAttribute("name")}function Ni(e,t,n,l,a,i,u,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){wi(e);return}n=n!=null?""+Kt(n):"",t=t!=null?""+Kt(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}l=l??a,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=d?e.checked:!!l,e.defaultChecked=!!l,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),wi(e)}function un(e,t,n){t==="number"&&Zn(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function cn(e,t,n,l){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ti(e,t,n){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Kt(n):""}function Kn(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(ke(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Kt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),wi(e)}function bn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||sl.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function rn(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var a in t)l=t[a],t.hasOwnProperty(a)&&n[a]!==l&&Et(e,a,l)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function za(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ts=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(e){return Iu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var mt=null;function ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jn=null,Ht=null;function _s(e){var t=Vn(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Da(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=l[tt]||null;if(!a)throw Error(o(90));Da(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ns(l)}break e;case"textarea":Ti(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&cn(e,!!n.multiple,t,!1)}}}var Rl=!1;function Oa(e,t,n){if(Rl)return e(t,n);Rl=!0;try{var l=e(t);return l}finally{if(Rl=!1,(Jn!==null||Ht!==null)&&(vu(),Jn&&(t=Jn,e=Ht,Ht=Jn=null,_s(t),e)))for(t=0;t<e.length;t++)_s(e[t])}}function ul(e,t){var n=e.stateNode;if(n===null)return null;var l=n[tt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(zt)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Ua=!1}var $n=null,Ba=null,Ha=null;function _i(){if(Ha)return Ha;var e,t=Ba,n=t.length,l,a="value"in $n?$n.value:$n.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var u=n-e;for(l=1;l<=u&&t[n-l]===a[i-l];l++);return Ha=a.slice(e,1<l?1-l:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function As(){return!1}function Ot(e){function t(n,l,a,i,u){this._reactName=n,this._targetInst=a,this.type=l,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ra:As,this.isPropagationStopped=As,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),t}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Ot(cl),oa=C({},cl,{view:0,detail:0}),Pu=Ot(oa),Ai,ji,fa,La=C({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fa&&(fa&&e.type==="mousemove"?(Ai=e.screenX-fa.screenX,ji=e.screenY-fa.screenY):ji=Ai=0,fa=e),Ai)},movementY:function(e){return"movementY"in e?e.movementY:ji}}),js=Ot(La),ec=C({},La,{dataTransfer:0}),Ci=Ot(ec),tc=C({},oa,{relatedTarget:0}),Mi=Ot(tc),nc=C({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=Ot(nc),ac=C({},cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ic=Ot(ac),sc=C({},cl,{data:0}),Cs=Ot(sc),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ka(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rc[e])?!!t[e]:!1}function Ri(){return ka}var oc=C({},oa,{key:function(e){if(e.key){var t=uc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fc=Ot(oc),dc=C({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=Ot(dc),hc=C({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),Rs=Ot(hc),mc=C({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ds=Ot(mc),gc=C({},La,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=Ot(gc),Os=C({},cl,{newState:0,oldState:0}),pc=Ot(Os),vc=[9,13,27,32],Di=zt&&"CompositionEvent"in window,da=null;zt&&"documentMode"in document&&(da=document.documentMode);var yc=zt&&"TextEvent"in window&&!da,rl=zt&&(!Di||da&&8<da&&11>=da),Us=" ",w=!1;function V(e,t){switch(e){case"keyup":return vc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Se=!1;function _e(e,t){switch(e){case"compositionend":return le(t);case"keypress":return t.which!==32?null:(w=!0,Us);case"textInput":return e=t.data,e===Us&&w?null:e;default:return null}}function wt(e,t){if(Se)return e==="compositionend"||!Di&&V(e,t)?(e=_i(),Ha=Ba=$n=null,Se=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rl&&t.locale!=="ko"?null:t.data;default:return null}}var ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ol[e.type]:t==="textarea"}function fl(e,t,n,l){Jn?Ht?Ht.push(l):Ht=[l]:Jn=l,t=Nu(t,"onChange"),0<t.length&&(n=new qa("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var dl=null,zi=null;function Wm(e){Sh(e,0)}function Bs(e){var t=zn(e);if(Ns(t))return e}function qo(e,t){if(e==="change")return t}var Lo=!1;if(zt){var bc;if(zt){var Sc="oninput"in document;if(!Sc){var ko=document.createElement("div");ko.setAttribute("oninput","return;"),Sc=typeof ko.oninput=="function"}bc=Sc}else bc=!1;Lo=bc&&(!document.documentMode||9<document.documentMode)}function Yo(){dl&&(dl.detachEvent("onpropertychange",Xo),zi=dl=null)}function Xo(e){if(e.propertyName==="value"&&Bs(zi)){var t=[];fl(t,zi,e,ua(e)),Oa(Wm,t)}}function Im(e,t,n){e==="focusin"?(Yo(),dl=t,zi=n,dl.attachEvent("onpropertychange",Xo)):e==="focusout"&&Yo()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bs(zi)}function eg(e,t){if(e==="click")return Bs(t)}function tg(e,t){if(e==="input"||e==="change")return Bs(t)}function ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:ng;function Oi(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var a=n[l];if(!Yt.call(t,a)||!on(e[a],t[a]))return!1}return!0}function Go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qo(e,t){var n=Go(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Go(n)}}function Vo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zn(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zn(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lg=zt&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ec=null,Ui=null,wc=!1;function Ko(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wc||Xa==null||Xa!==Zn(l)||(l=Xa,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ui&&Oi(Ui,l)||(Ui=l,l=Nu(Ec,"onSelect"),0<l.length&&(t=new qa("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Xa)))}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ga={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Nc={},Jo={};zt&&(Jo=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ma(e){if(Nc[e])return Nc[e];if(!Ga[e])return e;var t=Ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jo)return Nc[e]=t[n];return e}var $o=ma("animationend"),Fo=ma("animationiteration"),Wo=ma("animationstart"),ag=ma("transitionrun"),ig=ma("transitionstart"),sg=ma("transitioncancel"),Io=ma("transitionend"),Po=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function Bn(e,t){Po.set(e,t),oe(t,[e])}var Hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Qa=0,_c=0;function qs(){for(var e=Qa,t=_c=Qa=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var a=Sn[t];Sn[t++]=null;var i=Sn[t];if(Sn[t++]=null,l!==null&&a!==null){var u=l.pending;u===null?a.next=a:(a.next=u.next,u.next=a),l.pending=a}i!==0&&ef(n,a,i)}}function Ls(e,t,n,l){Sn[Qa++]=e,Sn[Qa++]=t,Sn[Qa++]=n,Sn[Qa++]=l,_c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ac(e,t,n,l){return Ls(e,t,n,l),ks(e)}function ga(e,t){return Ls(e,null,null,t),ks(e)}function ef(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var a=!1,i=e.return;i!==null;)i.childLanes|=n,l=i.alternate,l!==null&&(l.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-bt(n),e=i.hiddenUpdates,l=e[a],l===null?e[a]=[t]:l.push(t),t.lane=n|536870912),i):null}function ks(e){if(50<ls)throw ls=0,Br=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function ug(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,l){return new ug(e,t,n,l)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hl(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function tf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ys(e,t,n,l,a,i){var u=0;if(l=e,typeof e=="function")jc(e)&&(u=1);else if(typeof e=="string")u=dp(e,n,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=fn(31,n,t,a),e.elementType=ve,e.lanes=i,e;case ee:return pa(n.children,a,i,t);case W:u=8,a|=24;break;case P:return e=fn(12,n,t,a|2),e.elementType=P,e.lanes=i,e;case J:return e=fn(13,n,t,a),e.elementType=J,e.lanes=i,e;case te:return e=fn(19,n,t,a),e.elementType=te,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:u=10;break e;case I:u=9;break e;case ne:u=11;break e;case Q:u=14;break e;case F:u=16,l=null;break e}u=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=fn(u,n,t,a),t.elementType=e,t.type=l,t.lanes=i,t}function pa(e,t,n,l){return e=fn(7,e,l,t),e.lanes=n,e}function Cc(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function nf(e){var t=fn(18,null,null,0);return t.stateNode=e,t}function Mc(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lf=new WeakMap;function xn(e,t){if(typeof e=="object"&&e!==null){var n=lf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:vn(t)},lf.set(e,t),t)}return{value:e,source:t,stack:vn(t)}}var Za=[],Ka=0,Xs=null,Bi=0,En=[],wn=0,zl=null,Fn=1,Wn="";function ml(e,t){Za[Ka++]=Bi,Za[Ka++]=Xs,Xs=e,Bi=t}function af(e,t,n){En[wn++]=Fn,En[wn++]=Wn,En[wn++]=zl,zl=e;var l=Fn;e=Wn;var a=32-bt(l)-1;l&=~(1<<a),n+=1;var i=32-bt(t)+a;if(30<i){var u=a-a%5;i=(l&(1<<u)-1).toString(32),l>>=u,a-=u,Fn=1<<32-bt(t)+a|n<<a|l,Wn=i+e}else Fn=1<<i|n<<a|l,Wn=e}function Rc(e){e.return!==null&&(ml(e,1),af(e,1,0))}function Dc(e){for(;e===Xs;)Xs=Za[--Ka],Za[Ka]=null,Bi=Za[--Ka],Za[Ka]=null;for(;e===zl;)zl=En[--wn],En[wn]=null,Wn=En[--wn],En[wn]=null,Fn=En[--wn],En[wn]=null}function sf(e,t){En[wn++]=Fn,En[wn++]=Wn,En[wn++]=zl,Fn=t.id,Wn=t.overflow,zl=e}var jt=null,Ie=null,ze=!1,Ol=null,Nn=!1,zc=Error(o(519));function Ul(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(xn(t,e)),zc}function uf(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[De]=e,t[tt]=l,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<is.length;n++)Ce(is[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Ni(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),Kn(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Nh(t.textContent,n)?(l.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),l.onScroll!=null&&Ce("scroll",t),l.onScrollEnd!=null&&Ce("scrollend",t),l.onClick!=null&&(t.onclick=Un),t=!0):t=!1,t||Ul(e,!0)}function cf(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:jt=jt.return}}function Ja(e){if(e!==jt)return!1;if(!ze)return cf(e),ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Wr(e.type,e.memoizedProps)),n=!n),n&&Ie&&Ul(e),cf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ie=zh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ie=zh(e)}else t===27?(t=Ie,$l(e.type)?(e=no,no=null,Ie=e):Ie=t):Ie=jt?_n(e.stateNode.nextSibling):null;return!0}function va(){Ie=jt=null,ze=!1}function Oc(){var e=Ol;return e!==null&&(It===null?It=e:It.push.apply(It,e),Ol=null),e}function Hi(e){Ol===null?Ol=[e]:Ol.push(e)}var Uc=b(null),ya=null,gl=null;function Bl(e,t,n){X(Uc,t._currentValue),t._currentValue=n}function pl(e){e._currentValue=Uc.current,z(Uc)}function Bc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Hc(e,t,n,l){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var u=a.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=a;for(var p=0;p<t.length;p++)if(d.context===t[p]){i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Bc(i.return,n,e),l||(u=null);break e}i=d.next}}else if(a.tag===18){if(u=a.return,u===null)throw Error(o(341));u.lanes|=n,i=u.alternate,i!==null&&(i.lanes|=n),Bc(u,n,e),u=null}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}}function $a(e,t,n,l){e=null;for(var a=t,i=!1;a!==null;){if(!i){if((a.flags&524288)!==0)i=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var u=a.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var d=a.type;on(a.pendingProps.value,u.value)||(e!==null?e.push(d):e=[d])}}else if(a===Ee.current){if(u=a.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(os):e=[os])}a=a.return}e!==null&&Hc(t,e,n,l),t.flags|=262144}function Gs(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){ya=e,gl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return rf(ya,e)}function Qs(e,t){return ya===null&&ba(e),rf(e,t)}function rf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},gl===null){if(e===null)throw Error(o(308));gl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gl=gl.next=t;return n}var cg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},rg=s.unstable_scheduleCallback,og=s.unstable_NormalPriority,gt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new cg,data:new Map,refCount:0}}function qi(e){e.refCount--,e.refCount===0&&rg(og,function(){e.controller.abort()})}var Li=null,Lc=0,Fa=0,Wa=null;function fg(e,t){if(Li===null){var n=Li=[];Lc=0,Fa=Xr(),Wa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Lc++,t.then(of,of),t}function of(){if(--Lc===0&&Li!==null){Wa!==null&&(Wa.status="fulfilled");var e=Li;Li=null,Fa=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dg(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(l.status="rejected",l.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),l}var ff=R.S;R.S=function(e,t){Jd=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fg(e,t),ff!==null&&ff(e,t)};var Sa=b(null);function kc(){var e=Sa.current;return e!==null?e:Fe.pooledCache}function Vs(e,t){t===null?X(Sa,Sa.current):X(Sa,t.pool)}function df(){var e=kc();return e===null?null:{parent:gt._currentValue,pool:e}}var Ia=Error(o(460)),Yc=Error(o(474)),Zs=Error(o(542)),Ks={then:function(){}};function hf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Un,Un),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e;default:if(typeof t.status=="string")t.then(Un,Un);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=l}},function(l){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e}throw Ea=t,Ia}}function xa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ea=n,Ia):n}}var Ea=null;function gf(){if(Ea===null)throw Error(o(459));var e=Ea;return Ea=null,e}function pf(e){if(e===Ia||e===Zs)throw Error(o(483))}var Pa=null,ki=0;function Js(e){var t=ki;return ki+=1,Pa===null&&(Pa=[]),mf(Pa,e,t)}function Yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $s(e,t){throw t.$$typeof===Y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vf(e){function t(T,x){if(e){var _=T.deletions;_===null?(T.deletions=[x],T.flags|=16):_.push(x)}}function n(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function l(T){for(var x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function a(T,x){return T=hl(T,x),T.index=0,T.sibling=null,T}function i(T,x,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<x?(T.flags|=67108866,x):_):(T.flags|=67108866,x)):(T.flags|=1048576,x)}function u(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function d(T,x,_,B){return x===null||x.tag!==6?(x=Cc(_,T.mode,B),x.return=T,x):(x=a(x,_),x.return=T,x)}function p(T,x,_,B){var de=_.type;return de===ee?U(T,x,_.props.children,B,_.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===F&&xa(de)===x.type)?(x=a(x,_.props),Yi(x,_),x.return=T,x):(x=Ys(_.type,_.key,_.props,null,T.mode,B),Yi(x,_),x.return=T,x)}function A(T,x,_,B){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Mc(_,T.mode,B),x.return=T,x):(x=a(x,_.children||[]),x.return=T,x)}function U(T,x,_,B,de){return x===null||x.tag!==7?(x=pa(_,T.mode,B,de),x.return=T,x):(x=a(x,_),x.return=T,x)}function q(T,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Cc(""+x,T.mode,_),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return _=Ys(x.type,x.key,x.props,null,T.mode,_),Yi(_,x),_.return=T,_;case K:return x=Mc(x,T.mode,_),x.return=T,x;case F:return x=xa(x),q(T,x,_)}if(ke(x)||be(x))return x=pa(x,T.mode,_,null),x.return=T,x;if(typeof x.then=="function")return q(T,Js(x),_);if(x.$$typeof===ce)return q(T,Qs(T,x),_);$s(T,x)}return null}function j(T,x,_,B){var de=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return de!==null?null:d(T,x,""+_,B);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case k:return _.key===de?p(T,x,_,B):null;case K:return _.key===de?A(T,x,_,B):null;case F:return _=xa(_),j(T,x,_,B)}if(ke(_)||be(_))return de!==null?null:U(T,x,_,B,null);if(typeof _.then=="function")return j(T,x,Js(_),B);if(_.$$typeof===ce)return j(T,x,Qs(T,_),B);$s(T,_)}return null}function M(T,x,_,B,de){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(_)||null,d(x,T,""+B,de);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return T=T.get(B.key===null?_:B.key)||null,p(x,T,B,de);case K:return T=T.get(B.key===null?_:B.key)||null,A(x,T,B,de);case F:return B=xa(B),M(T,x,_,B,de)}if(ke(B)||be(B))return T=T.get(_)||null,U(x,T,B,de,null);if(typeof B.then=="function")return M(T,x,_,Js(B),de);if(B.$$typeof===ce)return M(T,x,_,Qs(x,B),de);$s(x,B)}return null}function ae(T,x,_,B){for(var de=null,He=null,ie=x,Ne=x=0,Re=null;ie!==null&&Ne<_.length;Ne++){ie.index>Ne?(Re=ie,ie=null):Re=ie.sibling;var qe=j(T,ie,_[Ne],B);if(qe===null){ie===null&&(ie=Re);break}e&&ie&&qe.alternate===null&&t(T,ie),x=i(qe,x,Ne),He===null?de=qe:He.sibling=qe,He=qe,ie=Re}if(Ne===_.length)return n(T,ie),ze&&ml(T,Ne),de;if(ie===null){for(;Ne<_.length;Ne++)ie=q(T,_[Ne],B),ie!==null&&(x=i(ie,x,Ne),He===null?de=ie:He.sibling=ie,He=ie);return ze&&ml(T,Ne),de}for(ie=l(ie);Ne<_.length;Ne++)Re=M(ie,T,Ne,_[Ne],B),Re!==null&&(e&&Re.alternate!==null&&ie.delete(Re.key===null?Ne:Re.key),x=i(Re,x,Ne),He===null?de=Re:He.sibling=Re,He=Re);return e&&ie.forEach(function(ea){return t(T,ea)}),ze&&ml(T,Ne),de}function ge(T,x,_,B){if(_==null)throw Error(o(151));for(var de=null,He=null,ie=x,Ne=x=0,Re=null,qe=_.next();ie!==null&&!qe.done;Ne++,qe=_.next()){ie.index>Ne?(Re=ie,ie=null):Re=ie.sibling;var ea=j(T,ie,qe.value,B);if(ea===null){ie===null&&(ie=Re);break}e&&ie&&ea.alternate===null&&t(T,ie),x=i(ea,x,Ne),He===null?de=ea:He.sibling=ea,He=ea,ie=Re}if(qe.done)return n(T,ie),ze&&ml(T,Ne),de;if(ie===null){for(;!qe.done;Ne++,qe=_.next())qe=q(T,qe.value,B),qe!==null&&(x=i(qe,x,Ne),He===null?de=qe:He.sibling=qe,He=qe);return ze&&ml(T,Ne),de}for(ie=l(ie);!qe.done;Ne++,qe=_.next())qe=M(ie,T,Ne,qe.value,B),qe!==null&&(e&&qe.alternate!==null&&ie.delete(qe.key===null?Ne:qe.key),x=i(qe,x,Ne),He===null?de=qe:He.sibling=qe,He=qe);return e&&ie.forEach(function(wp){return t(T,wp)}),ze&&ml(T,Ne),de}function Ke(T,x,_,B){if(typeof _=="object"&&_!==null&&_.type===ee&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case k:e:{for(var de=_.key;x!==null;){if(x.key===de){if(de=_.type,de===ee){if(x.tag===7){n(T,x.sibling),B=a(x,_.props.children),B.return=T,T=B;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===F&&xa(de)===x.type){n(T,x.sibling),B=a(x,_.props),Yi(B,_),B.return=T,T=B;break e}n(T,x);break}else t(T,x);x=x.sibling}_.type===ee?(B=pa(_.props.children,T.mode,B,_.key),B.return=T,T=B):(B=Ys(_.type,_.key,_.props,null,T.mode,B),Yi(B,_),B.return=T,T=B)}return u(T);case K:e:{for(de=_.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(T,x.sibling),B=a(x,_.children||[]),B.return=T,T=B;break e}else{n(T,x);break}else t(T,x);x=x.sibling}B=Mc(_,T.mode,B),B.return=T,T=B}return u(T);case F:return _=xa(_),Ke(T,x,_,B)}if(ke(_))return ae(T,x,_,B);if(be(_)){if(de=be(_),typeof de!="function")throw Error(o(150));return _=de.call(_),ge(T,x,_,B)}if(typeof _.then=="function")return Ke(T,x,Js(_),B);if(_.$$typeof===ce)return Ke(T,x,Qs(T,_),B);$s(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(T,x.sibling),B=a(x,_),B.return=T,T=B):(n(T,x),B=Cc(_,T.mode,B),B.return=T,T=B),u(T)):n(T,x)}return function(T,x,_,B){try{ki=0;var de=Ke(T,x,_,B);return Pa=null,de}catch(ie){if(ie===Ia||ie===Zs)throw ie;var He=fn(29,ie,null,T.mode);return He.lanes=B,He.return=T,He}}}var wa=vf(!0),yf=vf(!1),Hl=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ql(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,t=ks(e),ef(e,null,n),t}return Ls(e,l,t,n),ks(e)}function Xi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,aa(e,n)}}function Qc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=u:i=i.next=u,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Vc=!1;function Gi(){if(Vc){var e=Wa;if(e!==null)throw e}}function Qi(e,t,n,l){Vc=!1;var a=e.updateQueue;Hl=!1;var i=a.firstBaseUpdate,u=a.lastBaseUpdate,d=a.shared.pending;if(d!==null){a.shared.pending=null;var p=d,A=p.next;p.next=null,u===null?i=A:u.next=A,u=p;var U=e.alternate;U!==null&&(U=U.updateQueue,d=U.lastBaseUpdate,d!==u&&(d===null?U.firstBaseUpdate=A:d.next=A,U.lastBaseUpdate=p))}if(i!==null){var q=a.baseState;u=0,U=A=p=null,d=i;do{var j=d.lane&-536870913,M=j!==d.lane;if(M?(Me&j)===j:(l&j)===j){j!==0&&j===Fa&&(Vc=!0),U!==null&&(U=U.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var ae=e,ge=d;j=t;var Ke=n;switch(ge.tag){case 1:if(ae=ge.payload,typeof ae=="function"){q=ae.call(Ke,q,j);break e}q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ge.payload,j=typeof ae=="function"?ae.call(Ke,q,j):ae,j==null)break e;q=C({},q,j);break e;case 2:Hl=!0}}j=d.callback,j!==null&&(e.flags|=64,M&&(e.flags|=8192),M=a.callbacks,M===null?a.callbacks=[j]:M.push(j))}else M={lane:j,tag:d.tag,payload:d.payload,callback:d.callback,next:null},U===null?(A=U=M,p=q):U=U.next=M,u|=j;if(d=d.next,d===null){if(d=a.shared.pending,d===null)break;M=d,d=M.next,M.next=null,a.lastBaseUpdate=M,a.shared.pending=null}}while(!0);U===null&&(p=q),a.baseState=p,a.firstBaseUpdate=A,a.lastBaseUpdate=U,i===null&&(a.shared.lanes=0),Ql|=u,e.lanes=u,e.memoizedState=q}}function bf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Sf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bf(n[e],t)}var ei=b(null),Fs=b(0);function xf(e,t){e=Tl,X(Fs,e),X(ei,t),Tl=e|t.baseLanes}function Zc(){X(Fs,Tl),X(ei,ei.current)}function Kc(){Tl=Fs.current,z(ei),z(Fs)}var dn=b(null),Tn=null;function kl(e){var t=e.alternate;X(ft,ft.current&1),X(dn,e),Tn===null&&(t===null||ei.current!==null||t.memoizedState!==null)&&(Tn=e)}function Jc(e){X(ft,ft.current),X(dn,e),Tn===null&&(Tn=e)}function Ef(e){e.tag===22?(X(ft,ft.current),X(dn,e),Tn===null&&(Tn=e)):Yl()}function Yl(){X(ft,ft.current),X(dn,dn.current)}function hn(e){z(dn),Tn===e&&(Tn=null),z(ft)}var ft=b(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||eo(n)||to(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=0,we=null,Ve=null,pt=null,Is=!1,ti=!1,Na=!1,Ps=0,Vi=0,ni=null,hg=0;function st(){throw Error(o(321))}function $c(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Fc(e,t,n,l,a,i){return vl=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?id:fr,Na=!1,i=n(l,a),Na=!1,ti&&(i=Nf(t,n,l,a)),wf(e),i}function wf(e){R.H=Ji;var t=Ve!==null&&Ve.next!==null;if(vl=0,pt=Ve=we=null,Is=!1,Vi=0,ni=null,t)throw Error(o(300));e===null||vt||(e=e.dependencies,e!==null&&Gs(e)&&(vt=!0))}function Nf(e,t,n,l){we=e;var a=0;do{if(ti&&(ni=null),Vi=0,ti=!1,25<=a)throw Error(o(301));if(a+=1,pt=Ve=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}R.H=sd,i=t(n,l)}while(ti);return i}function mg(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Zi(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(we.flags|=1024),t}function Wc(){var e=Ps!==0;return Ps=0,e}function Ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Pc(e){if(Is){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Is=!1}vl=0,pt=Ve=we=null,ti=!1,Vi=Ps=0,ni=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?we.memoizedState=pt=e:pt=pt.next=e,pt}function dt(){if(Ve===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=pt===null?we.memoizedState:pt.next;if(t!==null)pt=t,Ve=e;else{if(e===null)throw we.alternate===null?Error(o(467)):Error(o(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},pt===null?we.memoizedState=pt=e:pt=pt.next=e}return pt}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zi(e){var t=Vi;return Vi+=1,ni===null&&(ni=[]),e=mf(ni,e,t),t=we,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?id:fr),e}function tu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zi(e);if(e.$$typeof===ce)return Ct(e)}throw Error(o(438,String(e)))}function er(e){var t=null,n=we.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=eu(),we.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Oe;return t.index++,n}function yl(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=dt();return tr(t,Ve,e)}function tr(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var a=e.baseQueue,i=l.pending;if(i!==null){if(a!==null){var u=a.next;a.next=i.next,i.next=u}t.baseQueue=a=i,l.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var d=u=null,p=null,A=t,U=!1;do{var q=A.lane&-536870913;if(q!==A.lane?(Me&q)===q:(vl&q)===q){var j=A.revertLane;if(j===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),q===Fa&&(U=!0);else if((vl&j)===j){A=A.next,j===Fa&&(U=!0);continue}else q={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(d=p=q,u=i):p=p.next=q,we.lanes|=j,Ql|=j;q=A.action,Na&&n(i,q),i=A.hasEagerState?A.eagerState:n(i,q)}else j={lane:q,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(d=p=j,u=i):p=p.next=j,we.lanes|=q,Ql|=q;A=A.next}while(A!==null&&A!==t);if(p===null?u=i:p.next=d,!on(i,e.memoizedState)&&(vt=!0,U&&(n=Wa,n!==null)))throw n;e.memoizedState=i,e.baseState=u,e.baseQueue=p,l.lastRenderedState=i}return a===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nr(e){var t=dt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do i=e(i,u.action),u=u.next;while(u!==a);on(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function Tf(e,t,n){var l=we,a=dt(),i=ze;if(i){if(n===void 0)throw Error(o(407));n=n()}else n=t();var u=!on((Ve||a).memoizedState,n);if(u&&(a.memoizedState=n,vt=!0),a=a.queue,ir(jf.bind(null,l,a,e),[e]),a.getSnapshot!==t||u||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,li(9,{destroy:void 0},Af.bind(null,l,a,n,t),null),Fe===null)throw Error(o(349));i||(vl&127)!==0||_f(l,t,n)}return n}function _f(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t=eu(),we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Af(e,t,n,l){t.value=n,t.getSnapshot=l,Cf(t)&&Mf(e)}function jf(e,t,n){return n(function(){Cf(t)&&Mf(e)})}function Cf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function Mf(e){var t=ga(e,2);t!==null&&Pt(t,e,2)}function lr(e){var t=qt();if(typeof e=="function"){var n=e;if(e=n(),Na){at(!0);try{n()}finally{at(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t}function Rf(e,t,n,l){return e.baseState=n,tr(e,Ve,typeof l=="function"?l:yl)}function gg(e,t,n,l,a){if(iu(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};R.T!==null?n(!0):i.isTransition=!1,l(i),n=t.pending,n===null?(i.next=t.pending=i,Df(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Df(e,t){var n=t.action,l=t.payload,a=e.state;if(t.isTransition){var i=R.T,u={};R.T=u;try{var d=n(a,l),p=R.S;p!==null&&p(u,d),zf(e,t,d)}catch(A){ar(e,t,A)}finally{i!==null&&u.types!==null&&(i.types=u.types),R.T=i}}else try{i=n(a,l),zf(e,t,i)}catch(A){ar(e,t,A)}}function zf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Of(e,t,l)},function(l){return ar(e,t,l)}):Of(e,t,n)}function Of(e,t,n){t.status="fulfilled",t.value=n,Uf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Df(e,n)))}function ar(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Uf(t),t=t.next;while(t!==l)}e.action=null}function Uf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bf(e,t){return t}function Hf(e,t){if(ze){var n=Fe.formState;if(n!==null){e:{var l=we;if(ze){if(Ie){t:{for(var a=Ie,i=Nn;a.nodeType!==8;){if(!i){a=null;break t}if(a=_n(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ie=_n(a.nextSibling),l=a.data==="F!";break e}}Ul(l)}l=!1}l&&(t=n[0])}}return n=qt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:t},n.queue=l,n=nd.bind(null,we,l),l.dispatch=n,l=lr(!1),i=or.bind(null,we,!1,l.queue),l=qt(),a={state:t,dispatch:null,action:e,pending:null},l.queue=a,n=gg.bind(null,we,a,i,n),a.dispatch=n,l.memoizedState=e,[t,n,!1]}function qf(e){var t=dt();return Lf(t,Ve,e)}function Lf(e,t,n){if(t=tr(e,t,Bf)[0],e=nu(yl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zi(t)}catch(u){throw u===Ia?Zs:u}else l=t;t=dt();var a=t.queue,i=a.dispatch;return n!==t.memoizedState&&(we.flags|=2048,li(9,{destroy:void 0},pg.bind(null,a,n),null)),[l,i,e]}function pg(e,t){e.action=t}function kf(e){var t=dt(),n=Ve;if(n!==null)return Lf(t,n,e);dt(),t=t.memoizedState,n=dt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function li(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=we.updateQueue,t===null&&(t=eu(),we.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Yf(){return dt().memoizedState}function lu(e,t,n,l){var a=qt();we.flags|=e,a.memoizedState=li(1|t,{destroy:void 0},n,l===void 0?null:l)}function au(e,t,n,l){var a=dt();l=l===void 0?null:l;var i=a.memoizedState.inst;Ve!==null&&l!==null&&$c(l,Ve.memoizedState.deps)?a.memoizedState=li(t,i,n,l):(we.flags|=e,a.memoizedState=li(1|t,i,n,l))}function Xf(e,t){lu(8390656,8,e,t)}function ir(e,t){au(2048,8,e,t)}function vg(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=eu(),we.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Gf(e){var t=dt().memoizedState;return vg({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Qf(e,t){return au(4,2,e,t)}function Vf(e,t){return au(4,4,e,t)}function Zf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kf(e,t,n){n=n!=null?n.concat([e]):null,au(4,4,Zf.bind(null,t,e),n)}function sr(){}function Jf(e,t){var n=dt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&$c(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function $f(e,t){var n=dt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&$c(t,l[1]))return l[0];if(l=e(),Na){at(!0);try{e()}finally{at(!1)}}return n.memoizedState=[l,t],l}function ur(e,t,n){return n===void 0||(vl&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Fd(),we.lanes|=e,Ql|=e,n)}function Ff(e,t,n,l){return on(n,t)?n:ei.current!==null?(e=ur(e,n,l),on(e,t)||(vt=!0),e):(vl&42)===0||(vl&1073741824)!==0&&(Me&261930)===0?(vt=!0,e.memoizedState=n):(e=Fd(),we.lanes|=e,Ql|=e,t)}function Wf(e,t,n,l,a){var i=O.p;O.p=i!==0&&8>i?i:8;var u=R.T,d={};R.T=d,or(e,!1,t,n);try{var p=a(),A=R.S;if(A!==null&&A(d,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var U=dg(p,l);Ki(e,t,U,pn(e))}else Ki(e,t,l,pn(e))}catch(q){Ki(e,t,{then:function(){},status:"rejected",reason:q},pn())}finally{O.p=i,u!==null&&d.types!==null&&(u.types=d.types),R.T=u}}function yg(){}function cr(e,t,n,l){if(e.tag!==5)throw Error(o(476));var a=If(e).queue;Wf(e,a,t,L,n===null?yg:function(){return Pf(e),n(l)})}function If(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=If(e);t.next===null&&(t=e.alternate.memoizedState),Ki(e,t.next.queue,{},pn())}function rr(){return Ct(os)}function ed(){return dt().memoizedState}function td(){return dt().memoizedState}function bg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pn();e=ql(n);var l=Ll(t,e,n);l!==null&&(Pt(l,t,n),Xi(l,t,n)),t={cache:qc()},e.payload=t;return}t=t.return}}function Sg(e,t,n){var l=pn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},iu(e)?ld(t,n):(n=Ac(e,t,n,l),n!==null&&(Pt(n,e,l),ad(n,t,l)))}function nd(e,t,n){var l=pn();Ki(e,t,n,l)}function Ki(e,t,n,l){var a={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(iu(e))ld(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,d=i(u,n);if(a.hasEagerState=!0,a.eagerState=d,on(d,u))return Ls(e,t,a,0),Fe===null&&qs(),!1}catch{}if(n=Ac(e,t,a,l),n!==null)return Pt(n,e,l),ad(n,t,l),!0}return!1}function or(e,t,n,l){if(l={lane:2,revertLane:Xr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},iu(e)){if(t)throw Error(o(479))}else t=Ac(e,n,l,2),t!==null&&Pt(t,e,2)}function iu(e){var t=e.alternate;return e===we||t!==null&&t===we}function ld(e,t){ti=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ad(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,aa(e,n)}}var Ji={readContext:Ct,use:tu,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ji.useEffectEvent=st;var id={readContext:Ct,use:tu,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Xf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,lu(4194308,4,Zf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){lu(4,2,e,t)},useMemo:function(e,t){var n=qt();t=t===void 0?null:t;var l=e();if(Na){at(!0);try{e()}finally{at(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=qt();if(n!==void 0){var a=n(t);if(Na){at(!0);try{n(t)}finally{at(!1)}}}else a=t;return l.memoizedState=l.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},l.queue=e,e=e.dispatch=Sg.bind(null,we,e),[l.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:function(e){e=lr(e);var t=e.queue,n=nd.bind(null,we,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sr,useDeferredValue:function(e,t){var n=qt();return ur(n,e,t)},useTransition:function(){var e=lr(!1);return e=Wf.bind(null,we,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=we,a=qt();if(ze){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Fe===null)throw Error(o(349));(Me&127)!==0||_f(l,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Xf(jf.bind(null,l,i,e),[e]),l.flags|=2048,li(9,{destroy:void 0},Af.bind(null,l,i,n,t),null),n},useId:function(){var e=qt(),t=Fe.identifierPrefix;if(ze){var n=Wn,l=Fn;n=(l&~(1<<32-bt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ps++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=hg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rr,useFormState:Hf,useActionState:Hf,useOptimistic:function(e){var t=qt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=or.bind(null,we,!0,n),n.dispatch=t,[e,t]},useMemoCache:er,useCacheRefresh:function(){return qt().memoizedState=bg.bind(null,we)},useEffectEvent:function(e){var t=qt(),n={impl:e};return t.memoizedState=n,function(){if((Le&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},fr={readContext:Ct,use:tu,useCallback:Jf,useContext:Ct,useEffect:ir,useImperativeHandle:Kf,useInsertionEffect:Qf,useLayoutEffect:Vf,useMemo:$f,useReducer:nu,useRef:Yf,useState:function(){return nu(yl)},useDebugValue:sr,useDeferredValue:function(e,t){var n=dt();return Ff(n,Ve.memoizedState,e,t)},useTransition:function(){var e=nu(yl)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:Tf,useId:ed,useHostTransitionStatus:rr,useFormState:qf,useActionState:qf,useOptimistic:function(e,t){var n=dt();return Rf(n,Ve,e,t)},useMemoCache:er,useCacheRefresh:td};fr.useEffectEvent=Gf;var sd={readContext:Ct,use:tu,useCallback:Jf,useContext:Ct,useEffect:ir,useImperativeHandle:Kf,useInsertionEffect:Qf,useLayoutEffect:Vf,useMemo:$f,useReducer:nr,useRef:Yf,useState:function(){return nr(yl)},useDebugValue:sr,useDeferredValue:function(e,t){var n=dt();return Ve===null?ur(n,e,t):Ff(n,Ve.memoizedState,e,t)},useTransition:function(){var e=nr(yl)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:Tf,useId:ed,useHostTransitionStatus:rr,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var n=dt();return Ve!==null?Rf(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:er,useCacheRefresh:td};sd.useEffectEvent=Gf;function dr(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hr={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pn(),a=ql(l);a.payload=t,n!=null&&(a.callback=n),t=Ll(e,a,l),t!==null&&(Pt(t,e,l),Xi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pn(),a=ql(l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ll(e,a,l),t!==null&&(Pt(t,e,l),Xi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),l=ql(n);l.tag=2,t!=null&&(l.callback=t),t=Ll(e,l,n),t!==null&&(Pt(t,e,n),Xi(t,e,n))}};function ud(e,t,n,l,a,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,u):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,l)||!Oi(a,i):!0}function cd(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&hr.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function rd(e){Hs(e)}function od(e){console.error(e)}function fd(e){Hs(e)}function su(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function dd(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function mr(e,t,n){return n=ql(n),n.tag=3,n.payload={element:null},n.callback=function(){su(e,t)},n}function hd(e){return e=ql(e),e.tag=3,e}function md(e,t,n,l){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=l.value;e.payload=function(){return a(i)},e.callback=function(){dd(t,n,l)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){dd(t,n,l),typeof a!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var d=l.stack;this.componentDidCatch(l.value,{componentStack:d!==null?d:""})})}function xg(e,t,n,l,a){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&$a(t,n,a,!0),n=dn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?yu():n.alternate===null&&ut===0&&(ut=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===Ks?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Lr(e,l,a)),!1;case 22:return n.flags|=65536,l===Ks?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Lr(e,l,a)),!1}throw Error(o(435,n.tag))}return Lr(e,l,a),yu(),!1}if(ze)return t=dn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==zc&&(e=Error(o(422),{cause:l}),Hi(xn(e,n)))):(l!==zc&&(t=Error(o(423),{cause:l}),Hi(xn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,l=xn(l,n),a=mr(e.stateNode,l,a),Qc(e,a),ut!==4&&(ut=2)),!1;var i=Error(o(520),{cause:l});if(i=xn(i,n),ns===null?ns=[i]:ns.push(i),ut!==4&&(ut=2),t===null)return!0;l=xn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=mr(n.stateNode,l,e),Qc(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Vl===null||!Vl.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=hd(a),md(a,e,n,l),Qc(n,a),!1}n=n.return}while(n!==null);return!1}var gr=Error(o(461)),vt=!1;function Mt(e,t,n,l){t.child=e===null?yf(t,null,n,l):wa(t,e.child,n,l)}function gd(e,t,n,l,a){n=n.render;var i=t.ref;if("ref"in l){var u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}else u=l;return ba(t),l=Fc(e,t,n,u,i,a),d=Wc(),e!==null&&!vt?(Ic(e,t,a),bl(e,t,a)):(ze&&d&&Rc(t),t.flags|=1,Mt(e,t,l,a),t.child)}function pd(e,t,n,l,a){if(e===null){var i=n.type;return typeof i=="function"&&!jc(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,vd(e,t,i,l,a)):(e=Ys(n.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!wr(e,a)){var u=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(u,l)&&e.ref===t.ref)return bl(e,t,a)}return t.flags|=1,e=hl(i,l),e.ref=t.ref,e.return=t,t.child=e}function vd(e,t,n,l,a){if(e!==null){var i=e.memoizedProps;if(Oi(i,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=i,wr(e,a))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,bl(e,t,a)}return pr(e,t,n,l,a)}function yd(e,t,n,l){var a=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(l=t.child=e.child,a=0;l!==null;)a=a|l.lanes|l.childLanes,l=l.sibling;l=a&~i}else l=0,t.child=null;return bd(e,t,i,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,i!==null?i.cachePool:null),i!==null?xf(t,i):Zc(),Ef(t);else return l=t.lanes=536870912,bd(e,t,i!==null?i.baseLanes|n:n,n,l)}else i!==null?(Vs(t,i.cachePool),xf(t,i),Yl(),t.memoizedState=null):(e!==null&&Vs(t,null),Zc(),Yl());return Mt(e,t,a,n),t.child}function $i(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bd(e,t,n,l,a){var i=kc();return i=i===null?null:{parent:gt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Vs(t,null),Zc(),Ef(t),e!==null&&$a(e,t,l,!0),t.childLanes=a,null}function uu(e,t){return t=ru({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sd(e,t,n){return wa(t,e.child,null,n),e=uu(t,t.pendingProps),e.flags|=2,hn(t),t.memoizedState=null,e}function Eg(e,t,n){var l=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(l.mode==="hidden")return e=uu(t,l),t.lanes=536870912,$i(null,e);if(Jc(t),(e=Ie)?(e=Dh(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Fn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=nf(e),n.return=t,t.child=n,jt=t,Ie=null)):e=null,e===null)throw Ul(t);return t.lanes=536870912,null}return uu(t,l)}var i=e.memoizedState;if(i!==null){var u=i.dehydrated;if(Jc(t),a)if(t.flags&256)t.flags&=-257,t=Sd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(vt||$a(e,t,n,!1),a=(n&e.childLanes)!==0,vt||a){if(l=Fe,l!==null&&(u=Cl(l,n),u!==0&&u!==i.retryLane))throw i.retryLane=u,ga(e,u),Pt(l,e,u),gr;yu(),t=Sd(e,t,n)}else e=i.treeContext,Ie=_n(u.nextSibling),jt=t,ze=!0,Ol=null,Nn=!1,e!==null&&sf(t,e),t=uu(t,l),t.flags|=4096;return t}return e=hl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function pr(e,t,n,l,a){return ba(t),n=Fc(e,t,n,l,void 0,a),l=Wc(),e!==null&&!vt?(Ic(e,t,a),bl(e,t,a)):(ze&&l&&Rc(t),t.flags|=1,Mt(e,t,n,a),t.child)}function xd(e,t,n,l,a,i){return ba(t),t.updateQueue=null,n=Nf(t,l,n,a),wf(e),l=Wc(),e!==null&&!vt?(Ic(e,t,i),bl(e,t,i)):(ze&&l&&Rc(t),t.flags|=1,Mt(e,t,n,i),t.child)}function Ed(e,t,n,l,a){if(ba(t),t.stateNode===null){var i=Va,u=n.contextType;typeof u=="object"&&u!==null&&(i=Ct(u)),i=new n(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Xc(t),u=n.contextType,i.context=typeof u=="object"&&u!==null?Ct(u):Va,i.state=t.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(dr(t,n,u,l),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&hr.enqueueReplaceState(i,i.state,null),Qi(t,l,i,a),Gi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,p=Ta(n,d);i.props=p;var A=i.context,U=n.contextType;u=Va,typeof U=="object"&&U!==null&&(u=Ct(U));var q=n.getDerivedStateFromProps;U=typeof q=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||A!==u)&&cd(t,i,l,u),Hl=!1;var j=t.memoizedState;i.state=j,Qi(t,l,i,a),Gi(),A=t.memoizedState,d||j!==A||Hl?(typeof q=="function"&&(dr(t,n,q,l),A=t.memoizedState),(p=Hl||ud(t,n,p,l,j,A,u))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),i.props=l,i.state=A,i.context=u,l=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Gc(e,t),u=t.memoizedProps,U=Ta(n,u),i.props=U,q=t.pendingProps,j=i.context,A=n.contextType,p=Va,typeof A=="object"&&A!==null&&(p=Ct(A)),d=n.getDerivedStateFromProps,(A=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==q||j!==p)&&cd(t,i,l,p),Hl=!1,j=t.memoizedState,i.state=j,Qi(t,l,i,a),Gi();var M=t.memoizedState;u!==q||j!==M||Hl||e!==null&&e.dependencies!==null&&Gs(e.dependencies)?(typeof d=="function"&&(dr(t,n,d,l),M=t.memoizedState),(U=Hl||ud(t,n,U,l,j,M,p)||e!==null&&e.dependencies!==null&&Gs(e.dependencies))?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,M,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,M,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=M),i.props=l,i.state=M,i.context=p,l=U):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,cu(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,n,a)):Mt(e,t,n,a),t.memoizedState=i.state,e=t.child):e=bl(e,t,a),e}function wd(e,t,n,l){return va(),t.flags|=256,Mt(e,t,n,l),t.child}var vr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:df()}}function br(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=gn),e}function Nd(e,t,n){var l=t.pendingProps,a=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),u&&(a=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(a?kl(t):Yl(),(e=Ie)?(e=Dh(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Fn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=nf(e),n.return=t,t.child=n,jt=t,Ie=null)):e=null,e===null)throw Ul(t);return to(e)?t.lanes=32:t.lanes=536870912,null}var d=l.children;return l=l.fallback,a?(Yl(),a=t.mode,d=ru({mode:"hidden",children:d},a),l=pa(l,a,n,null),d.return=t,l.return=t,d.sibling=l,t.child=d,l=t.child,l.memoizedState=yr(n),l.childLanes=br(e,u,n),t.memoizedState=vr,$i(null,l)):(kl(t),Sr(t,d))}var p=e.memoizedState;if(p!==null&&(d=p.dehydrated,d!==null)){if(i)t.flags&256?(kl(t),t.flags&=-257,t=xr(e,t,n)):t.memoizedState!==null?(Yl(),t.child=e.child,t.flags|=128,t=null):(Yl(),d=l.fallback,a=t.mode,l=ru({mode:"visible",children:l.children},a),d=pa(d,a,n,null),d.flags|=2,l.return=t,d.return=t,l.sibling=d,t.child=l,wa(t,e.child,null,n),l=t.child,l.memoizedState=yr(n),l.childLanes=br(e,u,n),t.memoizedState=vr,t=$i(null,l));else if(kl(t),to(d)){if(u=d.nextSibling&&d.nextSibling.dataset,u)var A=u.dgst;u=A,l=Error(o(419)),l.stack="",l.digest=u,Hi({value:l,source:null,stack:null}),t=xr(e,t,n)}else if(vt||$a(e,t,n,!1),u=(n&e.childLanes)!==0,vt||u){if(u=Fe,u!==null&&(l=Cl(u,n),l!==0&&l!==p.retryLane))throw p.retryLane=l,ga(e,l),Pt(u,e,l),gr;eo(d)||yu(),t=xr(e,t,n)}else eo(d)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Ie=_n(d.nextSibling),jt=t,ze=!0,Ol=null,Nn=!1,e!==null&&sf(t,e),t=Sr(t,l.children),t.flags|=4096);return t}return a?(Yl(),d=l.fallback,a=t.mode,p=e.child,A=p.sibling,l=hl(p,{mode:"hidden",children:l.children}),l.subtreeFlags=p.subtreeFlags&65011712,A!==null?d=hl(A,d):(d=pa(d,a,n,null),d.flags|=2),d.return=t,l.return=t,l.sibling=d,t.child=l,$i(null,l),l=t.child,d=e.child.memoizedState,d===null?d=yr(n):(a=d.cachePool,a!==null?(p=gt._currentValue,a=a.parent!==p?{parent:p,pool:p}:a):a=df(),d={baseLanes:d.baseLanes|n,cachePool:a}),l.memoizedState=d,l.childLanes=br(e,u,n),t.memoizedState=vr,$i(e.child,l)):(kl(t),n=e.child,e=n.sibling,n=hl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=n,t.memoizedState=null,n)}function Sr(e,t){return t=ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ru(e,t){return e=fn(22,e,null,t),e.lanes=0,e}function xr(e,t,n){return wa(t,e.child,null,n),e=Sr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Td(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Bc(e.return,t,n)}function Er(e,t,n,l,a,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:a,treeForkCount:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=a,u.treeForkCount=i)}function _d(e,t,n){var l=t.pendingProps,a=l.revealOrder,i=l.tail;l=l.children;var u=ft.current,d=(u&2)!==0;if(d?(u=u&1|2,t.flags|=128):u&=1,X(ft,u),Mt(e,t,l,n),l=ze?Bi:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,n,t);else if(e.tag===19)Td(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Er(t,!1,a,n,i,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ws(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Er(t,!0,n,null,i,l);break;case"together":Er(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if($a(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=hl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gs(e)))}function wg(e,t,n){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),Bl(t,gt,e.memoizedState.cache),va();break;case 27:case 5:Je(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(kl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Nd(e,t,n):(kl(t),e=bl(e,t,n),e!==null?e.sibling:null);kl(t);break;case 19:var a=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||($a(e,t,n,!1),l=(n&t.childLanes)!==0),a){if(l)return _d(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),X(ft,ft.current),l)break;return null;case 22:return t.lanes=0,yd(e,t,n,t.pendingProps);case 24:Bl(t,gt,e.memoizedState.cache)}return bl(e,t,n)}function Ad(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!wr(e,n)&&(t.flags&128)===0)return vt=!1,wg(e,t,n);vt=(e.flags&131072)!==0}else vt=!1,ze&&(t.flags&1048576)!==0&&af(t,Bi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=xa(t.elementType),t.type=e,typeof e=="function")jc(e)?(l=Ta(e,l),t.tag=1,t=Ed(null,t,e,l,n)):(t.tag=0,t=pr(null,t,e,l,n));else{if(e!=null){var a=e.$$typeof;if(a===ne){t.tag=11,t=gd(null,t,e,l,n);break e}else if(a===Q){t.tag=14,t=pd(null,t,e,l,n);break e}}throw t=et(e)||e,Error(o(306,t,""))}}return t;case 0:return pr(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,a=Ta(l,t.pendingProps),Ed(e,t,l,a,n);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var i=t.memoizedState;a=i.element,Gc(e,t),Qi(t,l,null,n);var u=t.memoizedState;if(l=u.cache,Bl(t,gt,l),l!==i.cache&&Hc(t,[gt],n,!0),Gi(),l=u.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=wd(e,t,l,n);break e}else if(l!==a){a=xn(Error(o(424)),t),Hi(a),t=wd(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=_n(e.firstChild),jt=t,ze=!0,Ol=null,Nn=!0,n=yf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),l===a){t=bl(e,t,n);break e}Mt(e,t,l,n)}t=t.child}return t;case 26:return cu(e,t),e===null?(n=qh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ze||(n=t.type,e=t.pendingProps,l=Tu(ue.current).createElement(n),l[De]=t,l[tt]=e,Rt(l,n,e),E(l),t.stateNode=l):t.memoizedState=qh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Je(t),e===null&&ze&&(l=t.stateNode=Uh(t.type,t.pendingProps,ue.current),jt=t,Nn=!0,a=Ie,$l(t.type)?(no=a,Ie=_n(l.firstChild)):Ie=a),Mt(e,t,t.pendingProps.children,n),cu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((a=l=Ie)&&(l=Pg(l,t.type,t.pendingProps,Nn),l!==null?(t.stateNode=l,jt=t,Ie=_n(l.firstChild),Nn=!1,a=!0):a=!1),a||Ul(t)),Je(t),a=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,l=i.children,Wr(a,i)?l=null:u!==null&&Wr(a,u)&&(t.flags|=32),t.memoizedState!==null&&(a=Fc(e,t,mg,null,null,n),os._currentValue=a),cu(e,t),Mt(e,t,l,n),t.child;case 6:return e===null&&ze&&((e=n=Ie)&&(n=ep(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,jt=t,Ie=null,e=!0):e=!1),e||Ul(t)),null;case 13:return Nd(e,t,n);case 4:return We(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=wa(t,null,l,n):Mt(e,t,l,n),t.child;case 11:return gd(e,t,t.type,t.pendingProps,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Bl(t,t.type,l.value),Mt(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,ba(t),a=Ct(a),l=l(a),t.flags|=1,Mt(e,t,l,n),t.child;case 14:return pd(e,t,t.type,t.pendingProps,n);case 15:return vd(e,t,t.type,t.pendingProps,n);case 19:return _d(e,t,n);case 31:return Eg(e,t,n);case 22:return yd(e,t,n,t.pendingProps);case 24:return ba(t),l=Ct(gt),e===null?(a=kc(),a===null&&(a=Fe,i=qc(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:l,cache:a},Xc(t),Bl(t,gt,a)):((e.lanes&n)!==0&&(Gc(e,t),Qi(t,null,null,n),Gi()),a=e.memoizedState,i=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Bl(t,gt,l)):(l=i.cache,Bl(t,gt,l),l!==a.cache&&Hc(t,[gt],n,!0))),Mt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Sl(e){e.flags|=4}function Nr(e,t,n,l,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(eh())e.flags|=8192;else throw Ea=Ks,Yc}else e.flags&=-16777217}function jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gh(t))if(eh())e.flags|=8192;else throw Ea=Ks,Yc}function ou(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?na():536870912,e.lanes|=t,ui|=t)}function Fi(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags&65011712,l|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Ng(e,t,n){var l=t.pendingProps;switch(Dc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),pl(gt),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?Sl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oc())),Pe(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(Sl(t),i!==null?(Pe(t),jd(t,i)):(Pe(t),Nr(t,a,null,l,n))):i?i!==e.memoizedState?(Sl(t),Pe(t),jd(t,i)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sl(t),Pe(t),Nr(t,a,e,l,n)),null;case 27:if(Lt(t),n=ue.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sl(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}e=$.current,Ja(t)?uf(t):(e=Uh(a,l,n),t.stateNode=e,Sl(t))}return Pe(t),null;case 5:if(Lt(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sl(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}if(i=$.current,Ja(t))uf(t);else{var u=Tu(ue.current);switch(i){case 1:i=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=u.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}i[De]=t,i[tt]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=i;e:switch(Rt(i,a,l),a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sl(t)}}return Pe(t),Nr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ue.current,Ja(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,a=jt,a!==null)switch(a.tag){case 27:case 5:l=a.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Nh(e.nodeValue,n)),e||Ul(t,!0)}else e=Tu(e).createTextNode(l),e[De]=t,t.stateNode=e}return Pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ja(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[De]=t}else va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else n=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(hn(t),t):(hn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Pe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ja(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(o(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(o(317));a[De]=t}else va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),a=!1}else a=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(hn(t),t):(hn(t),null)}return hn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,a=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(a=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==a&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ou(t,t.updateQueue),Pe(t),null);case 4:return Ue(),e===null&&Zr(t.stateNode.containerInfo),Pe(t),null;case 10:return pl(t.type),Pe(t),null;case 19:if(z(ft),l=t.memoizedState,l===null)return Pe(t),null;if(a=(t.flags&128)!==0,i=l.rendering,i===null)if(a)Fi(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ws(e),i!==null){for(t.flags|=128,Fi(l,!1),e=i.updateQueue,t.updateQueue=e,ou(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)tf(n,e),n=n.sibling;return X(ft,ft.current&1|2),ze&&ml(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&rt()>gu&&(t.flags|=128,a=!0,Fi(l,!1),t.lanes=4194304)}else{if(!a)if(e=Ws(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ou(t,e),Fi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ze)return Pe(t),null}else 2*rt()-l.renderingStartTime>gu&&n!==536870912&&(t.flags|=128,a=!0,Fi(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rt(),e.sibling=null,n=ft.current,X(ft,a?n&1|2:n&1),ze&&ml(t,l.treeForkCount),e):(Pe(t),null);case 22:case 23:return hn(t),Kc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),n=t.updateQueue,n!==null&&ou(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&z(Sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pl(gt),Pe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Tg(e,t){switch(Dc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pl(gt),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lt(t),null;case 31:if(t.memoizedState!==null){if(hn(t),t.alternate===null)throw Error(o(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(ft),null;case 4:return Ue(),null;case 10:return pl(t.type),null;case 22:case 23:return hn(t),Kc(),e!==null&&z(Sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pl(gt),null;case 25:return null;default:return null}}function Cd(e,t){switch(Dc(t),t.tag){case 3:pl(gt),Ue();break;case 26:case 27:case 5:Lt(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&hn(t);break;case 13:hn(t);break;case 19:z(ft);break;case 10:pl(t.type);break;case 22:case 23:hn(t),Kc(),e!==null&&z(Sa);break;case 24:pl(gt)}}function Wi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var a=l.next;n=a;do{if((n.tag&e)===e){l=void 0;var i=n.create,u=n.inst;l=i(),u.destroy=l}n=n.next}while(n!==a)}}catch(d){Xe(t,t.return,d)}}function Xl(e,t,n){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var i=a.next;l=i;do{if((l.tag&e)===e){var u=l.inst,d=u.destroy;if(d!==void 0){u.destroy=void 0,a=t;var p=n,A=d;try{A()}catch(U){Xe(a,p,U)}}}l=l.next}while(l!==i)}}catch(U){Xe(t,t.return,U)}}function Md(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Sf(t,n)}catch(l){Xe(e,e.return,l)}}}function Rd(e,t,n){n.props=Ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Xe(e,t,l)}}function Ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(a){Xe(e,t,a)}}function In(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(a){Xe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Xe(e,t,a)}else n.current=null}function Dd(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(a){Xe(e,e.return,a)}}function Tr(e,t,n){try{var l=e.stateNode;Kg(l,e.type,n,t),l[tt]=t}catch(a){Xe(e,e.return,a)}}function zd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$l(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$l(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Un));else if(l!==4&&(l===27&&$l(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ar(e,t,n),e=e.sibling;e!==null;)Ar(e,t,n),e=e.sibling}function fu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&$l(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(fu(e,t,n),e=e.sibling;e!==null;)fu(e,t,n),e=e.sibling}function Od(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Rt(t,l,n),t[De]=e,t[tt]=n}catch(i){Xe(e,e.return,i)}}var xl=!1,yt=!1,jr=!1,Ud=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function _g(e,t){if(e=e.containerInfo,$r=Du,e=Zo(e),xc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var a=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var u=0,d=-1,p=-1,A=0,U=0,q=e,j=null;t:for(;;){for(var M;q!==n||a!==0&&q.nodeType!==3||(d=u+a),q!==i||l!==0&&q.nodeType!==3||(p=u+l),q.nodeType===3&&(u+=q.nodeValue.length),(M=q.firstChild)!==null;)j=q,q=M;for(;;){if(q===e)break t;if(j===n&&++A===a&&(d=u),j===i&&++U===l&&(p=u),(M=q.nextSibling)!==null)break;q=j,j=q.parentNode}q=M}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fr={focusedElem:e,selectionRange:n},Du=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,l=n.stateNode;try{var ae=Ta(n.type,a);e=l.getSnapshotBeforeUpdate(ae,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Xe(n,n.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pr(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function Bd(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:wl(e,n),l&4&&Wi(5,n);break;case 1:if(wl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(u){Xe(n,n.return,u)}else{var a=Ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Xe(n,n.return,u)}}l&64&&Md(n),l&512&&Ii(n,n.return);break;case 3:if(wl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Sf(e,t)}catch(u){Xe(n,n.return,u)}}break;case 27:t===null&&l&4&&Od(n);case 26:case 5:wl(e,n),t===null&&l&4&&Dd(n),l&512&&Ii(n,n.return);break;case 12:wl(e,n);break;case 31:wl(e,n),l&4&&Ld(e,n);break;case 13:wl(e,n),l&4&&kd(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ug.bind(null,n),tp(e,n))));break;case 22:if(l=n.memoizedState!==null||xl,!l){t=t!==null&&t.memoizedState!==null||yt,a=xl;var i=yt;xl=l,(yt=t)&&!i?Nl(e,n,(n.subtreeFlags&8772)!==0):wl(e,n),xl=a,yt=i}break;case 30:break;default:wl(e,n)}}function Hd(e){var t=e.alternate;t!==null&&(e.alternate=null,Hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&al(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,$t=!1;function El(e,t,n){for(n=n.child;n!==null;)qd(e,t,n),n=n.sibling}function qd(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ot,n)}catch{}switch(n.tag){case 26:yt||In(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||In(n,t);var l=nt,a=$t;$l(n.type)&&(nt=n.stateNode,$t=!1),El(e,t,n),us(n.stateNode),nt=l,$t=a;break;case 5:yt||In(n,t);case 6:if(l=nt,a=$t,nt=null,El(e,t,n),nt=l,$t=a,nt!==null)if($t)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(i){Xe(n,t,i)}else try{nt.removeChild(n.stateNode)}catch(i){Xe(n,t,i)}break;case 18:nt!==null&&($t?(e=nt,Mh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),gi(e)):Mh(nt,n.stateNode));break;case 4:l=nt,a=$t,nt=n.stateNode.containerInfo,$t=!0,El(e,t,n),nt=l,$t=a;break;case 0:case 11:case 14:case 15:Xl(2,n,t),yt||Xl(4,n,t),El(e,t,n);break;case 1:yt||(In(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Rd(n,t,l)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:yt=(l=yt)||n.memoizedState!==null,El(e,t,n),yt=l;break;default:El(e,t,n)}}function Ld(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gi(e)}catch(n){Xe(t,t.return,n)}}}function kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gi(e)}catch(n){Xe(t,t.return,n)}}function Ag(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ud),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ud),t;default:throw Error(o(435,e.tag))}}function du(e,t){var n=Ag(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var a=Bg.bind(null,e,l);l.then(a,a)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var a=n[l],i=e,u=t,d=u;e:for(;d!==null;){switch(d.tag){case 27:if($l(d.type)){nt=d.stateNode,$t=!1;break e}break;case 5:nt=d.stateNode,$t=!1;break e;case 3:case 4:nt=d.stateNode.containerInfo,$t=!0;break e}d=d.return}if(nt===null)throw Error(o(160));qd(i,u,a),nt=null,$t=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}var Hn=null;function Yd(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),Wt(e),l&4&&(Xl(3,e,e.return),Wi(3,e),Xl(5,e,e.return));break;case 1:Ft(t,e),Wt(e),l&512&&(yt||n===null||In(n,n.return)),l&64&&xl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var a=Hn;if(Ft(t,e),Wt(e),l&512&&(yt||n===null||In(n,n.return)),l&4){var i=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(l){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Dn]||i[De]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(l),a.head.insertBefore(i,a.querySelector("head > title"))),Rt(i,l,n),i[De]=e,E(i),l=i;break e;case"link":var u=Yh("link","href",a).get(l+(n.href||""));if(u){for(var d=0;d<u.length;d++)if(i=u[d],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(d,1);break t}}i=a.createElement(l),Rt(i,l,n),a.head.appendChild(i);break;case"meta":if(u=Yh("meta","content",a).get(l+(n.content||""))){for(d=0;d<u.length;d++)if(i=u[d],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(d,1);break t}}i=a.createElement(l),Rt(i,l,n),a.head.appendChild(i);break;default:throw Error(o(468,l))}i[De]=e,E(i),l=i}e.stateNode=l}else Xh(a,e.type,e.stateNode);else e.stateNode=kh(a,l,e.memoizedProps);else i!==l?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,l===null?Xh(a,e.type,e.stateNode):kh(a,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),Wt(e),l&512&&(yt||n===null||In(n,n.return)),n!==null&&l&4&&Tr(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),Wt(e),l&512&&(yt||n===null||In(n,n.return)),e.flags&32){a=e.stateNode;try{bn(a,"")}catch(ae){Xe(e,e.return,ae)}}l&4&&e.stateNode!=null&&(a=e.memoizedProps,Tr(e,a,n!==null?n.memoizedProps:a)),l&1024&&(jr=!0);break;case 6:if(Ft(t,e),Wt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ae){Xe(e,e.return,ae)}}break;case 3:if(ju=null,a=Hn,Hn=_u(t.containerInfo),Ft(t,e),Hn=a,Wt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{gi(t.containerInfo)}catch(ae){Xe(e,e.return,ae)}jr&&(jr=!1,Xd(e));break;case 4:l=Hn,Hn=_u(e.stateNode.containerInfo),Ft(t,e),Wt(e),Hn=l;break;case 12:Ft(t,e),Wt(e);break;case 31:Ft(t,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 13:Ft(t,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(mu=rt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 22:a=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,A=xl,U=yt;if(xl=A||a,yt=U||p,Ft(t,e),yt=U,xl=A,Wt(e),l&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||p||xl||yt||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(i=p.stateNode,a)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{d=p.stateNode;var q=p.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null;d.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ae){Xe(p,p.return,ae)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=a?"":p.memoizedProps}catch(ae){Xe(p,p.return,ae)}}}else if(t.tag===18){if(n===null){p=t;try{var M=p.stateNode;a?Rh(M,!0):Rh(p.stateNode,!1)}catch(ae){Xe(p,p.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,du(e,n))));break;case 19:Ft(t,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(zd(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode,i=_r(e);fu(e,i,a);break;case 5:var u=n.stateNode;n.flags&32&&(bn(u,""),n.flags&=-33);var d=_r(e);fu(e,d,u);break;case 3:case 4:var p=n.stateNode.containerInfo,A=_r(e);Ar(e,A,p);break;default:throw Error(o(161))}}catch(U){Xe(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bd(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xl(4,t,t.return),_a(t);break;case 1:In(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Rd(t,t.return,n),_a(t);break;case 27:us(t.stateNode);case 26:case 5:In(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function Nl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,a=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:Nl(a,i,n),Wi(4,i);break;case 1:if(Nl(a,i,n),l=i,a=l.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(A){Xe(l,l.return,A)}if(l=i,a=l.updateQueue,a!==null){var d=l.stateNode;try{var p=a.shared.hiddenCallbacks;if(p!==null)for(a.shared.hiddenCallbacks=null,a=0;a<p.length;a++)bf(p[a],d)}catch(A){Xe(l,l.return,A)}}n&&u&64&&Md(i),Ii(i,i.return);break;case 27:Od(i);case 26:case 5:Nl(a,i,n),n&&l===null&&u&4&&Dd(i),Ii(i,i.return);break;case 12:Nl(a,i,n);break;case 31:Nl(a,i,n),n&&u&4&&Ld(a,i);break;case 13:Nl(a,i,n),n&&u&4&&kd(a,i);break;case 22:i.memoizedState===null&&Nl(a,i,n),Ii(i,i.return);break;case 30:break;default:Nl(a,i,n)}t=t.sibling}}function Cr(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&qi(n))}function Mr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e))}function qn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gd(e,t,n,l),t=t.sibling}function Gd(e,t,n,l){var a=t.flags;switch(t.tag){case 0:case 11:case 15:qn(e,t,n,l),a&2048&&Wi(9,t);break;case 1:qn(e,t,n,l);break;case 3:qn(e,t,n,l),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e)));break;case 12:if(a&2048){qn(e,t,n,l),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,d=i.onPostCommit;typeof d=="function"&&d(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Xe(t,t.return,p)}}else qn(e,t,n,l);break;case 31:qn(e,t,n,l);break;case 13:qn(e,t,n,l);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?qn(e,t,n,l):Pi(e,t):i._visibility&2?qn(e,t,n,l):(i._visibility|=2,ai(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Cr(u,t);break;case 24:qn(e,t,n,l),a&2048&&Mr(t.alternate,t);break;default:qn(e,t,n,l)}}function ai(e,t,n,l,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,u=t,d=n,p=l,A=u.flags;switch(u.tag){case 0:case 11:case 15:ai(i,u,d,p,a),Wi(8,u);break;case 23:break;case 22:var U=u.stateNode;u.memoizedState!==null?U._visibility&2?ai(i,u,d,p,a):Pi(i,u):(U._visibility|=2,ai(i,u,d,p,a)),a&&A&2048&&Cr(u.alternate,u);break;case 24:ai(i,u,d,p,a),a&&A&2048&&Mr(u.alternate,u);break;default:ai(i,u,d,p,a)}t=t.sibling}}function Pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,a=l.flags;switch(l.tag){case 22:Pi(n,l),a&2048&&Cr(l.alternate,l);break;case 24:Pi(n,l),a&2048&&Mr(l.alternate,l);break;default:Pi(n,l)}t=t.sibling}}var es=8192;function ii(e,t,n){if(e.subtreeFlags&es)for(e=e.child;e!==null;)Qd(e,t,n),e=e.sibling}function Qd(e,t,n){switch(e.tag){case 26:ii(e,t,n),e.flags&es&&e.memoizedState!==null&&hp(n,Hn,e.memoizedState,e.memoizedProps);break;case 5:ii(e,t,n);break;case 3:case 4:var l=Hn;Hn=_u(e.stateNode.containerInfo),ii(e,t,n),Hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=es,es=16777216,ii(e,t,n),es=l):ii(e,t,n));break;default:ii(e,t,n)}}function Vd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Nt=l,Kd(l,e)}Vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zd(e),e=e.sibling}function Zd(e){switch(e.tag){case 0:case 11:case 15:ts(e),e.flags&2048&&Xl(9,e,e.return);break;case 3:ts(e);break;case 12:ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hu(e)):ts(e);break;default:ts(e)}}function hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Nt=l,Kd(l,e)}Vd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xl(8,t,t.return),hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hu(t));break;default:hu(t)}e=e.sibling}}function Kd(e,t){for(;Nt!==null;){var n=Nt;switch(n.tag){case 0:case 11:case 15:Xl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Nt=l;else e:for(n=e;Nt!==null;){l=Nt;var a=l.sibling,i=l.return;if(Hd(l),l===n){Nt=null;break e}if(a!==null){a.return=i,Nt=a;break e}Nt=i}}}var jg={getCacheForType:function(e){var t=Ct(gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ct(gt).controller.signal}},Cg=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,je=null,Me=0,Ye=0,mn=null,Gl=!1,si=!1,Rr=!1,Tl=0,ut=0,Ql=0,Aa=0,Dr=0,gn=0,ui=0,ns=null,It=null,zr=!1,mu=0,Jd=0,gu=1/0,pu=null,Vl=null,xt=0,Zl=null,ci=null,_l=0,Or=0,Ur=null,$d=null,ls=0,Br=null;function pn(){return(Le&2)!==0&&Me!==0?Me&-Me:R.T!==null?Xr():Ra()}function Fd(){if(gn===0)if((Me&536870912)===0||ze){var e=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),gn=e}else gn=536870912;return e=dn.current,e!==null&&(e.flags|=32),gn}function Pt(e,t,n){(e===Fe&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(ri(e,0),Kl(e,Me,gn,!1)),St(e,n),((Le&2)===0||e!==Fe)&&(e===Fe&&((Le&2)===0&&(Aa|=n),ut===4&&Kl(e,Me,gn,!1)),Pn(e))}function Wd(e,t,n){if((Le&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Vt(e,t),a=l?Dg(e,t):qr(e,t,!0),i=l;do{if(a===0){si&&!l&&Kl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Mg(n)){a=qr(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var d=e;a=ns;var p=d.current.memoizedState.isDehydrated;if(p&&(ri(d,u).flags|=256),u=qr(d,u,!1),u!==2){if(Rr&&!p){d.errorRecoveryDisabledLanes|=i,Aa|=i,a=4;break e}i=It,It=a,i!==null&&(It===null?It=i:It.push.apply(It,i))}a=u}if(i=!1,a!==2)continue}}if(a===1){ri(e,0),Kl(e,t,0,!0);break}e:{switch(l=e,i=a,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Kl(l,t,gn,!Gl);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(a=mu+300-rt(),10<a)){if(Kl(l,t,gn,!Gl),Qt(l,0,!0)!==0)break e;_l=t,l.timeoutHandle=jh(Id.bind(null,l,n,It,pu,zr,t,gn,Aa,ui,Gl,i,"Throttled",-0,0),a);break e}Id(l,n,It,pu,zr,t,gn,Aa,ui,Gl,i,null,-0,0)}}break}while(!0);Pn(e)}function Id(e,t,n,l,a,i,u,d,p,A,U,q,j,M){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Qd(t,i,q);var ae=(i&62914560)===i?mu-rt():(i&4194048)===i?Jd-rt():0;if(ae=mp(q,ae),ae!==null){_l=i,e.cancelPendingCommit=ae(sh.bind(null,e,t,i,n,l,a,u,d,p,U,q,null,j,M)),Kl(e,i,u,!A);return}}sh(e,t,i,n,l,a,u,d,p)}function Mg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var a=n[l],i=a.getSnapshot;a=a.value;try{if(!on(i(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kl(e,t,n,l){t&=~Dr,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var a=t;0<a;){var i=31-bt(a),u=1<<i;l[i]=-1,a&=~u}n!==0&&yn(e,n,t)}function vu(){return(Le&6)===0?(as(0),!1):!0}function Hr(){if(je!==null){if(Ye===0)var e=je.return;else e=je,gl=ya=null,Pc(e),Pa=null,ki=0,e=je;for(;e!==null;)Cd(e.alternate,e),e=e.return;je=null}}function ri(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_l=0,Hr(),Fe=e,je=n=hl(e.current,null),Me=t,Ye=0,mn=null,Gl=!1,si=Vt(e,t),Rr=!1,ui=gn=Dr=Aa=Ql=ut=0,It=ns=null,zr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var a=31-bt(l),i=1<<a;t|=e[a],l&=~i}return Tl=t,qs(),n}function Pd(e,t){we=null,R.H=Ji,t===Ia||t===Zs?(t=gf(),Ye=3):t===Yc?(t=gf(),Ye=4):Ye=t===gr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mn=t,je===null&&(ut=1,su(e,xn(t,e.current)))}function eh(){var e=dn.current;return e===null?!0:(Me&4194048)===Me?Tn===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Tn:!1}function th(){var e=R.H;return R.H=Ji,e===null?Ji:e}function nh(){var e=R.A;return R.A=jg,e}function yu(){ut=4,Gl||(Me&4194048)!==Me&&dn.current!==null||(si=!0),(Ql&134217727)===0&&(Aa&134217727)===0||Fe===null||Kl(Fe,Me,gn,!1)}function qr(e,t,n){var l=Le;Le|=2;var a=th(),i=nh();(Fe!==e||Me!==t)&&(pu=null,ri(e,t)),t=!1;var u=ut;e:do try{if(Ye!==0&&je!==null){var d=je,p=mn;switch(Ye){case 8:Hr(),u=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(t=!0);var A=Ye;if(Ye=0,mn=null,oi(e,d,p,A),n&&si){u=0;break e}break;default:A=Ye,Ye=0,mn=null,oi(e,d,p,A)}}Rg(),u=ut;break}catch(U){Pd(e,U)}while(!0);return t&&e.shellSuspendCounter++,gl=ya=null,Le=l,R.H=a,R.A=i,je===null&&(Fe=null,Me=0,qs()),u}function Rg(){for(;je!==null;)lh(je)}function Dg(e,t){var n=Le;Le|=2;var l=th(),a=nh();Fe!==e||Me!==t?(pu=null,gu=rt()+500,ri(e,t)):si=Vt(e,t);e:do try{if(Ye!==0&&je!==null){t=je;var i=mn;t:switch(Ye){case 1:Ye=0,mn=null,oi(e,t,i,1);break;case 2:case 9:if(hf(i)){Ye=0,mn=null,ah(t);break}t=function(){Ye!==2&&Ye!==9||Fe!==e||(Ye=7),Pn(e)},i.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:hf(i)?(Ye=0,mn=null,ah(t)):(Ye=0,mn=null,oi(e,t,i,7));break;case 5:var u=null;switch(je.tag){case 26:u=je.memoizedState;case 5:case 27:var d=je;if(u?Gh(u):d.stateNode.complete){Ye=0,mn=null;var p=d.sibling;if(p!==null)je=p;else{var A=d.return;A!==null?(je=A,bu(A)):je=null}break t}}Ye=0,mn=null,oi(e,t,i,5);break;case 6:Ye=0,mn=null,oi(e,t,i,6);break;case 8:Hr(),ut=6;break e;default:throw Error(o(462))}}zg();break}catch(U){Pd(e,U)}while(!0);return gl=ya=null,R.H=l,R.A=a,Le=n,je!==null?0:(Fe=null,Me=0,qs(),ut)}function zg(){for(;je!==null&&!jl();)lh(je)}function lh(e){var t=Ad(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,t===null?bu(e):je=t}function ah(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xd(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=xd(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Pc(t);default:Cd(n,t),t=je=tf(t,Tl),t=Ad(n,t,Tl)}e.memoizedProps=e.pendingProps,t===null?bu(e):je=t}function oi(e,t,n,l){gl=ya=null,Pc(t),Pa=null,ki=0;var a=t.return;try{if(xg(e,a,t,n,Me)){ut=1,su(e,xn(n,e.current)),je=null;return}}catch(i){if(a!==null)throw je=a,i;ut=1,su(e,xn(n,e.current)),je=null;return}t.flags&32768?(ze||l===1?e=!0:si||(Me&536870912)!==0?e=!1:(Gl=e=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ih(t,e)):bu(t)}function bu(e){var t=e;do{if((t.flags&32768)!==0){ih(t,Gl);return}e=t.return;var n=Ng(t.alternate,t,Tl);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ut===0&&(ut=5)}function ih(e,t){do{var n=Tg(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);ut=6,je=null}function sh(e,t,n,l,a,i,u,d,p){e.cancelPendingCommit=null;do Su();while(xt!==0);if((Le&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=_c,ll(e,n,i,u,d,p),e===Fe&&(je=Fe=null,Me=0),ci=t,Zl=e,_l=n,Or=i,Ur=a,$d=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hg(Mn,function(){return fh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null,a=O.p,O.p=2,u=Le,Le|=4;try{_g(e,t,n)}finally{Le=u,O.p=a,R.T=l}}xt=1,uh(),ch(),rh()}}function uh(){if(xt===1){xt=0;var e=Zl,t=ci,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var l=O.p;O.p=2;var a=Le;Le|=4;try{Yd(t,e);var i=Fr,u=Zo(e.containerInfo),d=i.focusedElem,p=i.selectionRange;if(u!==d&&d&&d.ownerDocument&&Vo(d.ownerDocument.documentElement,d)){if(p!==null&&xc(d)){var A=p.start,U=p.end;if(U===void 0&&(U=A),"selectionStart"in d)d.selectionStart=A,d.selectionEnd=Math.min(U,d.value.length);else{var q=d.ownerDocument||document,j=q&&q.defaultView||window;if(j.getSelection){var M=j.getSelection(),ae=d.textContent.length,ge=Math.min(p.start,ae),Ke=p.end===void 0?ge:Math.min(p.end,ae);!M.extend&&ge>Ke&&(u=Ke,Ke=ge,ge=u);var T=Qo(d,ge),x=Qo(d,Ke);if(T&&x&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==x.node||M.focusOffset!==x.offset)){var _=q.createRange();_.setStart(T.node,T.offset),M.removeAllRanges(),ge>Ke?(M.addRange(_),M.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),M.addRange(_))}}}}for(q=[],M=d;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<q.length;d++){var B=q[d];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Du=!!$r,Fr=$r=null}finally{Le=a,O.p=l,R.T=n}}e.current=t,xt=2}}function ch(){if(xt===2){xt=0;var e=Zl,t=ci,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var l=O.p;O.p=2;var a=Le;Le|=4;try{Bd(e,t.alternate,t)}finally{Le=a,O.p=l,R.T=n}}xt=3}}function rh(){if(xt===4||xt===3){xt=0,Ln();var e=Zl,t=ci,n=_l,l=$d;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,ci=Zl=null,oh(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Vl=null),Xn(n),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ot,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=R.T,a=O.p,O.p=2,R.T=null;try{for(var i=e.onRecoverableError,u=0;u<l.length;u++){var d=l[u];i(d.value,{componentStack:d.stack})}}finally{R.T=t,O.p=a}}(_l&3)!==0&&Su(),Pn(e),a=e.pendingLanes,(n&261930)!==0&&(a&42)!==0?e===Br?ls++:(ls=0,Br=e):ls=0,as(0)}}function oh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qi(t)))}function Su(){return uh(),ch(),rh(),fh()}function fh(){if(xt!==5)return!1;var e=Zl,t=Or;Or=0;var n=Xn(_l),l=R.T,a=O.p;try{O.p=32>n?32:n,R.T=null,n=Ur,Ur=null;var i=Zl,u=_l;if(xt=0,ci=Zl=null,_l=0,(Le&6)!==0)throw Error(o(331));var d=Le;if(Le|=4,Zd(i.current),Gd(i,i.current,u,n),Le=d,as(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ot,i)}catch{}return!0}finally{O.p=a,R.T=l,oh(e,t)}}function dh(e,t,n){t=xn(n,t),t=mr(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(St(e,2),Pn(e))}function Xe(e,t,n){if(e.tag===3)dh(e,e,n);else for(;t!==null;){if(t.tag===3){dh(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vl===null||!Vl.has(l))){e=xn(n,e),n=hd(2),l=Ll(t,n,2),l!==null&&(md(n,l,t,e),St(l,2),Pn(l));break}}t=t.return}}function Lr(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Cg;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(n)||(Rr=!0,a.add(n),e=Og.bind(null,e,t,n),t.then(e,e))}function Og(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Me&n)===n&&(ut===4||ut===3&&(Me&62914560)===Me&&300>rt()-mu?(Le&2)===0&&ri(e,0):Dr|=n,ui===Me&&(ui=0)),Pn(e)}function hh(e,t){t===0&&(t=na()),e=ga(e,t),e!==null&&(St(e,t),Pn(e))}function Ug(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hh(e,n)}function Bg(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),hh(e,n)}function Hg(e,t){return tn(e,t)}var xu=null,fi=null,kr=!1,Eu=!1,Yr=!1,Jl=0;function Pn(e){e!==fi&&e.next===null&&(fi===null?xu=fi=e:fi=fi.next=e),Eu=!0,kr||(kr=!0,Lg())}function as(e,t){if(!Yr&&Eu){Yr=!0;do for(var n=!1,l=xu;l!==null;){if(e!==0){var a=l.pendingLanes;if(a===0)var i=0;else{var u=l.suspendedLanes,d=l.pingedLanes;i=(1<<31-bt(42|e)+1)-1,i&=a&~(u&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,vh(l,i))}else i=Me,i=Qt(l,l===Fe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Vt(l,i)||(n=!0,vh(l,i));l=l.next}while(n);Yr=!1}}function qg(){mh()}function mh(){Eu=kr=!1;var e=0;Jl!==0&&$g()&&(e=Jl);for(var t=rt(),n=null,l=xu;l!==null;){var a=l.next,i=gh(l,t);i===0?(l.next=null,n===null?xu=a:n.next=a,a===null&&(fi=n)):(n=l,(e!==0||(i&3)!==0)&&(Eu=!0)),l=a}xt!==0&&xt!==5||as(e),Jl!==0&&(Jl=0)}function gh(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-bt(i),d=1<<u,p=a[u];p===-1?((d&n)===0||(d&l)!==0)&&(a[u]=Si(d,t)):p<=t&&(e.expiredLanes|=d),i&=~d}if(t=Fe,n=Me,n=Qt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&nn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Vt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&nn(l),Xn(n)){case 2:case 8:n=Xt;break;case 32:n=Mn;break;case 268435456:n=Dt;break;default:n=Mn}return l=ph.bind(null,e),n=tn(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&nn(l),e.callbackPriority=2,e.callbackNode=null,2}function ph(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var l=Me;return l=Qt(e,e===Fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Wd(e,l,t),gh(e,rt()),e.callbackNode!=null&&e.callbackNode===n?ph.bind(null,e):null)}function vh(e,t){if(Su())return null;Wd(e,t,!0)}function Lg(){Wg(function(){(Le&6)!==0?tn(ta,qg):mh()})}function Xr(){if(Jl===0){var e=Fa;e===0&&(e=nl,nl<<=1,(nl&261888)===0&&(nl=256)),Jl=e}return Jl}function yh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:On(""+e)}function bh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kg(e,t,n,l,a){if(t==="submit"&&n&&n.stateNode===a){var i=yh((a[tt]||null).action),u=l.submitter;u&&(t=(t=u[tt]||null)?yh(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var d=new qa("action","action",null,l,a);e.push({event:d,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jl!==0){var p=u?bh(a,u):new FormData(a);cr(n,{pending:!0,data:p,method:a.method,action:i},null,p)}}else typeof i=="function"&&(d.preventDefault(),p=u?bh(a,u):new FormData(a),cr(n,{pending:!0,data:p,method:a.method,action:i},i,p))},currentTarget:a}]})}}for(var Gr=0;Gr<Tc.length;Gr++){var Qr=Tc[Gr],Yg=Qr.toLowerCase(),Xg=Qr[0].toUpperCase()+Qr.slice(1);Bn(Yg,"on"+Xg)}Bn($o,"onAnimationEnd"),Bn(Fo,"onAnimationIteration"),Bn(Wo,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(ag,"onTransitionRun"),Bn(ig,"onTransitionStart"),Bn(sg,"onTransitionCancel"),Bn(Io,"onTransitionEnd"),he("onMouseEnter",["mouseout","mouseover"]),he("onMouseLeave",["mouseout","mouseover"]),he("onPointerEnter",["pointerout","pointerover"]),he("onPointerLeave",["pointerout","pointerover"]),oe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oe("onBeforeInput",["compositionend","keypress","textInput","paste"]),oe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(is));function Sh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],a=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var u=l.length-1;0<=u;u--){var d=l[u],p=d.instance,A=d.currentTarget;if(d=d.listener,p!==i&&a.isPropagationStopped())break e;i=d,a.currentTarget=A;try{i(a)}catch(U){Hs(U)}a.currentTarget=null,i=p}else for(u=0;u<l.length;u++){if(d=l[u],p=d.instance,A=d.currentTarget,d=d.listener,p!==i&&a.isPropagationStopped())break e;i=d,a.currentTarget=A;try{i(a)}catch(U){Hs(U)}a.currentTarget=null,i=p}}}}function Ce(e,t){var n=t[an];n===void 0&&(n=t[an]=new Set);var l=e+"__bubble";n.has(l)||(xh(t,e,2,!1),n.add(l))}function Vr(e,t,n){var l=0;t&&(l|=4),xh(n,e,l,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[wu]){e[wu]=!0,G.forEach(function(n){n!=="selectionchange"&&(Gg.has(n)||Vr(n,!1,e),Vr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Vr("selectionchange",!1,t))}}function xh(e,t,n,l){switch(Fh(t)){case 2:var a=vp;break;case 8:a=yp;break;default:a=uo}n=a.bind(null,t,n,e),a=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Kr(e,t,n,l,a){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var u=l.tag;if(u===3||u===4){var d=l.stateNode.containerInfo;if(d===a)break;if(u===4)for(u=l.return;u!==null;){var p=u.tag;if((p===3||p===4)&&u.stateNode.containerInfo===a)return;u=u.return}for(;d!==null;){if(u=sn(d),u===null)return;if(p=u.tag,p===5||p===6||p===26||p===27){l=i=u;continue e}d=d.parentNode}}l=l.return}Oa(function(){var A=i,U=ua(n),q=[];e:{var j=Po.get(e);if(j!==void 0){var M=qa,ae=e;switch(e){case"keypress":if(ca(n)===0)break e;case"keydown":case"keyup":M=fc;break;case"focusin":ae="focus",M=Mi;break;case"focusout":ae="blur",M=Mi;break;case"beforeblur":case"afterblur":M=Mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Ci;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Rs;break;case $o:case Fo:case Wo:M=lc;break;case Io:M=Ds;break;case"scroll":case"scrollend":M=Pu;break;case"wheel":M=zs;break;case"copy":case"cut":case"paste":M=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ms;break;case"toggle":case"beforetoggle":M=pc}var ge=(t&4)!==0,Ke=!ge&&(e==="scroll"||e==="scrollend"),T=ge?j!==null?j+"Capture":null:j;ge=[];for(var x=A,_;x!==null;){var B=x;if(_=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||_===null||T===null||(B=ul(x,T),B!=null&&ge.push(ss(x,B,_))),Ke)break;x=x.return}0<ge.length&&(j=new M(j,ae,null,n,U),q.push({event:j,listeners:ge}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",j&&n!==mt&&(ae=n.relatedTarget||n.fromElement)&&(sn(ae)||ae[Gn]))break e;if((M||j)&&(j=U.window===U?U:(j=U.ownerDocument)?j.defaultView||j.parentWindow:window,M?(ae=n.relatedTarget||n.toElement,M=A,ae=ae?sn(ae):null,ae!==null&&(Ke=y(ae),ge=ae.tag,ae!==Ke||ge!==5&&ge!==27&&ge!==6)&&(ae=null)):(M=null,ae=A),M!==ae)){if(ge=js,B="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Ms,B="onPointerLeave",T="onPointerEnter",x="pointer"),Ke=M==null?j:zn(M),_=ae==null?j:zn(ae),j=new ge(B,x+"leave",M,n,U),j.target=Ke,j.relatedTarget=_,B=null,sn(U)===A&&(ge=new ge(T,x+"enter",ae,n,U),ge.target=_,ge.relatedTarget=Ke,B=ge),Ke=B,M&&ae)t:{for(ge=Qg,T=M,x=ae,_=0,B=T;B;B=ge(B))_++;B=0;for(var de=x;de;de=ge(de))B++;for(;0<_-B;)T=ge(T),_--;for(;0<B-_;)x=ge(x),B--;for(;_--;){if(T===x||x!==null&&T===x.alternate){ge=T;break t}T=ge(T),x=ge(x)}ge=null}else ge=null;M!==null&&Eh(q,j,M,ge,!1),ae!==null&&Ke!==null&&Eh(q,Ke,ae,ge,!0)}}e:{if(j=A?zn(A):window,M=j.nodeName&&j.nodeName.toLowerCase(),M==="select"||M==="input"&&j.type==="file")var He=qo;else if(Ya(j))if(Lo)He=tg;else{He=Pm;var ie=Im}else M=j.nodeName,!M||M.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?A&&za(A.elementType)&&(He=qo):He=eg;if(He&&(He=He(e,A))){fl(q,He,n,U);break e}ie&&ie(e,j,A),e==="focusout"&&A&&j.type==="number"&&A.memoizedProps.value!=null&&un(j,"number",j.value)}switch(ie=A?zn(A):window,e){case"focusin":(Ya(ie)||ie.contentEditable==="true")&&(Xa=ie,Ec=A,Ui=null);break;case"focusout":Ui=Ec=Xa=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Ko(q,n,U);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":Ko(q,n,U)}var Ne;if(Di)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Se?V(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(rl&&n.locale!=="ko"&&(Se||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Se&&(Ne=_i()):($n=U,Ba="value"in $n?$n.value:$n.textContent,Se=!0)),ie=Nu(A,Re),0<ie.length&&(Re=new Cs(Re,e,null,n,U),q.push({event:Re,listeners:ie}),Ne?Re.data=Ne:(Ne=le(n),Ne!==null&&(Re.data=Ne)))),(Ne=yc?_e(e,n):wt(e,n))&&(Re=Nu(A,"onBeforeInput"),0<Re.length&&(ie=new Cs("onBeforeInput","beforeinput",null,n,U),q.push({event:ie,listeners:Re}),ie.data=Ne)),kg(q,e,A,n,U)}Sh(q,t)})}function ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nu(e,t){for(var n=t+"Capture",l=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ul(e,n),a!=null&&l.unshift(ss(e,a,i)),a=ul(e,t),a!=null&&l.push(ss(e,a,i))),e.tag===3)return l;e=e.return}return[]}function Qg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eh(e,t,n,l,a){for(var i=t._reactName,u=[];n!==null&&n!==l;){var d=n,p=d.alternate,A=d.stateNode;if(d=d.tag,p!==null&&p===l)break;d!==5&&d!==26&&d!==27||A===null||(p=A,a?(A=ul(n,i),A!=null&&u.unshift(ss(n,A,p))):a||(A=ul(n,i),A!=null&&u.push(ss(n,A,p)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Vg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function wh(e){return(typeof e=="string"?e:""+e).replace(Vg,`
`).replace(Zg,"")}function Nh(e,t){return t=wh(t),wh(e)===t}function Ze(e,t,n,l,a,i){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&bn(e,""+l);break;case"className":it(e,"class",l);break;case"tabIndex":it(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,l);break;case"style":rn(e,l,i);break;case"data":if(t!=="object"){it(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=On(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ze(e,t,"name",a.name,a,null),Ze(e,t,"formEncType",a.formEncType,a,null),Ze(e,t,"formMethod",a.formMethod,a,null),Ze(e,t,"formTarget",a.formTarget,a,null)):(Ze(e,t,"encType",a.encType,a,null),Ze(e,t,"method",a.method,a,null),Ze(e,t,"target",a.target,a,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=On(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Un);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=On(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Ae(e,"popover",l);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ae(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ts.get(n)||n,Ae(e,n,l))}}function Jr(e,t,n,l,a,i){switch(n){case"style":rn(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),i=e[tt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof l=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,a);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Ae(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var l=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,i,u,n,null)}}a&&Ze(e,t,"srcSet",n.srcSet,n,null),l&&Ze(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var d=i=u=a=null,p=null,A=null;for(l in n)if(n.hasOwnProperty(l)){var U=n[l];if(U!=null)switch(l){case"name":a=U;break;case"type":u=U;break;case"checked":p=U;break;case"defaultChecked":A=U;break;case"value":i=U;break;case"defaultValue":d=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,t));break;default:Ze(e,t,l,U,n,null)}}Ni(e,i,d,p,A,u,a,!1);return;case"select":Ce("invalid",e),l=u=i=null;for(a in n)if(n.hasOwnProperty(a)&&(d=n[a],d!=null))switch(a){case"value":i=d;break;case"defaultValue":u=d;break;case"multiple":l=d;default:Ze(e,t,a,d,n,null)}t=i,n=u,e.multiple=!!l,t!=null?cn(e,!!l,t,!1):n!=null&&cn(e,!!l,n,!0);return;case"textarea":Ce("invalid",e),i=a=l=null;for(u in n)if(n.hasOwnProperty(u)&&(d=n[u],d!=null))switch(u){case"value":l=d;break;case"defaultValue":a=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:Ze(e,t,u,d,n,null)}Kn(e,l,a,i);return;case"option":for(p in n)n.hasOwnProperty(p)&&(l=n[p],l!=null)&&(p==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(e,t,p,l,n,null));return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(l=0;l<is.length;l++)Ce(is[l],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in n)if(n.hasOwnProperty(A)&&(l=n[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,A,l,n,null)}return;default:if(za(t)){for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!==void 0&&Jr(e,t,U,l,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(l=n[d],l!=null&&Ze(e,t,d,l,n,null))}function Kg(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,u=null,d=null,p=null,A=null,U=null;for(M in n){var q=n[M];if(n.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":p=q;default:l.hasOwnProperty(M)||Ze(e,t,M,null,l,q)}}for(var j in l){var M=l[j];if(q=n[j],l.hasOwnProperty(j)&&(M!=null||q!=null))switch(j){case"type":i=M;break;case"name":a=M;break;case"checked":A=M;break;case"defaultChecked":U=M;break;case"value":u=M;break;case"defaultValue":d=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:M!==q&&Ze(e,t,j,M,l,q)}}Da(e,u,d,p,A,U,i,a);return;case"select":M=u=d=j=null;for(i in n)if(p=n[i],n.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":M=p;default:l.hasOwnProperty(i)||Ze(e,t,i,null,l,p)}for(a in l)if(i=l[a],p=n[a],l.hasOwnProperty(a)&&(i!=null||p!=null))switch(a){case"value":j=i;break;case"defaultValue":d=i;break;case"multiple":u=i;default:i!==p&&Ze(e,t,a,i,l,p)}t=d,n=u,l=M,j!=null?cn(e,!!n,j,!1):!!l!=!!n&&(t!=null?cn(e,!!n,t,!0):cn(e,!!n,n?[]:"",!1));return;case"textarea":M=j=null;for(d in n)if(a=n[d],n.hasOwnProperty(d)&&a!=null&&!l.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Ze(e,t,d,null,l,a)}for(u in l)if(a=l[u],i=n[u],l.hasOwnProperty(u)&&(a!=null||i!=null))switch(u){case"value":j=a;break;case"defaultValue":M=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(o(91));break;default:a!==i&&Ze(e,t,u,a,l,i)}Ti(e,j,M);return;case"option":for(var ae in n)j=n[ae],n.hasOwnProperty(ae)&&j!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?e.selected=!1:Ze(e,t,ae,null,l,j));for(p in l)j=l[p],M=n[p],l.hasOwnProperty(p)&&j!==M&&(j!=null||M!=null)&&(p==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Ze(e,t,p,j,l,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in n)j=n[ge],n.hasOwnProperty(ge)&&j!=null&&!l.hasOwnProperty(ge)&&Ze(e,t,ge,null,l,j);for(A in l)if(j=l[A],M=n[A],l.hasOwnProperty(A)&&j!==M&&(j!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,t));break;default:Ze(e,t,A,j,l,M)}return;default:if(za(t)){for(var Ke in n)j=n[Ke],n.hasOwnProperty(Ke)&&j!==void 0&&!l.hasOwnProperty(Ke)&&Jr(e,t,Ke,void 0,l,j);for(U in l)j=l[U],M=n[U],!l.hasOwnProperty(U)||j===M||j===void 0&&M===void 0||Jr(e,t,U,j,l,M);return}}for(var T in n)j=n[T],n.hasOwnProperty(T)&&j!=null&&!l.hasOwnProperty(T)&&Ze(e,t,T,null,l,j);for(q in l)j=l[q],M=n[q],!l.hasOwnProperty(q)||j===M||j==null&&M==null||Ze(e,t,q,j,l,M)}function Th(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var a=n[l],i=a.transferSize,u=a.initiatorType,d=a.duration;if(i&&d&&Th(u)){for(u=0,d=a.responseEnd,l+=1;l<n.length;l++){var p=n[l],A=p.startTime;if(A>d)break;var U=p.transferSize,q=p.initiatorType;U&&Th(q)&&(p=p.responseEnd,u+=U*(p<d?1:(d-A)/(p-A)))}if(--l,t+=8*(i+u)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $r=null,Fr=null;function Tu(e){return e.nodeType===9?e:e.ownerDocument}function _h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ah(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ir=null;function $g(){var e=window.event;return e&&e.type==="popstate"?e===Ir?!1:(Ir=e,!0):(Ir=null,!1)}var jh=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,Wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(Ig)}:jh;function Ig(e){setTimeout(function(){throw e})}function $l(e){return e==="head"}function Mh(e,t){var n=t,l=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(a),gi(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")us(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,us(n);for(var i=n.firstChild;i;){var u=i.nextSibling,d=i.nodeName;i[Dn]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=u}}else n==="body"&&us(e.ownerDocument.body);n=a}while(n);gi(t)}function Rh(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Pr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pr(n),al(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Pg(e,t,n,l){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Dn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=_n(e.nextSibling),e===null)break}return null}function ep(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=_n(e.nextSibling),e===null))return null;return e}function Dh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_n(e.nextSibling),e===null))return null;return e}function eo(e){return e.data==="$?"||e.data==="$~"}function to(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tp(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var no=null;function zh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return _n(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Uh(e,t,n){switch(t=Tu(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);al(e)}var An=new Map,Bh=new Set;function _u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Al=O.d;O.d={f:np,r:lp,D:ap,C:ip,L:sp,m:up,X:rp,S:cp,M:op};function np(){var e=Al.f(),t=vu();return e||t}function lp(e){var t=Vn(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):Al.r(e)}var di=typeof document>"u"?null:document;function Hh(e,t,n){var l=di;if(l&&typeof t=="string"&&t){var a=Jt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Bh.has(a)||(Bh.add(a),e={rel:e,crossOrigin:n,href:t},l.querySelector(a)===null&&(t=l.createElement("link"),Rt(t,"link",e),E(t),l.head.appendChild(t)))}}function ap(e){Al.D(e),Hh("dns-prefetch",e,null)}function ip(e,t){Al.C(e,t),Hh("preconnect",e,t)}function sp(e,t,n){Al.L(e,t,n);var l=di;if(l&&e&&t){var a='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Jt(n.imageSizes)+'"]')):a+='[href="'+Jt(e)+'"]';var i=a;switch(t){case"style":i=hi(e);break;case"script":i=mi(e)}An.has(i)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(i,e),l.querySelector(a)!==null||t==="style"&&l.querySelector(cs(i))||t==="script"&&l.querySelector(rs(i))||(t=l.createElement("link"),Rt(t,"link",e),E(t),l.head.appendChild(t)))}}function up(e,t){Al.m(e,t);var n=di;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',i=a;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=mi(e)}if(!An.has(i)&&(e=C({rel:"modulepreload",href:e},t),An.set(i,e),n.querySelector(a)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rs(i)))return}l=n.createElement("link"),Rt(l,"link",e),E(l),n.head.appendChild(l)}}}function cp(e,t,n){Al.S(e,t,n);var l=di;if(l&&e){var a=Bt(l).hoistableStyles,i=hi(e);t=t||"default";var u=a.get(i);if(!u){var d={loading:0,preload:null};if(u=l.querySelector(cs(i)))d.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(i))&&lo(e,n);var p=u=l.createElement("link");E(p),Rt(p,"link",e),p._p=new Promise(function(A,U){p.onload=A,p.onerror=U}),p.addEventListener("load",function(){d.loading|=1}),p.addEventListener("error",function(){d.loading|=2}),d.loading|=4,Au(u,t,l)}u={type:"stylesheet",instance:u,count:1,state:d},a.set(i,u)}}}function rp(e,t){Al.X(e,t);var n=di;if(n&&e){var l=Bt(n).hoistableScripts,a=mi(e),i=l.get(a);i||(i=n.querySelector(rs(a)),i||(e=C({src:e,async:!0},t),(t=An.get(a))&&ao(e,t),i=n.createElement("script"),E(i),Rt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(a,i))}}function op(e,t){Al.M(e,t);var n=di;if(n&&e){var l=Bt(n).hoistableScripts,a=mi(e),i=l.get(a);i||(i=n.querySelector(rs(a)),i||(e=C({src:e,async:!0,type:"module"},t),(t=An.get(a))&&ao(e,t),i=n.createElement("script"),E(i),Rt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(a,i))}}function qh(e,t,n,l){var a=(a=ue.current)?_u(a):null;if(!a)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hi(n.href),n=Bt(a).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hi(n.href);var i=Bt(a).hoistableStyles,u=i.get(e);if(u||(a=a.ownerDocument||a,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=a.querySelector(cs(e)))&&!i._p&&(u.instance=i,u.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),i||fp(a,e,n,u.state))),t&&l===null)throw Error(o(528,""));return u}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=mi(n),n=Bt(a).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function hi(e){return'href="'+Jt(e)+'"'}function cs(e){return'link[rel="stylesheet"]['+e+"]"}function Lh(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function fp(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),E(t),e.head.appendChild(t))}function mi(e){return'[src="'+Jt(e)+'"]'}function rs(e){return"script[async]"+e}function kh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(l)return t.instance=l,E(l),l;var a=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),E(l),Rt(l,"style",a),Au(l,n.precedence,e),t.instance=l;case"stylesheet":a=hi(n.href);var i=e.querySelector(cs(a));if(i)return t.state.loading|=4,t.instance=i,E(i),i;l=Lh(n),(a=An.get(a))&&lo(l,a),i=(e.ownerDocument||e).createElement("link"),E(i);var u=i;return u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),Rt(i,"link",l),t.state.loading|=4,Au(i,n.precedence,e),t.instance=i;case"script":return i=mi(n.src),(a=e.querySelector(rs(i)))?(t.instance=a,E(a),a):(l=n,(a=An.get(i))&&(l=C({},n),ao(l,a)),e=e.ownerDocument||e,a=e.createElement("script"),E(a),Rt(a,"link",l),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Au(l,n.precedence,e));return t.instance}function Au(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=l.length?l[l.length-1]:null,i=a,u=0;u<l.length;u++){var d=l[u];if(d.dataset.precedence===t)i=d;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ju=null;function Yh(e,t,n){if(ju===null){var l=new Map,a=ju=new Map;a.set(n,l)}else a=ju,l=a.get(n),l||(l=new Map,a.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Dn]||i[De]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var d=l.get(u);d?d.push(i):l.set(u,[i])}}return l}function Xh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function dp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hp(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=hi(l.href),i=t.querySelector(cs(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,E(i);return}i=t.ownerDocument||t,l=Lh(l),(a=An.get(a))&&lo(l,a),i=i.createElement("link"),E(i);var u=i;u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),Rt(i,"link",l),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Cu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var io=0;function mp(e,t){return e.stylesheets&&e.count===0&&Ru(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&io===0&&(io=62500*Jg());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>io?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(a)}}:null}function Cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Ru(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(gp,e),Mu=null,Cu.call(e))}function gp(e,t){if(!(t.state.loading&4)){var n=Mu.get(e);if(n)var l=n.get(null);else{n=new Map,Mu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var u=a[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),l=u)}l&&n.set(null,l)}a=t.instance,u=a.getAttribute("data-precedence"),i=n.get(u)||l,i===l&&n.set(null,a),n.set(u,a),this.count++,l=Cu.bind(this),a.addEventListener("load",l),a.addEventListener("error",l),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var os={$$typeof:ce,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function pp(e,t,n,l,a,i,u,d,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=l,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Qh(e,t,n,l,a,i,u,d,p,A,U,q){return e=new pp(e,t,n,u,p,A,U,q,d),t=1,i===!0&&(t|=24),i=fn(3,null,null,t),e.current=i,i.stateNode=e,t=qc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:n,cache:t},Xc(i),e}function Vh(e){return e?(e=Va,e):Va}function Zh(e,t,n,l,a,i){a=Vh(a),l.context===null?l.context=a:l.pendingContext=a,l=ql(t),l.payload={element:n},i=i===void 0?null:i,i!==null&&(l.callback=i),n=Ll(e,l,t),n!==null&&(Pt(n,e,t),Xi(n,e,t))}function Kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function so(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}function Jh(e){if(e.tag===13||e.tag===31){var t=ga(e,67108864);t!==null&&Pt(t,e,67108864),so(e,67108864)}}function $h(e){if(e.tag===13||e.tag===31){var t=pn();t=Ml(t);var n=ga(e,t);n!==null&&Pt(n,e,t),so(e,t)}}var Du=!0;function vp(e,t,n,l){var a=R.T;R.T=null;var i=O.p;try{O.p=2,uo(e,t,n,l)}finally{O.p=i,R.T=a}}function yp(e,t,n,l){var a=R.T;R.T=null;var i=O.p;try{O.p=8,uo(e,t,n,l)}finally{O.p=i,R.T=a}}function uo(e,t,n,l){if(Du){var a=co(l);if(a===null)Kr(e,t,l,zu,n),Wh(e,l);else if(Sp(a,e,t,n,l))l.stopPropagation();else if(Wh(e,l),t&4&&-1<bp.indexOf(e)){for(;a!==null;){var i=Vn(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=ht(i.pendingLanes);if(u!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;u;){var p=1<<31-bt(u);d.entanglements[1]|=p,u&=~p}Pn(i),(Le&6)===0&&(gu=rt()+500,as(0))}}break;case 31:case 13:d=ga(i,2),d!==null&&Pt(d,i,2),vu(),so(i,2)}if(i=co(l),i===null&&Kr(e,t,l,zu,n),i===a)break;a=i}a!==null&&l.stopPropagation()}else Kr(e,t,l,null,n)}}function co(e){return e=ua(e),ro(e)}var zu=null;function ro(e){if(zu=null,e=sn(e),e!==null){var t=y(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zu=e,null}function Fh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case ta:return 2;case Xt:return 8;case Mn:case el:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var oo=!1,Fl=null,Wl=null,Il=null,fs=new Map,ds=new Map,Pl=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wh(e,t){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function hs(e,t,n,l,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Vn(t),t!==null&&Jh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Sp(e,t,n,l,a){switch(t){case"focusin":return Fl=hs(Fl,e,t,n,l,a),!0;case"dragenter":return Wl=hs(Wl,e,t,n,l,a),!0;case"mouseover":return Il=hs(Il,e,t,n,l,a),!0;case"pointerover":var i=a.pointerId;return fs.set(i,hs(fs.get(i)||null,e,t,n,l,a)),!0;case"gotpointercapture":return i=a.pointerId,ds.set(i,hs(ds.get(i)||null,e,t,n,l,a)),!0}return!1}function Ih(e){var t=sn(e.target);if(t!==null){var n=y(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,Rn(e.priority,function(){$h(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,Rn(e.priority,function(){$h(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=co(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);mt=l,n.target.dispatchEvent(l),mt=null}else return t=Vn(n),t!==null&&Jh(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){Ou(e)&&n.delete(t)}function xp(){oo=!1,Fl!==null&&Ou(Fl)&&(Fl=null),Wl!==null&&Ou(Wl)&&(Wl=null),Il!==null&&Ou(Il)&&(Il=null),fs.forEach(Ph),ds.forEach(Ph)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xp)))}var Bu=null;function em(e){Bu!==e&&(Bu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bu===e&&(Bu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],a=e[t+2];if(typeof l!="function"){if(ro(l||n)===null)continue;break}var i=Vn(n);i!==null&&(e.splice(t,3),t-=3,cr(i,{pending:!0,data:a,method:n.method,action:l},l,a))}}))}function gi(e){function t(p){return Uu(p,e)}Fl!==null&&Uu(Fl,e),Wl!==null&&Uu(Wl,e),Il!==null&&Uu(Il,e),fs.forEach(t),ds.forEach(t);for(var n=0;n<Pl.length;n++){var l=Pl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Ih(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var a=n[l],i=n[l+1],u=a[tt]||null;if(typeof i=="function")u||em(n);else if(u){var d=null;if(i&&i.hasAttribute("formAction")){if(a=i,u=i[tt]||null)d=u.formAction;else if(ro(a)!==null)continue}else d=u.action;typeof d=="function"?n[l+1]=d:(n.splice(l,3),l-=3),em(n)}}}function tm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(u){return a=u})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function fo(e){this._internalRoot=e}Hu.prototype.render=fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=pn();Zh(n,l,e,t,null,null)},Hu.prototype.unmount=fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),vu(),t[Gn]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ra();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&Ih(e)}};var nm=c.version;if(nm!=="19.2.4")throw Error(o(527,nm,"19.2.4"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var Ep={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ot=qu.inject(Ep),_t=qu}catch{}}return gs.createRoot=function(e,t){if(!h(e))throw Error(o(299));var n=!1,l="",a=rd,i=od,u=fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Qh(e,1,!1,null,null,n,l,null,a,i,u,tm),e[Gn]=t.current,Zr(e),new fo(t)},gs.hydrateRoot=function(e,t,n){if(!h(e))throw Error(o(299));var l=!1,a="",i=rd,u=od,d=fd,p=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=Qh(e,1,!0,t,n??null,l,a,p,i,u,d,tm),t.context=Vh(null),n=t.current,l=pn(),l=Ml(l),a=ql(l),a.callback=null,Ll(n,a,l),n=l,t.current.lanes=n,St(t,n),Pn(t),e[Gn]=t.current,Zr(e),new Hu(t)},gs.version="19.2.4",gs}var dm;function Rp(){if(dm)return go.exports;dm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),go.exports=Mp(),go.exports}var Dp=Rp();function zp(){return r.jsxs("footer",{className:"marker-footer","aria-label":"Site footer",children:[r.jsx("div",{className:"footer-copy",children:" 2025 Vysti Research. All rights reserved."}),r.jsx("img",{className:"footer-logo",src:"/assets/logo_black.png",alt:"Vysti"})]})}let vs=null,Lu=null;async function Cm(){return vs||Lu||(Lu=(async()=>{const s=await fetch("/student-react-config.json",{cache:"no-store"});if(!s.ok)throw new Error(`Failed to load runtime config (${s.status})`);const c=await s.json();if(!c||typeof c!="object")throw new Error("Invalid runtime config");return vs=c,window.__vystiRuntimeConfig=c,vs})(),Lu)}function Ro(){return vs||window.__vystiRuntimeConfig||{}}function Ku(s="https://vysti-rules.onrender.com"){const c=Ro().apiBaseUrl||s;return String(c).replace(/\/$/,"")}function Op(){return document.querySelector('meta[name="app-build-id"]')?.content||"dev"}const hm={apiBaseUrl:"",supabaseUrl:"",supabaseAnonKey:"",buildId:"",featureFlags:{reactBeta:!1,revisionPracticeReact:!1,debugRevisionPractice:!1,practiceNavigationReact:!1,practiceHighlightReact:!1,debugPracticeNavigation:!1,hardeningReact:!1,cancelRequestsReact:!1,strictFileValidationReact:!1,statusToastsReact:!1,debugHardening:!1,autosaveDraftReact:!1,revisionHistoryReact:!1,debugAutosave:!1,debugHistory:!1}};let ja=null,wo=null;const No=s=>{const c={...hm,...s||{},featureFlags:{...hm.featureFlags,...s?.featureFlags||{}}};return c.buildId||(c.buildId=Op()),c},Up=s=>!s.supabaseUrl||!s.supabaseAnonKey||!s.apiBaseUrl?new Error("Missing required app configuration."):null,Bp=1.5;async function Hp(){if(ja)return ja;try{await Cm();const c=Ro();ja=No(c)}catch(c){wo=c,ja=No()}const s=Up(ja);return s&&(wo=s),ja}function ws(){return ja||No()}function Mm(){return wo}const Rm=[{value:"textual_analysis",label:"Analytic essay"},{value:"peel_paragraph",label:"Mini-essay paragraph"},{value:"reader_response",label:"Reader response"},{value:"argumentation",label:"Argumentation"}],mm={textual_analysis:{description:"A formal and academic essay of analysis with all Vysti Rules running.",details:["No first-person allowed or personal pronouns","First sentence should state the author, genre, title, and summary.","Requires a closed thesis statement.","Requires quoted evidence in body paragraphs.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},peel_paragraph:{description:"One focused analytical paragraph following the Vysti Rules.",details:["The first sentence should state the author, genre, title, and summary.","The first sentence should include devices and/or strategies like a closed thesis","No first-person allowed or personal pronouns","Requires quoted evidence in the body of the paragraph.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},reader_response:{description:"More personal voice allowed, but still needs argument + evidence.",details:["Allows first-person and personal pronouns","Allows contractions and 'which'","First sentence should state the author, genre, title, and summary.","Requires a closed thesis statement.","Requires quoted evidence in body paragraphs.","Strict requirements on organization, evidence, and language.","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]},argumentation:{description:"Argumentation is more open mode beyond textual analysis.",details:["Allows for past tense.","Allows first-person and personal pronouns","Aqua-blue highlights repetitive 'and', weak verbs, and unclarified antecedents","Red strikethroughs forbidden terms."]}};function qp(){const{buildId:s}=ws(),c=()=>{try{localStorage.setItem("uiMode","classic")}catch{}};return r.jsxs("div",{className:"beta-banner",role:"status","aria-live":"polite",children:[r.jsx("span",{className:"beta-badge",children:"React Beta"}),r.jsxs("span",{className:"beta-text",children:["React Beta  if anything looks wrong, use"," ",r.jsx("a",{href:"/student.html",onClick:c,children:"student.html"})]}),s?r.jsxs("span",{className:"beta-build",children:["Build ",s]}):null,r.jsx("a",{className:"beta-link",href:"/student.html",onClick:c,children:"Return to classic student.html"})]})}let Ju="";const Gu=[];let Dm=null;const Lp=s=>{Gu.push(s),Gu.length>50&&Gu.shift()};function kp(s){Ju=s?.buildId||""}function jn(s,c={}){Lp({type:s,details:c,buildId:Ju,at:new Date().toISOString()})}function en(s,c={}){Dm={message:s,...c,at:new Date().toISOString(),buildId:Ju},jn("error",{message:s,...c})}function zm(){return{buildId:Ju,lastError:Dm,recentEvents:Gu.slice(-12)}}const Yp=/key|secret|token|anonkey|authorization/i,gm=(s,c="full")=>{const f=String(s||"");return f&&c==="partial"&&f.length>=8?`${f.slice(0,4)}${f.slice(-4)}`:"[REDACTED]"},Xp=s=>s?Yp.test(String(s)):!1,Gp=(s,c)=>c==="supabaseAnonKey"?gm(s,"partial"):Xp(c)?gm(s):s,To=s=>{if(Array.isArray(s))return s.map(f=>To(f));if(!s||typeof s!="object")return s;const c={};return Object.entries(s).forEach(([f,o])=>{o&&typeof o=="object"?c[f]=To(o):c[f]=Gp(o,f)}),c};function Qp(s){return To(s)}function Vp({data:s,isOpen:c,onToggle:f,rolloutConfig:o,rolloutReason:h,uiMode:y,buildId:v,onForceClassic:N,onForceReact:S,onClearUiMode:m}){const[D,C]=g.useState(!1),[Y,k]=g.useState(""),K=g.useRef(null),ee=typeof f=="function"?c:D,W=()=>{typeof f=="function"?f():C(J=>!J)};g.useEffect(()=>{ee&&K.current?.focus()},[ee]);const P=g.useMemo(()=>{if(!ee)return"";const J=s||zm(),te=Qp(J);return JSON.stringify(te,null,2)},[s,ee]),I=async()=>{try{await navigator.clipboard.writeText(P),k("Copied.")}catch{k("Copy failed.")}window.setTimeout(()=>k(""),2e3)},ce=o?JSON.stringify(o,null,2):"Missing rollout config",ne=h?JSON.stringify(h,null,2):"No rollout reason";return r.jsxs("div",{className:"diagnostics",children:[r.jsx("button",{type:"button",className:"diagnostics-link",onClick:W,"aria-expanded":ee,children:"Diagnostics"}),ee?r.jsxs("div",{className:"diagnostics-panel",role:"dialog","aria-modal":"true",tabIndex:-1,ref:K,onKeyDown:J=>{if(J.key==="Escape"&&(J.preventDefault(),W()),J.key==="Tab"){const te=K.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!te||te.length===0)return;const Q=Array.from(te),F=Q[0],ve=Q[Q.length-1];J.shiftKey&&document.activeElement===F?(J.preventDefault(),ve.focus()):!J.shiftKey&&document.activeElement===ve&&(J.preventDefault(),F.focus())}},children:[r.jsxs("div",{className:"diagnostics-row",children:[r.jsx("button",{type:"button",className:"secondary-btn",onClick:I,children:"Copy debug info"}),Y?r.jsx("span",{className:"diagnostics-status",children:Y}):null]}),r.jsxs("div",{className:"diagnostics-row diagnostics-controls",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"diagnostics-status",children:["uiMode: ",y||"unset"]}),r.jsxs("div",{className:"diagnostics-status",children:["buildId: ",v||"unknown"]})]}),r.jsxs("div",{className:"diagnostics-actions",children:[r.jsx("button",{type:"button",className:"secondary-btn",onClick:N,children:"Force Classic"}),r.jsx("button",{type:"button",className:"secondary-btn",onClick:S,children:"Force React"}),r.jsx("button",{type:"button",className:"secondary-btn",onClick:m,children:"Clear override"})]})]}),r.jsx("pre",{className:"diagnostics-pre",children:ne}),r.jsx("pre",{className:"diagnostics-pre",children:ce}),r.jsx("pre",{className:"diagnostics-pre",children:P})]}):null]})}function Zp({mode:s,onChange:c}){return r.jsxs("label",{children:[r.jsx("span",{className:"label-row mode-select-label-row",children:r.jsx("span",{className:"visually-hidden",children:"Assignment type"})}),r.jsx("select",{id:"mode",value:s,onChange:f=>c(f.target.value),"aria-label":"Assignment type",children:Rm.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))})]})}function Kp({label:s,description:c,details:f=[]}){const[o,h]=g.useState(!1);return r.jsxs("div",{className:"mode-card",id:"modeCard",children:[r.jsxs("div",{className:"mode-card-header",children:[r.jsx("span",{className:"mode-badge",id:"modeBadge",children:s}),r.jsx("span",{className:"mode-tag",id:"modeTag"})]}),r.jsx("div",{className:"mode-desc",id:"modeDesc",children:c}),r.jsx("button",{type:"button",className:"mode-more",id:"modeMoreBtn","aria-expanded":o,onClick:()=>h(y=>!y),children:o?"Hide details":"Want more details?"}),r.jsx("div",{className:"mode-details",id:"modeDetails",hidden:!o,children:r.jsx("ul",{id:"modeDetailsList",children:f.map(y=>r.jsx("li",{children:y},y))})})]})}function Jp({blob:s,zoom:c,containerRef:f,onError:o,onEdit:h}){const y=g.useRef(0),v=g.useRef(null);g.useEffect(()=>{const N=f.current;if(!N)return;y.current+=1;const S=y.current;if(N.innerHTML="",!s){N.innerHTML="<p class='preview-empty'>Upload and mark an essay to preview it here.</p>";return}return(async()=>{try{const D=window.docx?.renderAsync||window.docxPreview?.renderAsync;if(!D){const Y=new Error("Preview library not loaded");o&&o(Y);return}const C=await s.arrayBuffer();if(S!==y.current||(await D(C,N,null,{inWrapper:!0}),S!==y.current))return;if(N.contentEditable="true",N.spellcheck=!0,N.classList.add("preview-editable"),N.style.zoom=c,typeof h=="function"){const Y=()=>h();v.current=Y,N.addEventListener("input",Y),N.addEventListener("paste",Y)}o&&o(null)}catch(D){if(console.error("Failed to render preview",D),S!==y.current)return;o&&o(D)}})(),()=>{v.current&&(N.removeEventListener("input",v.current),N.removeEventListener("paste",v.current),v.current=null),y.current+=1}},[s,f,o,h,c])}const $p=["Avoid referring to the reader or audience unless necessary","Avoid the words 'therefore', 'thereby', 'hence', and 'thus'","Use the authors name instead of 'the author'"],Fp=["Avoid the word 'which'","Avoid using the word 'and' more than twice in a sentence","Shorten, modify, and integrate quotations"],Wp=["Avoid overly general words like 'society', 'universe', 'reality', 'life', and 'truth'","Clarify pronouns and antecedents","Do not refer to the text as a text; refer to context instead","Avoid absolute language like 'always' or 'never'"],Om={power:{title:"Power",body:"Power measures how specific your verb choices are (avoiding weak verbs like show/use).",tips:["Swap show/use for precise verbs (illustrates, highlights, underscores).","Avoid repeating the same verb across sentences.","Aim for verbs that express analysis, not reporting."]},variety:{title:"Variety",body:"Variety measures analytical depth across techniques, evidence, development, and structure.",tips:["Use 3+ unique devices per body paragraph.","Add 2+ short quotes per body paragraph.","Build paragraphs to 4+ sentences with varied starts."]},cohesion:{title:"Cohesion",body:"Cohesion measures how well ideas connect within paragraphs (sentence boundaries) and across paragraph breaks (paragraph boundaries). You earn the most points from boundary statementsrepeating key content words or word families.",tips:["Carry a thesis noun into each paragraphs topic sentence.","Repeat a key noun/verb/adjective or its word family (race  racial).","Use occasional within-paragraph transitions, but avoid repeats."]},precision:{title:"Precision",body:"Precision measures unnecessary, wordy, and imprecise language that can weaken analysis.",tips:['Unnecessary: remove filler, reader/audience, banned connectors, and "the author".',"Wordy: cut which-clauses, too-many-and chains, and long quotations.","Imprecise: avoid vague terms, unclear pronouns, text-as-text, and absolutes."]}},pm=new Set(["show","shows","showed","shown","showing","use","uses","used","using","make","makes","made","making","do","does","did","doing","get","gets","got","getting","have","has","had","having"]),Ip=new Map([["show","show"],["shows","show"],["showed","show"],["shown","show"],["showing","show"],["use","use"],["uses","use"],["used","use"],["using","use"],["make","make"],["makes","make"],["made","make"],["making","make"],["do","do"],["does","do"],["did","do"],["doing","do"],["get","get"],["gets","get"],["got","get"],["getting","get"],["have","have"],["has","have"],["had","have"],["having","have"]]),Pp=new Set(["this","that","these","those","it","they","he","she","we","i","you","there"]),Um=new Set(["the","a","an","and","or","but","if","then","so","because","since","as","while","when","after","before","though","although","however","therefore","thus","moreover","furthermore","additionally","also","likewise","similarly","from","into","onto","with","within","without","of","to","in","on","at","by","for","about","over","under","between","through","during","is","are","was","were","be","been","being","am","have","has","had","do","does","did","doing","that","this","these","those","it","its","their","they","them","he","she","his","her","we","our","us","you","your","i","me","my","mine","yours","ours","theirs","not","no","yes","can","could","would","should","may","might","must","will","just","very","really","more","most","less","least","such","than","too","each","every","some","any","all","both","either","neither","nor","own","same","other","another","there","here","then","now","who","whom","which","what","where","why","how","up","down","out","off","again","further","once"]),ev=new Set([...Um,"essay","text","story","novel","poem","poetry","author","writer","reader","audience","character","quote","quotation","example","evidence","paragraph","sentence","chapter"]),yi=(s,c,f)=>Math.min(Math.max(s,c),f),Do=s=>String(s||"").replace(/[]/g,'"').replace(/[]/g,"'").replace(/[]/g,"-"),Bm=s=>Do(s).replace(/\r\n/g,`
`).replace(/\r/g,`
`),tv=s=>String(s||"").replace(/"[^"]+"/g," "),$u=s=>(String(s||"").toLowerCase().match(/[a-z']+/g)||[]).filter(Boolean),nv=s=>Bm(s).split(/\n\s*\n+/).map(c=>c.trim()).filter(Boolean),Qu=s=>Do(s).split(new RegExp("(?<=[.!?])\\s+")).map(c=>c.trim()).filter(Boolean),lv=s=>{const c=$u(s);if(!c.length)return"";let f=0;for(;f<c.length&&Um.has(c[f]);)f+=1;return c[f]||c[0]||""},av=s=>{const c=String(s||"").match(/"[^"]{2,140}"/g);return c?c.length:0},iv=s=>{const c=nv(s),f=c.filter(o=>$u(o).length>=5);return{rawParagraphs:c,filteredParagraphs:f}},sv=s=>s.length<=2?s.map((c,f)=>f):s.slice(1,-1).map((c,f)=>f+1),bo=(s,c)=>s.reduce((f,o)=>f+(Number(c?.[o])||0),0),uv=s=>{const c=Number(s)||0;return c<200?0:c<=500?5:c<=800?10:10+5*Math.ceil((c-800)/300)},cv=(s,c)=>s[c]!=="use"&&s[c]!=="uses"?!1:s[c-1]==="the"&&s[c+1]==="of",rv=(s,c)=>["do","does","did"].includes(s[c])?s[c-1]==="only"&&s[c-2]==="not":!1,ov=s=>String(s||"").toLowerCase().replace(/'s$/g,"").replace(/'/g,""),So=s=>$u(s).map(ov).filter(f=>f.length>2&&!ev.has(f)),fv=s=>{const c={sentenceBoundaryHits:0,sentenceBoundaryDenom:0,paragraphBoundaryHits:0,paragraphBoundaryDenom:0,transitionsWithinCount:0,transitionsWithinUnique:0,paragraphStartTransitionsCount:0,issues:{weakTransitions:[]},sourceText:s.join(`

`)},f=new Set(["however","therefore","thus","moreover","furthermore","additionally","also","likewise","similarly","instead","meanwhile","consequently","finally","overall","nevertheless"]),o=new Set,h=[];s.forEach(m=>{Qu(m).forEach(C=>{const Y=So(C);if(h.push(Y),Y.length){const k=Y[0];f.has(k)&&(c.transitionsWithinCount+=1,o.has(k)?c.issues.weakTransitions.push({reason:"Repeated transition",token:k}):(o.add(k),c.transitionsWithinUnique+=1))}})});for(let m=0;m<h.length-1;m+=1){c.sentenceBoundaryDenom+=1;const D=new Set(h[m]);(h[m+1]||[]).some(k=>D.has(k))&&(c.sentenceBoundaryHits+=1)}for(let m=0;m<s.length-1;m+=1){const D=Qu(s[m]).slice(-1)[0]||"",C=Qu(s[m+1])[0]||"",Y=new Set(So(D)),k=So(C);c.paragraphBoundaryDenom+=1,k.some(ee=>Y.has(ee))&&(c.paragraphBoundaryHits+=1)}const y=c.sentenceBoundaryDenom?c.sentenceBoundaryHits/c.sentenceBoundaryDenom:0,v=c.paragraphBoundaryDenom?c.paragraphBoundaryHits/c.paragraphBoundaryDenom:0,N=Math.min(c.transitionsWithinUnique*2,10);return{cohesionScore:yi(Math.round(100*(.7*y+.3*v)+N),0,100),cohesionSub:"",details:c}},dv=s=>{const c=new Map;return String(s||"").split(`
`).map(f=>f.trim()).filter(f=>f&&!f.startsWith("#")).forEach(f=>{const[o,h]=f.split(",").map(N=>N?.trim());if(!o)return;const y=o.toLowerCase(),v=(h||o).toLowerCase();c.set(y,v)}),c},hv=async s=>{const c=["/thesis_devices.txt","./thesis_devices.txt","/assets/thesis_devices.txt"];let f=null;for(const o of c)try{const h=await fetch(o,{cache:"no-store"});if(!h.ok){f=new Error(`Failed ${o} (${h.status})`);continue}const y=await h.text();return{lexicon:dv(y),source:o}}catch(h){f=h}return f&&console.warn("Failed to load thesis devices lexicon:",f),{lexicon:new Map,source:""}},mv=(s,c)=>{if(!c||!c.size)return new Set;const f=String(s||"").toLowerCase(),o=new Set;for(const[h,y]of c.entries())f.includes(h)&&o.add(y);return o},gv=(s,c,{labelCounts:f,markEventId:o,powerVerbFormsSet:h,thesisDevicesLexicon:y}={})=>{const v=Bm(s||""),S=tv(Do(s||"")).toLowerCase().replace(/\s+/g," ").trim(),m=$u(S),D=m.length,C={show:0,use:0,make:0,do:0,get:0,have:0};let Y=0;for(let Te=0;Te<m.length;Te+=1){const $e=m[Te];if(!pm.has($e)||cv(m,Te)||rv(m,Te))continue;Y+=1;const Qe=Ip.get($e);Qe&&C[Qe]!==void 0&&(C[Qe]+=1)}let k=0,K=uv(D);if(h&&K>0){const Te=new Set;for(const $e of m)pm.has($e)||h.has($e)&&Te.add($e);k=Te.size}const ee=D?Y/D*100:0,W=yi(Math.round(100-ee*8),0,100),P=K===0?100:yi(Math.round(k/K*100),0,100),I=yi(Math.round(W*.6+P*.4),0,100),{rawParagraphs:ce,filteredParagraphs:ne}=iv(v),J=ne,te=J.map(Te=>Qu(Te)),F=te.flat().length,ve=sv(J),Oe=ve.map(Te=>J[Te]||""),ye=Oe.length,be=[],Ge=[],et=[],ke=[];let R=0,O=0,L=0,se=0;const re=!!(y&&y.size);Oe.forEach((Te,$e)=>{const Qe=ve[$e];if((te[Qe]?.length||0)<4&&(L+=1,et.push(Qe)),av(Te)>=2?O+=1:Ge.push(Qe),!re)return;mv(Te,y).size>=3?R+=1:be.push(Qe)}),re||(R=ye);const b=[];let z=0;ve.forEach(Te=>{const $e=te[Te]||[];let Qe=0;$e.forEach(ct=>{const vn=lv(ct);vn&&Pp.has(vn)&&(Qe+=1,se+=1,ke.push({sentence:ct,paragraph_index:Te}))}),Qe>1?b.push(Te):z+=1});const X=ye?R/ye:1,$=ye?O/ye:1,fe=ye?1-L/ye:1,ue=ye?z/ye:1,Ee=yi(Math.round(100*(.35*X+.35*$+.2*fe+.1*ue)),0,100),We=fv(J),Ue=We.cohesionScore,Je=f&&typeof f=="object"?f:{},Lt=o!=null;let kt=null,Tt={unnecessaryCount:0,wordyCount:0,impreciseCount:0,hasCounts:!1};if(Lt){const Te=bo($p,Je),$e=bo(Fp,Je),Qe=bo(Wp,Je),ct=Te*3+$e*2+Qe*3;kt=yi(100-ct,0,100),Tt={unnecessaryCount:Te,wordyCount:$e,impreciseCount:Qe,hasCounts:!0}}return{power:{score:I,sub:"",details:{weakCount:Y,weakByBase:C,powerCount:k,powerTarget:K}},variety:{score:Ee,sub:"",details:{bodyParagraphCount:ye,bodyParagraphIndices:ve,paragraphsFiltered:J,techniqueOkCount:R,techniqueFailures:be,evidenceOkCount:O,evidenceFailures:Ge,undevelopedCount:L,undevelopedParagraphs:et,structureOkCount:z,structureFailures:b,weakStartCount:se,weakStartSentences:ke,totalSentenceCount:F,techniquesUnavailable:!re}},cohesion:{score:Ue,sub:We.cohesionSub,details:We.details},precision:{score:kt,sub:"",details:Tt},meta:{paragraphs:ce.length,sentences:F,mode:c||""}}},pv=s=>s==null||Number.isNaN(s)?"":`${s}/100`;function vv({metrics:s,collapsed:c,onToggleDetails:f,onOpenInfo:o,onOpenPillHint:h,mode:y}){const v=y==="peel_paragraph",N=v?null:s?.cohesion?.score;return r.jsxs("div",{className:"preview-metrics-wrap",children:[r.jsx("div",{className:"metrics-details-toggle",children:r.jsx("button",{type:"button",className:"metrics-toggle-btn",id:"metricsDetailsToggle","aria-expanded":!c,onClick:f,children:c?"Show details":"Hide details"})}),r.jsx("div",{className:`student-metrics-grid metrics-inline${c?" details-collapsed":""}`,id:"metricsGrid",children:["power","variety","cohesion","precision"].map(S=>{if(S==="cohesion"&&v)return null;const m=s?.[S],D=S==="cohesion"?N:m?.score,C=Om[S]?.title||S;return r.jsxs("div",{className:"metric-card",id:`metric-${S}`,children:[r.jsxs("div",{className:"metric-head",children:[r.jsxs("div",{className:"metric-title",children:[C,r.jsx("button",{className:"metric-info metric-info-btn",type:"button","data-metric":S,"aria-label":`${C} info`,onClick:o,children:"i"})]}),r.jsx("div",{className:`metric-score${D===100?" perfect":""}`,children:pv(D)})]}),r.jsx("div",{className:"metric-meter",children:r.jsx("div",{className:`metric-meter-fill${D===100?" perfect":""}`,style:{width:D?`${D}%`:"0%"}})}),r.jsxs("div",{className:"metric-sub",children:[S==="power"&&m?.details?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"metric-success",children:["Power verbs: ",m.details.powerCount,"/",m.details.powerTarget]}),r.jsxs("div",{className:"metric-persistent",children:["Weak verbs: ",m.details.weakCount]}),m.details.weakCount>0?r.jsx("button",{type:"button",className:"example-btn power-verb-pill",onClick:Y=>h?.({anchorEl:Y.currentTarget,mode:"anchor",dismissKey:"power_verbs_needed",data:{title:"Power verbs needed",body:"Select from the Power Verbs list to strengthen the highlighted verbs."}}),children:"Power verbs needed"}):null]}):null,S==="variety"&&m?.details?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"metric-success",children:["Techniques: ",m.details.techniqueOkCount,"/",m.details.bodyParagraphCount]}),r.jsxs("div",{className:"metric-persistent",children:["Evidence: ",m.details.evidenceOkCount,"/",m.details.bodyParagraphCount]})]}):null,S==="cohesion"&&m?.details?r.jsxs("div",{className:"metric-success",children:["Sentence links: ",m.details.sentenceBoundaryHits,"/",m.details.sentenceBoundaryDenom]}):null,S==="precision"&&m?.details?.hasCounts?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"metric-success",children:["Unnecessary: ",m.details.unnecessaryCount]}),r.jsxs("div",{className:"metric-persistent",children:["Wordy: ",m.details.wordyCount,", Imprecise: ",m.details.impreciseCount]})]}):S==="precision"?r.jsx("div",{className:"metric-success",children:"Mark to unlock precision score."}):null]})]},S)})})]})}function yv({hint:s,onDismiss:c}){return s?r.jsx("div",{id:"previewHintDock",className:"preview-hint-dock","aria-live":"polite",children:r.jsxs("div",{className:"tour-popover hint-card",children:[r.jsx("button",{type:"button",className:"tour-close","aria-label":"Close hint",onClick:c,children:""}),s.title?r.jsx("div",{className:"tour-title",children:s.title}):null,s.subheader?r.jsx("div",{className:"pill-hint-subheader",children:s.subheader}):null,s.body?r.jsx("div",{className:"tour-body",children:s.body}):null,r.jsx("div",{className:"pill-hint-footer",children:r.jsx("button",{type:"button",className:"secondary-btn",onClick:c,children:"Got it"})})]})}):null}function bv({markedBlob:s,zoom:c,onZoomChange:f,previewRef:o,onRecheck:h,isRechecking:y,isProcessing:v,onEdit:N,onDownloadMarked:S,onDownloadRevised:m,isDownloading:D,hasRevisedSinceMark:C,wordCount:Y,totalIssues:k,metrics:K,metricsCollapsed:ee,onToggleMetricsDetails:W,onOpenMetricInfo:P,onOpenPillHint:I,onOpenPowerVerbs:ce,hint:ne,onDismissHint:J,mode:te,previewError:Q,previewErrorStack:F,showDebug:ve,onClearPreview:Oe,onPreviewError:ye}){return Jp({blob:s,zoom:c,containerRef:o,onEdit:N,onError:ye}),r.jsxs("section",{className:"card marked-preview-card",id:"markedPreviewCard",style:{display:s?"block":"none"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsx("h2",{className:"preview-title",children:"Preview"}),r.jsxs("div",{className:"preview-header-right",children:[s?r.jsx("div",{className:"preview-header-stats",id:"statsPanel",children:r.jsxs("div",{className:"preview-header-stats-row",children:[r.jsxs("div",{className:"student-stat preview-stat",children:[r.jsx("div",{className:"student-stat-label",children:"Word count"}),r.jsx("div",{className:"student-stat-value",id:"wordCountStat",children:Y??""})]}),r.jsxs("div",{className:"student-stat preview-stat",children:[r.jsx("div",{className:"student-stat-label",children:"Total issues"}),r.jsx("div",{className:"student-stat-value",id:"totalIssuesStat",children:k??""})]})]})}):null,r.jsxs("div",{className:"preview-tools",children:[r.jsxs("label",{className:"preview-zoom",htmlFor:"previewZoom",children:[r.jsx("span",{children:"Zoom"}),r.jsxs("select",{id:"previewZoom",value:c,onChange:be=>f(Number(be.target.value)),children:[r.jsx("option",{value:.8,children:"80%"}),r.jsx("option",{value:.9,children:"90%"}),r.jsx("option",{value:1,children:"100%"}),r.jsx("option",{value:1.1,children:"110%"}),r.jsx("option",{value:1.25,children:"125%"}),r.jsx("option",{value:1.5,children:"150%"})]})]}),r.jsxs("button",{type:"button",className:"preview-pill-btn",id:"previewPowerVerbsBtn","aria-label":"Open Power Verbs",onClick:ce,children:[r.jsx("span",{className:"preview-pill-icon","aria-hidden":"true",children:""}),"Power Verbs"]})]})]})]}),s?r.jsx(vv,{metrics:K,collapsed:ee,onToggleDetails:W,onOpenInfo:P,onOpenPillHint:I,mode:te}):null,Q?r.jsxs("div",{className:"preview-error-panel",children:[r.jsx("p",{children:"Preview failed to render."}),r.jsxs("p",{className:"helper-text",children:["Error: ",Q]}),ve&&F?r.jsx("pre",{className:"preview-error-stack",children:F}):null,r.jsxs("div",{className:"results-actions",children:[r.jsx("button",{type:"button",className:"secondary-btn",onClick:Oe,children:"Clear preview"}),r.jsx("button",{type:"button",className:"secondary-btn",onClick:S,disabled:!s,children:"Download marked essay"})]})]}):r.jsxs("div",{className:"preview-stage",children:[r.jsx(yv,{hint:ne,onDismiss:J}),r.jsx("div",{id:"markedPreview",ref:o,className:"marked-preview-container"})]}),r.jsxs("div",{className:"preview-actions",children:[r.jsx("button",{type:"button",className:`primary-btn${y?" is-loading loading-cursor":""}`,id:"recheckDocumentBtn",onClick:h,disabled:!s||y||v||!!Q,children:y?"Processing":"Recheck my essay"}),r.jsx("button",{type:"button",className:"secondary-btn",id:"downloadMarkedBtn",onClick:S,disabled:!s||v,children:"Download marked essay"}),r.jsx("button",{type:"button",className:`secondary-btn${D?" is-loading loading-cursor":""}`,id:"downloadBtn",onClick:()=>m?.(),disabled:!s||!C||D||v||!!Q,title:!C&&s?"Make at least one change in Preview to enable download":"",children:D?"Preparing":"Download revised essay"})]}),!C&&s?r.jsx("p",{className:"helper-text",children:"Make at least one change in Preview to enable download."}):null]})}const Sv="p, li, h1, h2, h3",Hm=s=>String(s||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).map(c=>c.replace(/[ \t]+$/g,"")).join(`
`),vm=s=>{const c=s?.innerText||s?.textContent||"";return Hm(c).trim()};function Ca(s){if(!s)return"";const f=Array.from(s.querySelectorAll(Sv)).filter(o=>!o.closest("table")&&!o.closest(".docx-table")).map(vm).filter(Boolean);return f.length?f.join(`

`):vm(s)}function xv(s){const c=String(s||"").trim();return c?c.split(/\s+/).filter(Boolean).length:0}function Ev(s){const c=Hm(s),f=c.split(`
`),o=f.findIndex(v=>v.trim()==="");if(o<=0)return c;const h=f.slice(0,o);return h.length<=4&&h.length>=1&&h.every(v=>v.trim().length>0&&v.trim().length<=60)?f.slice(o+1).join(`
`).trimStart():c}function wv(s){return Ca(s)}const Nv="vysti_student_tour_hide",_o="vysti_student_tour_completed",qm="vysti_student_helpers_disabled",xo=[{anchor:"#mode",title:"Assignment type",body:"Choose the assignment type so Vysti applies the right rules."},{anchor:"#assignmentName",title:"Assignment Tracker",body:"Name and number your draft to track progress."},{anchor:"#dropZone",title:"Upload",body:"Upload your .docx file here."}],Tv=[{anchor:"#checkBtn",title:"Mark my essay",body:"Click here to generate a preview and revise your work."}],_v=[{anchor:"#downloadBtn",title:"Download",body:"You can download your marked essay now or revise it first."},{anchor:"#mostCommonIssuesWrap",title:"Most Common Issues",body:"Hover to see an explanation. Click a bar to jump to an example."},{anchor:"#markedPreviewCard",title:"Preview",body:"Edit your document directly in this Preview. Use Zoom if you need it. Changes here aren't finalized until you recheck."},{anchor:"#recheckDocumentBtn",title:"Recheck",body:"After editing the Preview, click here to regenerate your feedback."},{anchor:"#examplesList",title:"Practice a revision",body:"Follow Vysti's guidance to repair your work, then click 'Check rewrite'. If it's approved, click 'Apply to Preview' to update your document."}],Av=()=>![qm,_o,Nv].some(s=>localStorage.getItem(s)==="1");function jv({authReady:s,selectedFile:c,markedBlob:f,hasResults:o,previewRef:h},y){const[v,N]=g.useState(xo),[S,m]=g.useState(0),[D,C]=g.useState(!1),[Y,k]=g.useState("tour-arrow-down"),[K,ee]=g.useState(!1),W=g.useRef(!1),P=g.useRef(null),I=g.useRef(null),ce=g.useRef(null),ne=g.useRef(null),J=g.useRef(0),te=g.useRef(0),Q=g.useCallback(()=>{I.current&&(I.current.classList.remove("tour-highlight"),I.current=null)},[]),F=g.useCallback(O=>{O==="hide"?(localStorage.setItem(qm,"1"),localStorage.setItem(_o,"1")):O==="completed"&&localStorage.setItem(_o,"1"),Q(),C(!1),ee(!1)},[Q]),ve=g.useCallback((O,L)=>{for(let se=O;se<L.length;se+=1){const re=L[se],b=document.querySelector(re.anchor);if(b)return{index:se,anchor:b}}return null},[]),Oe=g.useCallback(()=>{const O=P.current,L=ce.current,se=ne.current;if(!O||!L||!se)return;const re=12,b=12,z=O.getBoundingClientRect();L.style.display="block",L.style.visibility="hidden";const X=L.getBoundingClientRect(),$=z.bottom+re+X.height<=window.innerHeight;let fe=$?z.bottom+re:z.top-re-X.height,ue=z.left+z.width/2-X.width/2;ue=Math.max(b,Math.min(ue,window.innerWidth-X.width-b)),fe=Math.max(b,Math.min(fe,window.innerHeight-X.height-b)),L.style.top=`${Math.round(fe)}px`,L.style.left=`${Math.round(ue)}px`,k($?"tour-arrow-down":"tour-arrow-up");const Ee=z.left+z.width/2,We=Math.max(16,Math.min(Ee-ue,X.width-16));se.style.left=`${Math.round(We)}px`,se.style.top=$?"-6px":"",se.style.bottom=$?"":"-6px",L.style.visibility="visible"},[]),ye=g.useCallback(()=>{cancelAnimationFrame(J.current),J.current=requestAnimationFrame(()=>{Oe()})},[Oe]),be=g.useCallback(()=>{const O=!!f,se=!!(h?.current?wv(h.current):"");return O||se||o?_v:c?Tv:xo},[o,f,h,c]),Ge=g.useCallback((O,{force:L=!1,steps:se=xo}={})=>{!L&&!Av()||(N(se),m(O),ee(!1),C(!0))},[]),et=g.useCallback(({force:O=!1}={})=>{const L=be();Ge(0,{force:O,steps:L})},[be,Ge]);if(g.useImperativeHandle(y,()=>({restartTour:({force:O=!0}={})=>{F("dismissed"),et({force:O})},dismissTour:()=>F("dismissed")}),[F,et]),g.useEffect(()=>{if(!D)return;const O=ve(S,v);if(!O){F("dismissed");return}if(O.index!==S){m(O.index);return}P.current=O.anchor,Q(),O.anchor.classList.add("tour-highlight"),I.current=O.anchor,O.anchor.scrollIntoView({block:"center",behavior:"smooth"}),ye(),clearTimeout(te.current),te.current=window.setTimeout(()=>{ye()},350)},[v,Q,F,S,D,ve,ye]),g.useEffect(()=>{if(!D)return;const O=()=>{D&&ye()};return window.addEventListener("resize",O),window.addEventListener("scroll",O,!0),()=>{window.removeEventListener("resize",O),window.removeEventListener("scroll",O,!0)}},[D,ye]),g.useEffect(()=>{if(!s||W.current)return;W.current=!0;const O=requestAnimationFrame(()=>{window.setTimeout(()=>{et({force:!1})},50)});return()=>cancelAnimationFrame(O)},[s,et]),g.useEffect(()=>()=>{clearTimeout(te.current),cancelAnimationFrame(J.current),Q()},[Q]),!D)return null;const ke=v[S],R=`${S+1} of ${v.length}`;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"tour-overlay"}),r.jsxs("div",{className:"tour-popover",role:"dialog","aria-live":"polite",ref:ce,children:[r.jsx("button",{className:"tour-close",type:"button","aria-label":"Close tour",onClick:()=>F("dismissed"),children:""}),r.jsx("div",{className:`tour-arrow ${Y}`,ref:ne}),r.jsx("div",{className:"tour-title",children:ke?.title}),r.jsx("div",{className:"tour-body",children:ke?.body}),r.jsxs("div",{className:"tour-footer",children:[r.jsx("div",{className:"tour-step",children:R}),r.jsxs("label",{className:"tour-checkbox-row",htmlFor:"tourHideCheckbox",children:[r.jsx("input",{id:"tourHideCheckbox",type:"checkbox",checked:K,onChange:O=>{const L=O.target.checked;ee(L),L&&F("hide")}}),"Do not show again"]}),r.jsx("button",{className:"tour-primary-btn",type:"button",onClick:()=>{if(K){F("hide");return}const O=S+1;if(O>=v.length){F("completed");return}m(O)},children:"Got it"})]})]})]})}const Cv=g.forwardRef(jv);function Mv({onProgress:s,onTeacher:c,onRepeatTutorial:f,onSignOut:o,onBackToClassic:h,onSwitchToReact:y,showReactSwitch:v}){return r.jsxs("header",{className:"topbar",children:[r.jsx("div",{className:"brand",children:r.jsx("img",{src:"/assets/logo.svg",alt:"Vysti"})}),r.jsx("nav",{}),r.jsxs("div",{className:"actions",children:[r.jsx("div",{className:"ph-badge",children:"Project Headache "}),r.jsx("button",{className:"topbar-btn",type:"button",onClick:h,children:"Back to classic"}),v?r.jsx("button",{className:"topbar-btn",type:"button",onClick:y,children:"Switch to React (beta)"}):null,r.jsx("button",{className:"topbar-btn",type:"button",onClick:s,children:"Progress"}),r.jsx("button",{className:"topbar-btn",type:"button",onClick:c,children:"Teacher"}),r.jsx("button",{className:"iconbtn repeat-tutorial-trigger",type:"button","aria-label":"Repeat tutorial","data-tip":"Repeat the tutorial",onClick:f,children:"?"}),r.jsx("button",{className:"topbar-btn",type:"button",onClick:o,children:"Sign Out"})]})]})}function Rv({assignmentName:s,onChange:c}){return r.jsxs("div",{className:"assignment-tracker-block",children:[r.jsx("div",{className:"assignment-tracker-title",children:r.jsx("span",{className:"label-row",children:"Assignment Tracker"})}),r.jsx("label",{className:"visually-hidden",htmlFor:"assignmentName",children:"Assignment name (optional)"}),r.jsx("input",{type:"text",id:"assignmentName",value:s,onChange:f=>c(f.target.value),placeholder:"Assignment 01","aria-label":"Assignment name (optional)"})]})}function Dv({selectedFile:s,isDragOver:c,dragMessage:f,validationError:o,onBrowseClick:h,onFileChange:y,onDrop:v,onDragOver:N,onDragLeave:S,onClearFile:m,fileInputRef:D}){return r.jsxs("section",{className:"card upload-card",children:[r.jsx("label",{children:"Upload"}),r.jsxs("div",{id:"dropZone",className:`drop-zone${c?" dragover":""}`,tabIndex:0,role:"button","aria-label":"Upload .docx file",onClick:h,onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),h())},onDragOver:N,onDragLeave:S,onDrop:v,children:[f?r.jsx("div",{className:"dropzone-overlay",children:r.jsx("span",{children:f})}):null,r.jsx("img",{className:"dz-icon",src:"/assets/cloud-upload.svg",alt:"","aria-hidden":"true"}),r.jsx("div",{className:"dz-title",children:"Drag & drop .docx file here"}),r.jsx("div",{className:"dz-sub",children:"or click to browse"}),r.jsx("input",{ref:D,type:"file",id:"fileInput",name:"file",accept:".docx",hidden:!0,onChange:y})]}),r.jsx("ul",{id:"fileList",className:"file-list",children:s?r.jsx("li",{children:s.name}):null}),o?r.jsx("div",{className:"dropzone-error",children:o}):null,r.jsx("button",{type:"button",id:"clearFileBtn",className:"secondary-btn",style:{display:s?"inline-flex":"none"},onClick:m,children:"Clear file"})]})}const zv=s=>{const c=new Set;return s.slice(0,5).forEach(f=>{Object.keys(f||{}).forEach(o=>{c.size<6&&c.add(o)})}),Array.from(c)};function Ov({isOpen:s,onToggle:c,data:f}){const o=f||{type:"none",items:[],raw:"",error:""},{type:h,items:y,raw:v,error:N}=o,S=g.useMemo(()=>zv(y||[]),[y]);return r.jsxs("section",{className:"card rules-card",children:[r.jsxs("button",{className:"secondary-btn",type:"button",onClick:c,"aria-expanded":s,children:["Techniques (",s?"hide":"show",")"]}),s?r.jsxs("div",{style:{marginTop:"12px"},children:[h==="strings"?r.jsx("ul",{children:y.map((m,D)=>r.jsx("li",{children:m},`${m}-${D}`))}):null,h==="objects"?r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsx("tr",{children:S.map(m=>r.jsx("th",{children:m},m))})}),r.jsx("tbody",{children:y.map((m,D)=>r.jsx("tr",{children:S.map(C=>r.jsx("td",{children:String(m?.[C]??"")},`${D}-${C}`))},`row-${D}`))})]})}):null,h==="invalid"?r.jsxs("div",{children:[r.jsx("div",{children:N||"Techniques header present but invalid JSON"}),r.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:v})]}):null,h==="none"?r.jsx("div",{children:"No techniques data."}):null]}):null]})}function Uv({isOpen:s,initialAssignmentName:c="",onCancel:f,onDownloadAsIs:o,onDownloadMla:h,isBusy:y=!1}){const v=g.useRef(null),N=g.useRef(null),[S,m]=g.useState(""),[D,C]=g.useState(""),[Y,k]=g.useState(""),[K,ee]=g.useState("");return g.useEffect(()=>{s&&(ee(c||""),window.requestAnimationFrame(()=>{v.current?.focus()}))},[c,s]),g.useEffect(()=>{if(!s)return;const W=P=>{if(P.key==="Escape"){P.preventDefault(),f?.();return}if(P.key!=="Tab")return;const I=N.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!I||I.length===0)return;const ce=Array.from(I),ne=ce[0],J=ce[ce.length-1];P.shiftKey&&document.activeElement===ne?(P.preventDefault(),J.focus()):!P.shiftKey&&document.activeElement===J&&(P.preventDefault(),ne.focus())};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s,f]),s?r.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"modal-card",ref:N,children:[r.jsx("h3",{children:"Download revised essay"}),r.jsxs("label",{children:[r.jsx("span",{children:"Name"}),r.jsx("input",{ref:v,type:"text",value:S,onChange:W=>m(W.target.value)})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Teacher"}),r.jsx("input",{type:"text",value:D,onChange:W=>C(W.target.value)})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Date"}),r.jsx("input",{type:"text",value:Y,onChange:W=>k(W.target.value)})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Assignment"}),r.jsx("input",{type:"text",value:K,onChange:W=>ee(W.target.value)})]}),r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:f,disabled:y,children:"Cancel"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:o,disabled:y,children:"Download as-is"}),r.jsx("button",{className:"primary-btn",type:"button",onClick:()=>h?.({name:S.trim(),teacher:D.trim(),date:Y.trim(),assignment:K.trim()}),disabled:y,children:"Add MLA + Download"})]})]})}):null}const Bv="vysti_dismiss_noask_v1__",Ao=s=>String(s||"").replace(/[\u201C\u201D\u201E\u201F]/g,'"').replace(/[\u2018\u2019\u201A\u201B]/g,"'").replace(/[\u2013\u2014]/g,"-").replace(/\u00AD/g,"").replace(/\u00A0/g," ").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/\s+/g," ").trim();function ym(s){return Ao(String(s||"")).toLowerCase()}function Hv(s){return String(s||"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"issue"}function Lm(s){return`${Bv}${Hv(s||"")}`}function qv(s){try{return JSON.parse(localStorage.getItem(Lm(s))||"null")}catch{return null}}function Lv(s,c,f){try{localStorage.setItem(Lm(s),JSON.stringify({reason:c,other_text:f||null}))}catch{}}function kv({markEventId:s,fileName:c}){return s!=null&&String(s).trim()!==""?`mark_${s}`:`file_${c||"nofile"}`}function km({markEventId:s,fileName:c}){return`vysti_dismissed__${kv({markEventId:s,fileName:c})}`}function jo({markEventId:s,fileName:c}){const f=km({markEventId:s,fileName:c});try{const o=localStorage.getItem(f);if(!o)return[];const h=JSON.parse(o);return Array.isArray(h)?h:[]}catch(o){return console.warn("Failed to load dismissed issues:",o),[]}}function Yv({markEventId:s,fileName:c,dismissedIssues:f}){const o=km({markEventId:s,fileName:c});try{localStorage.setItem(o,JSON.stringify(f||[]))}catch(h){console.warn("Failed to save dismissed issues:",h)}}function Xv(s,c,f,o){if(!f||!o||!c)return!1;const h=ym(f),y=Ao(o);return(s||[]).some(v=>v?.file_name!==c?!1:ym(v?.label)===h&&Ao(v?.sentence)===y)}function Ym(s,c,f,o){return(s||[]).filter(h=>!Xv(c,f,o||h?.label||"",h?.sentence||""))}function Ma(s,c,f){const o={...s||{}};if(!f)return o;const h={};return(c||[]).filter(y=>y?.file_name===f).forEach(y=>{const v=String(y?.label||"").trim();v&&(h[v]=(h[v]||0)+1)}),Object.entries(h).forEach(([y,v])=>{const N=Number(o[y]||0),S=Math.max(0,N-v);S===0?delete o[y]:o[y]=S}),o}function Gv(s){return String(s||"").toLowerCase().replace(/[]/g,"'").replace(/\s+/g," ").trim()}function Fu(s){const c=Gv(s);return c.includes("first sentence")&&c.includes("author")&&c.includes("full name")}const Qv=s=>{if(!s)return null;if(typeof s=="object")return s;if(typeof s=="string")try{return JSON.parse(s)}catch{return null}return null},Vv=s=>{if(!s)return[];if(Array.isArray(s))return s;if(typeof s=="string")try{const c=JSON.parse(s);return Array.isArray(c)?c:[]}catch{return[]}return[]},Zv=s=>{const c=Qv(s);return!c||typeof c!="object"?{}:Object.entries(c).reduce((f,[o,h])=>(o&&!Fu(o)&&(f[o]=h),f),{})},Kv=s=>Vv(s).filter(f=>!Fu(f?.label||""));async function Xm({supa:s,userId:c,fileName:f,dismissedIssues:o=[]}){const{data:h,error:y}=await s.from("mark_events").select("id, label_counts, issues, created_at, file_name").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(1);if(y)throw y;const v=h?.[0]||null,N=Zv(v?.label_counts||{}),S=Ma(N,o,f),m=Kv(v?.issues||[]);return{markEvent:v,labelCountsFiltered:S,issuesFiltered:m}}const bm=({supa:s,userId:c,fileName:f,label:o})=>s.from("issue_examples").select("sentence, paragraph_index, created_at, label, mark_event_id").eq("user_id",c).eq("file_name",f).eq("label",o).order("created_at",{ascending:!1}).order("paragraph_index",{ascending:!0}).limit(50),Sm=({supa:s,userId:c,fileName:f})=>s.from("issue_examples").select("label, paragraph_index, created_at, mark_event_id").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(500);async function Jv({supa:s,userId:c,fileName:f,label:o,markEventId:h,dismissedIssues:y=[]}){let v=[],N=null;if(h){const C=await bm({supa:s,userId:c,fileName:f,label:o}).eq("mark_event_id",h);v=C.data||[],N=C.error}if((!v||v.length===0)&&!N){const C=await bm({supa:s,userId:c,fileName:f,label:o});v=C.data||[],N=C.error}if(N)throw N;const S=new Set,m=[];return v.forEach(C=>{const Y=String(C?.sentence||"").trim(),k=C?.paragraph_index??0,K=`${k}::${Y}`;!Y||S.has(K)||(S.add(K),m.push({sentence:Y,paragraph_index:k,created_at:C?.created_at,label:C?.label||o}))}),Ym(m,y,f,o).slice(0,10)}async function $v({supa:s,userId:c,fileName:f,markEventId:o}){let h=[],y=null;if(o){const v=await Sm({supa:s,userId:c,fileName:f}).eq("mark_event_id",o);h=v.data||[],y=v.error}if((!h||h.length===0)&&!y){const v=await Sm({supa:s,userId:c,fileName:f});h=v.data||[],y=v.error}if(y)throw y;return h.filter(v=>v?.label&&!Fu(v.label)).map(v=>({label:v.label,paragraph_index:v?.paragraph_index??0,created_at:v?.created_at,mark_event_id:v?.mark_event_id}))}const Fv=[{value:"no_issue",label:"There is no issue"},{value:"unable_to_repair",label:"Unable to repair issue"},{value:"unclear_guidance",label:"Unclear student guidance for issue"},{value:"other",label:"Other"}];function Wv({isOpen:s,onCancel:c,onConfirm:f,onNoAsk:o}){const h=g.useRef(null),[y,v]=g.useState(""),[N,S]=g.useState(""),[m,D]=g.useState(""),C=y==="other",Y=N.length,k=!!(y&&(!C||N.trim().length>0)),K=()=>{v(""),S(""),D("")};g.useEffect(()=>{s&&(K(),window.requestAnimationFrame(()=>{h.current?.focus()}))},[s]);const ee=I=>{if(!y){D("Please select a reason to continue.");return}if(C&&!N.trim()){D("Please add a brief explanation for Other.");return}if(D(""),I){o?.({reason:y,other_text:N.trim()||null});return}f?.({reason:y,other_text:N.trim()||null})},W=I=>{I.key==="Escape"&&(I.preventDefault(),c?.())},P=g.useMemo(()=>`${Y}/280`,[Y]);return s?r.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"dismissIssueTitle",onClick:I=>{I.target===I.currentTarget&&c?.()},onKeyDown:W,children:r.jsxs("div",{className:"modal-card dismiss-modal",children:[r.jsx("div",{id:"dismissIssueTitle",className:"modal-title",children:"Dismiss issue"}),r.jsx("div",{className:"modal-question",children:"Why are you dismissing this issue?"}),r.jsx("div",{className:"modal-reasons",children:Fv.map(I=>r.jsxs("label",{children:[r.jsx("input",{type:"radio",name:"dismissReason",value:I.value,checked:y===I.value,onChange:()=>{v(I.value),D("")}}),I.label]},I.value))}),C?r.jsxs(r.Fragment,{children:[r.jsx("textarea",{maxLength:280,className:"dismiss-other",placeholder:"Briefly explain...",value:N,onChange:I=>{S(I.target.value)}}),r.jsx("div",{className:"dismiss-char-count",children:P})]}):null,m?r.jsx("div",{className:"modal-error",children:m}):null,r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{ref:h,className:"secondary-btn",type:"button",onClick:()=>c?.(),children:"Cancel"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>ee(!0),disabled:!k,children:"Do not ask me again"}),r.jsx("button",{className:"primary-btn",type:"button",onClick:()=>ee(!1),disabled:!k,children:"Dismiss issue"})]})]})}):null}const Iv=s=>{const c=Number(s);return Number.isFinite(c)?c:0},Pv=s=>String(s?.label||s?.technique||s?.name||"").trim(),ey=s=>Iv(s?.count??s?.occurrences??s?.total??0),ty=s=>{if(!s||typeof s!="object")return[];const c=Array.isArray(s.items)?s.items:[];if(!c.length)return[];if(s.type==="strings"){const f=c.reduce((o,h)=>{const y=String(h||"").trim();return y&&(o[y]=(o[y]||0)+1),o},{});return Object.entries(f).map(([o,h])=>({label:o,count:h})).sort((o,h)=>h.count-o.count||o.label.localeCompare(h.label)).slice(0,6)}return s.type==="objects"?c.map(f=>({label:Pv(f),count:ey(f)})).filter(f=>f.label).sort((f,o)=>o.count-f.count||f.label.localeCompare(o.label)).slice(0,6):[]};function ny({wordCount:s,totalIssues:c,topIssue:f,techniques:o}){const h=g.useMemo(()=>ty(o),[o]);return r.jsxs("section",{className:"practice-stat-card",children:[r.jsx("h3",{children:"Stats"}),r.jsxs("div",{className:"practice-stat-row",children:[r.jsx("span",{children:"Word count"}),r.jsx("strong",{children:Number.isFinite(s)?s:""})]}),r.jsxs("div",{className:"practice-stat-row",children:[r.jsx("span",{children:"Total issues"}),r.jsx("strong",{children:c??0})]}),r.jsxs("div",{className:"practice-stat-row",children:[r.jsx("span",{children:"Top issue"}),r.jsx("strong",{children:f||""})]}),h.length?r.jsxs("div",{className:"practice-techniques",children:[r.jsx("h4",{children:"Top techniques"}),r.jsx("ul",{children:h.map(y=>r.jsxs("li",{children:[r.jsx("span",{children:y.label}),r.jsx("strong",{children:y.count})]},y.label))})]}):null]})}function ys(s){return String(s||"").toLowerCase().replace(/[]/g,"'").replace(/[^a-z0-9\s']/g," ").replace(/\s+/g," ").trim()}function Zu(s){return String(s||"").toLowerCase().replace(/[]/g,'"').replace(/[]/g,"'").replace(/\s+/g," ").trim()}function bs(s){return String(s||"").toLowerCase().replace(/[\u2018\u2019]/g,"'").replace(/[^\w\s']/g," ").replace(/\s+/g," ").trim()}function Gm(s){if(!s)return[];const f=Array.from(s.querySelectorAll("p, li")).map(h=>({node:h,text:bs(h.innerText||h.textContent||"")})).filter(h=>h.text),o=f.filter(h=>h.text.length>=20);return(o.length?o:f).map(h=>h.node)}const ly=s=>bs(s).split(" ").filter(c=>c.length>=4);function Wu(s,c){if(!s||!c)return null;const f=bs(c).slice(0,80),o=Gm(s);if(!o.length||!f)return null;for(const v of o)if(bs(v.innerText||v.textContent||"").includes(f))return{el:v,score:1};const h=Array.from(new Set(ly(c)));if(!h.length)return null;let y={el:null,score:0};return o.forEach(v=>{const N=bs(v.innerText||v.textContent||"");if(!N)return;const m=h.reduce((D,C)=>N.includes(C)?D+1:D,0)/h.length;m>y.score&&(y={el:v,score:m})}),!y.el||y.score<.25?null:y}function Qm(s){s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("ph-flash"),window.setTimeout(()=>{s.classList.remove("ph-flash")},1400))}function zo(s){s&&s.querySelectorAll(".ph-highlight").forEach(c=>{c.classList.remove("ph-highlight")})}function ay(s,c){if(!s)return 0;zo(s);const f=Array.isArray(c)?c.map(y=>y?.sentence).filter(Boolean):[],o=new Set;let h=0;return f.forEach(y=>{const v=Wu(s,y);if(!v?.el)return;const N=v.el;o.has(N)||(o.add(N),v.el.classList.add("ph-highlight"),h+=1)}),h}const iy=s=>String(s||"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),sy=s=>{let c=iy(s);return c=c.replace(/\s+/g,"\\s+"),c=c.replace(/["]/g,'["]'),c=c.replace(/[']/g,"[']"),new RegExp(c,"i")},uy=s=>{const c=document.createTreeWalker(s,NodeFilter.SHOW_TEXT),f=[];let o=c.nextNode();for(;o;)f.push(o),o=c.nextNode();return f},cy=s=>{let c="";const f=s.map(o=>{const h=c.length,y=o.nodeValue||"";return c+=y,{node:o,start:h,end:c.length}});return{fullText:c,ranges:f}},ry=(s,c,f)=>{const o=s.find(v=>c>=v.start&&c<=v.end),h=s.find(v=>f>=v.start&&f<=v.end);if(!o||!h)return null;const y=document.createRange();return y.setStart(o.node,Math.max(0,c-o.start)),y.setEnd(h.node,Math.max(0,f-h.start)),y};function oy({containerEl:s,originalSentence:c,rewrite:f,shouldScroll:o=!0}){if(!s||!c||!f)return{ok:!1,message:"Missing preview or rewrite text."};const h=Wu(s,c);if(!h?.el)return{ok:!1,message:"Could not find that sentence in the preview."};const y=h.el,v=uy(y),{fullText:N,ranges:S}=cy(v);if(!N.trim())return{ok:!1,message:"Preview block is empty."};const D=sy(c).exec(N);if(!D){const ee=Zu(N),W=Zu(c);return ee.includes(W)?{ok:!1,message:"Could not isolate the sentence boundaries. Paste manually."}:{ok:!1,message:"Couldn't isolate that sentence. Paste manually if needed."}}const C=D.index,Y=C+D[0].length,k=ry(S,C,Y);if(!k)return{ok:!1,message:"Could not isolate the sentence range. Paste manually."};k.deleteContents();const K=document.createElement("span");return K.className="vysti-applied-rewrite",K.textContent=f,k.insertNode(K),o&&Qm(K),{ok:!0}}const ps=s=>(s||"").replace(/\s+/g," ").trim(),fy=s=>!s||s.nodeType!==Node.ELEMENT_NODE?!1:s.style&&(s.style.backgroundColor||s.style.background)?!0:!!s.querySelector("*[style*='background']"),dy=s=>{!s||s.nodeType!==Node.ELEMENT_NODE||(s.style&&(s.style.backgroundColor="",s.style.background=""),s.querySelectorAll("*").forEach(c=>{c.style&&(c.style.backgroundColor="",c.style.background="")}))},hy=(s,c)=>{const f=Array.from(s.querySelectorAll("p, li")),o=f.length?f:Gm(s),h=Number.isFinite(c?.paragraph_index)?c.paragraph_index:null;if(h!==null&&o.length){if(o[h])return o[h];if(h>0&&o[h-1])return o[h-1]}return Wu(s,c?.sentence||"")?.el||null};function Vm(s,c,{containerEl:f,scroll:o=!0,allowParagraphFallback:h=!1,silent:y=!1}={}){if(!f||!f.innerText.trim())return{ok:!1,message:'Click "Mark my essay" to load the preview first.'};const v=hy(f,c);if(!v)return{ok:!1,message:"Couldn't locate the sentence in the preview."};const N=ps(c?.sentence||"");if(!h&&N&&!ps(v.innerText).includes(N.slice(0,40)))return{ok:!1,message:"Couldn't isolate the exact sentence in preview. Try Find in preview first."};o&&v.scrollIntoView({behavior:"smooth",block:"center"});const S=Array.from(v.querySelectorAll("span, a")).filter(Y=>{const k=ps(Y.textContent);return k.startsWith("")&&k.includes(s)});if(!S.length)return{ok:!1,message:"Couldn't find the issue label in the preview."};let m=S[0];const D=m.parentElement&&m.parentElement.tagName==="SPAN"&&ps(m.parentElement.textContent)===ps(m.textContent)?m.parentElement:m;let C=D.previousSibling;for(;C&&C.nodeType===Node.ELEMENT_NODE;){const Y=C;if(!fy(Y))break;dy(Y),C=C.previousSibling}return D.remove(),zo(f),f.normalize(),{ok:!0,message:y?"":"Dismissed from preview. (This will stay dismissed after Recheck.)",blockEl:v}}function my(s,c,f){if(!s||!f)return;const o=(c||[]).filter(h=>h?.file_name===f);o.length&&o.forEach(h=>{Vm(h?.label||"",h,{containerEl:s,scroll:!1,allowParagraphFallback:!0,silent:!0})})}const gy=["/power_verbs_2025.json"],py="Avoid weak verbs",vy=s=>{if(!s)return null;if(typeof s=="string")return{verb:s.trim(),definition:""};const c=String(s.verb||"").trim();return c?{verb:c,definition:String(s.definition||"").trim()}:null};let ku=null,Yu=null;const Oo=async(s=gy)=>Yu||ku||(ku=(async()=>{let c=null;for(const o of s)try{const h=await fetch(o,{cache:"no-store"});if(!h.ok){c=new Error(`Failed ${o} (${h.status})`);continue}const y=await h.json(),v=Array.isArray(y)?y.map(vy).filter(Boolean):[],N={list:v,map:new Map(v.map(S=>[S.verb.toLowerCase(),S.definition])),source:o};return Yu=N,N}catch(h){c=h}c&&console.warn("Failed to load power verbs from all candidate URLs:",c);const f={list:[],map:new Map,source:""};return Yu=f,f})(),ku),yy=s=>{const c=new Set;return(s||[]).forEach(f=>{const o=String(f?.verb||"").toLowerCase().trim();o&&(c.add(o),o.endsWith("s")&&c.add(o.slice(0,-1)),o.endsWith("es")&&c.add(o.slice(0,-2)),o.endsWith("ed")&&c.add(o.slice(0,-2)),o.endsWith("ing")&&c.add(o.slice(0,-3)))}),c},Co=s=>{const c=[...s||[]];for(let f=c.length-1;f>0;f-=1){const o=Math.floor(Math.random()*(f+1));[c[f],c[o]]=[c[o],c[f]]}return c},Zm=(s,c)=>{if(!s||!c)return!1;const f=s.selectionStart??0,o=s.selectionEnd??0,h=s.value||"",y=h.slice(0,f),v=h.slice(o);s.value=`${y}${c}${v}`;const N=y.length+c.length;return s.setSelectionRange(N,N),s.dispatchEvent(new Event("input",{bubbles:!0})),!0},by=(s,c)=>{if(!s||!c)return!1;const f=window.getSelection?.();if(!f||f.rangeCount===0)return!1;const o=f.getRangeAt(0),h=o.commonAncestorContainer;return s.contains(h)?(o.deleteContents(),o.insertNode(document.createTextNode(c)),o.collapse(!1),f.removeAllRanges(),f.addRange(o),!0):!1},Km=async s=>{if(!s)return!1;try{return await navigator.clipboard.writeText(s),!0}catch{return!1}},xm=5;function Sy({textareaRef:s,onOpenDictionary:c,onVerbApplied:f}){const[o,h]=g.useState([]),[y,v]=g.useState(""),[N,S]=g.useState(""),[m,D]=g.useState([]);g.useEffect(()=>{let k=!0;return Oo().then(({list:K})=>{k&&(h(K),K.length||S("Power verbs list failed to load."))}),()=>{k=!1}},[]),g.useEffect(()=>{o.length&&D(Co(o).slice(0,xm))},[o]);const C=()=>{if(!o.length)return;const k=Co(o).slice(0,xm);D(k),v("Shuffled."),window.setTimeout(()=>v(""),1e3)},Y=async k=>{if(!k)return;const K=s?.current;let ee=!1;K&&(ee=Zm(K,k)),ee?(v("Applied."),f?.(k)):(await Km(k),v("Copied.")),window.setTimeout(()=>v(""),1200)};return r.jsxs("div",{className:"power-verbs-helper",children:[r.jsxs("div",{className:"power-verbs-header",children:[r.jsx("div",{className:"power-verbs-title",children:"Do any of these work?"}),r.jsxs("div",{className:"power-verbs-actions",children:[r.jsx("div",{className:"power-verbs-feedback",children:y||N}),r.jsx("button",{type:"button",className:"power-verbs-iconbtn","aria-label":"Open power verbs dictionary",onClick:c,children:""})]})]}),r.jsxs("div",{className:"power-verbs-suggestions-row",children:[r.jsx("div",{className:"power-verbs-suggestions-list",children:(m||[]).map(k=>r.jsx("button",{type:"button",className:"example-btn power-verb-pill",onClick:()=>Y(k.verb),children:k.verb},k.verb))}),r.jsx("button",{type:"button",className:"power-verbs-shuffle-btn","aria-label":"Shuffle suggestions",onClick:C,children:""})]})]})}function xy(s){const c=new AbortController,f=c.signal;return{signal:f,cancel:()=>{f.aborted||(f.__abortReason="cancel",c.abort())},controller:c,clear:()=>{}}}async function Ss(s,c={},{timeoutMs:f}={}){const o=c.signal,h=new AbortController;let y=!1,v=!1,N=null;o&&o.addEventListener("abort",()=>{v=o.__abortReason==="cancel",h.abort()},{once:!0}),f&&Number.isFinite(f)&&f>0&&(N=window.setTimeout(()=>{y=!0,h.abort()},f));try{return await fetch(s,{...c,signal:h.signal})}catch(S){if(y){const m=new Error("Request timed out");throw m.code="TIMEOUT",m}if(h.signal.aborted||S?.name==="AbortError"){const m=new Error("Request canceled");throw m.code="ABORTED",m}throw S}finally{N&&window.clearTimeout(N)}}async function xs(s){if(!s)return"Unknown error";try{const f=(await s.text()).trim().slice(0,200);return`${s.status} ${s.statusText}: ${f||"Request failed"}`}catch{return`${s.status} ${s.statusText}`}}function Es(s){return s?.status===401||s?.status===403}async function Ey({supa:s,label:c,labelTrimmed:f,rewrite:o,mode:h,contextText:y,originalSentence:v,paragraphIndex:N}){if(!s)throw new Error("Supabase is not available.");const{data:S,error:m}=await s.auth.getSession();if(m||!S?.session)throw new Error("Session expired. Please sign in again.");const D=Ku();if(!D)throw new Error("Missing API configuration.");const C={label:c,label_trimmed:f,rewrite:o,mode:h,context_text:y,original_sentence:v,paragraph_index:N??0},Y=await Ss(`${D}/revision/check`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S.session.access_token}`},body:JSON.stringify(C)},{timeoutMs:25e3});if(Es(Y))throw new Error("Session expired. Please sign in again.");if(!Y.ok)throw new Error(await xs(Y));return Y.json()}const Uo=({userId:s,fileName:c})=>{const f=String(s||"anon"),o=String(c||"unknown");return`vysti_revision_practice_${f}_${o}`},wy=s=>{try{return sessionStorage.getItem(s)}catch{return null}},Ny=(s,c)=>{try{return sessionStorage.setItem(s,c),!0}catch{try{return localStorage.setItem(s,c),!0}catch{return!1}}},Ty=s=>{try{sessionStorage.removeItem(s)}catch{}try{localStorage.removeItem(s)}catch{}};function _y({userId:s,fileName:c}){const f=Uo({userId:s,fileName:c});try{const o=wy(f)??localStorage.getItem(f);if(!o)return null;const h=JSON.parse(o);return!h||typeof h!="object"?null:h}catch{return null}}function Ay({userId:s,fileName:c,state:f}){const o=Uo({userId:s,fileName:c});try{Ny(o,JSON.stringify(f))}catch{}}function jy({userId:s,fileName:c}){const f=Uo({userId:s,fileName:c});Ty(f)}const Cy=s=>{const c=String(s||"").trim();return c?c.split(/\s+/).filter(Boolean).length:null},pi=(s,c)=>{const f=String(c?.sentence||"").trim(),o=c?.paragraph_index??0;return`${s}::${o}::${f}`},My=s=>{const c=ys(s);return{isIntro:c.includes("title")||c.includes("introduction")||c.includes("thesis")||c.includes("first sentence"),isConclusion:c.includes("conclusion")}},Ry=s=>{if(!s.length)return null;const c=s.reduce((f,o)=>{const h=Number.isFinite(o)?o:0;return f[h]=(f[h]||0)+1,f},{});return Object.entries(c).sort((f,o)=>o[1]-f[1]).map(([f])=>Number(f)).find(f=>Number.isFinite(f))};function Dy({enabled:s,requestActive:c=!1,practiceNavEnabled:f=!1,practiceHighlightEnabled:o=!1,externalAttempt:h=null,onClearExternalAttempt:y,supa:v,selectedFile:N,markedBlob:S,previewRef:m,techniques:D,dismissedIssues:C,onDismissedIssuesChange:Y,selectedLabelOverride:k,onSelectedLabelChange:K,onOpenDiagnostics:ee,onNavigateToExample:W,onHighlightExamples:P,onClearHighlights:I,mode:ce,onPreviewEdited:ne,onOpenPowerVerbs:J}){const[te,Q]=g.useState(!1),[F,ve]=g.useState(!1),[Oe,ye]=g.useState(""),[be,Ge]=g.useState({}),[et,ke]=g.useState({}),[R,O]=g.useState([]),[L,se]=g.useState(""),[re,b]=g.useState([]),[z,X]=g.useState([]),[$,fe]=g.useState([]),[ue,Ee]=g.useState(null),[We,Ue]=g.useState(null),[Je,Lt]=g.useState(""),[kt,Tt]=g.useState(!1),[Te,$e]=g.useState({}),[Qe,ct]=g.useState({}),[vn,Yt]=g.useState({}),[tn,nn]=g.useState(!1),[jl,Ln]=g.useState({}),[rt,Cn]=g.useState({}),[ta,Xt]=g.useState(!1),[Mn,el]=g.useState(null),[Dt,tl]=g.useState(""),[bi,ot]=g.useState(""),[_t,at]=g.useState([]),bt=g.useRef(0),kn=g.useRef(""),Yn=g.useRef(null),Gt=g.useRef({}),[nl,ln]=g.useState(0),At=g.useRef([]),ht=!!ws()?.featureFlags?.debugRevisionPractice,Qt=C??_t,Vt=E=>{typeof Y=="function"?Y(E):at(E)},Si=g.useMemo(()=>Object.values(be||{}).reduce((E,G)=>E+(Number(G)||0),0),[be]),na=R.length?`${R[0].label} (${R[0].count})`:"",la=g.useMemo(()=>{const E=ys(L);return E===ys(py)||E.includes("power verbs")},[L]),St=g.useMemo(()=>Object.entries(Qe).map(([E,G])=>({key:E,...G})),[Qe]),ll=E=>{E&&($e(E.drafts||{}),ct(E.approved||{}),Yt(E.applied||{}),nn(!!E.approvedPanelOpen),E.selectedLabel&&se(E.selectedLabel))};g.useEffect(()=>{if(!Je||!N?.name)return;const E=_y({userId:Je,fileName:N.name});ll(E)},[Je,N?.name]),g.useEffect(()=>{!Je||!N?.name||Ay({userId:Je,fileName:N.name,state:{drafts:Te,approved:Qe,applied:vn,approvedPanelOpen:tn,selectedLabel:L,markEventId:ue}})},[Qe,vn,tn,Te,N,L,ue,Je]),g.useEffect(()=>{if(!s)return;const E=m?.current;if(!E)return;const G=()=>{window.clearTimeout(bt.current),bt.current=window.setTimeout(()=>{const H=Ca(E);H!==kn.current&&(kn.current=H,Ue(Cy(H)))},900)};return G(),E.addEventListener("input",G),E.addEventListener("paste",G),()=>{E.removeEventListener("input",G),E.removeEventListener("paste",G),window.clearTimeout(bt.current)}},[s,S,m]),g.useEffect(()=>{if(!s)return;if(h){const H=h.labelCounts||{},oe=Object.entries(H).map(([pe,Z])=>({label:pe,count:Number(Z)||0})).filter(pe=>pe.label&&pe.count>0).sort((pe,Z)=>Z.count-pe.count||pe.label.localeCompare(Z.label)).slice(0,10),he=jo({markEventId:h.id||null,fileName:N?.name||""});Vt(he),ke(H),Ge(Ma(H,he,N?.name||"")),O(oe),Ee(h.id||null),X(h.issues||[]),se(pe=>pe&&oe.some(Z=>Z.label===pe)?pe:oe[0]?.label||""),Tt(!1),ye(""),Q(!1);return}if(!v||!N||!S){ye(""),Tt(!1),Ge({}),O([]),se(""),b([]),Ee(null),X([]);return}let E=!0;return(async()=>{Q(!0),ye(""),Tt(!1);try{const{data:H,error:oe}=await v.auth.getSession();if(oe||!H?.session)throw new Error("Session expired. Please sign in again.");const he=H.session.user?.id;if(!he)throw new Error("Missing user session.");const{markEvent:pe,labelCountsFiltered:Z,issuesFiltered:Be}=await Xm({supa:v,userId:he,fileName:N.name});if(ht&&console.log("[revision-practice] mark event",{hasEvent:!!pe,labelCountKeys:Object.keys(Z||{}).length,issueCount:Be.length}),!E)return;if(!pe){Tt(!0),Ge({}),ke({}),O([]),se(""),b([]),Ee(null),Lt(he),X([]),fe([]),Vt([]);return}const me=jo({markEventId:pe.id||null,fileName:N.name});Vt(me),ke(Z||{}),Ge(Ma(Z||{},me,N.name)),Ee(pe.id||null),Lt(he),X(Be||[]),se(Ae=>Ae||"")}catch(H){if(!E)return;ye(H?.message||"Failed to load revision data.")}finally{E&&Q(!1)}})(),()=>{E=!1}},[s,S,N,v,ht,h]),g.useEffect(()=>{if(!s||!v||!N||!Je||!ue)return;let E=!0;return(async()=>{try{const H=await $v({supa:v,userId:Je,fileName:N.name,markEventId:ue});if(!E)return;fe(H)}catch(H){if(!E)return;ht&&console.warn("[revision-practice] index fetch failed",H),fe([])}})(),()=>{E=!1}},[s,v,N,Je,ue,ht]),g.useEffect(()=>{k&&R.some(E=>E.label===k)&&se(k)},[k,R]),g.useEffect(()=>{ot("")},[L]),g.useEffect(()=>{ln(0),At.current=[]},[L,re.length]),g.useEffect(()=>{N?.name&&Ge(Ma(et,Qt,N.name))},[Qt,et,N?.name]),g.useEffect(()=>{if(!re.length)return;const E=Ym(re,Qt,N?.name||"",L);E.length!==re.length&&b(E)},[Qt,re,L,N?.name]),g.useEffect(()=>{if(!Dt)return;const E=window.setTimeout(()=>tl(""),2e3);return()=>window.clearTimeout(E)},[Dt]),g.useEffect(()=>{ta&&(c||!s||!S)&&(Xt(!1),el(null))},[ta,c,s,S]),g.useEffect(()=>{if(!s||!L||!v||!N){b([]);return}let E=!0;return(async()=>{ve(!0),ye("");try{let H=Je;if(!H){const{data:he,error:pe}=await v.auth.getSession();if(pe||!he?.session?.user?.id)throw new Error("Session expired. Please sign in again.");if(!E)return;H=he.session.user.id,Lt(H)}const oe=await Jv({supa:v,userId:H,fileName:N.name,label:L,markEventId:ue,dismissedIssues:Qt});if(ht&&console.log("[revision-practice] examples",{label:L,count:oe.length}),!E)return;b(oe),ot("")}catch(H){if(!E)return;ye(H?.message||"Failed to load examples.")}finally{E&&ve(!1)}})(),()=>{E=!1}},[s,L,v,N,ue,Je,ht,Qt]),g.useEffect(()=>{if(!N?.name||!Je)return;const E=ue||null;E&&(Yn.current&&Yn.current!==E&&(jy({userId:Je,fileName:N.name}),$e({}),ct({}),Yt({}),nn(!1),Ln({}),Cn({})),Yn.current=E)},[ue,N?.name,Je]);const yn=g.useMemo(()=>{const E=Object.entries(be||{}).map(([me,Ae])=>({label:me,count:Number(Ae)||0})).filter(me=>me.label&&me.count>0),G=$.length?$:z,H=G.map(me=>me?.paragraph_index).filter(Number.isFinite),oe=H.length?Math.min(...H):null,he=H.length?Math.max(...H):null,pe=E.reduce((me,Ae)=>{const it=G.filter(lt=>lt?.label===Ae.label).map(lt=>lt?.paragraph_index).filter(Number.isFinite);return me[Ae.label]=Ry(it),me},{}),Z={intro:[],body:{},conclusion:[]};E.forEach(me=>{const Ae=pe[me.label],it=My(me.label);if(oe!==null&&Ae===oe||it.isIntro){Z.intro.push(me);return}if(he!==null&&Ae===he||it.isConclusion){Z.conclusion.push(me);return}const lt=oe!==null&&Ae!==null?Math.max(1,Ae-oe):1;Z.body[lt]||(Z.body[lt]=[]),Z.body[lt].push(me)});const Be=me=>me.sort((Ae,it)=>it.count-Ae.count||Ae.label.localeCompare(it.label));return Z.intro=Be(Z.intro),Z.conclusion=Be(Z.conclusion),Object.keys(Z.body).forEach(me=>{Z.body[me]=Be(Z.body[me])}),{groups:Z,introIdx:oe,conclusionIdx:he}},[$,z,be]);g.useEffect(()=>{const E=Object.entries(be||{}).map(([G,H])=>({label:G,count:Number(H)||0})).filter(G=>G.label&&G.count>0).sort((G,H)=>H.count-G.count||G.label.localeCompare(H.label)).slice(0,10);O(E),se(G=>G&&E.some(H=>H.label===G)?G:E[0]?.label||"")},[be]);const aa=g.useMemo(()=>new Set(re.map(E=>pi(L,E))),[re,L]),Cl=g.useMemo(()=>St.filter(E=>!aa.has(E.key)),[aa,St]),Ml=g.useMemo(()=>{if(!L)return"";const E=z.find(he=>he?.label===L),G=String(E?.short_explanation||"").trim();if(G)return G;const H=String(E?.explanation||"").trim();if(!H)return"";const oe=H.split(".")[0]?.trim();return oe?`${oe}.`:H},[z,L]),Xn=async E=>{if(E)try{await navigator.clipboard.writeText(E)}catch(G){console.warn("Copy failed",G)}},Ra=E=>{const G=String(E||"");return G.length<=140?G:`${G.slice(0,140)}`},Rn=()=>{if(!re.length)return;const E=(nl+1)%re.length;ln(E);const G=At.current[E];G&&typeof G.scrollIntoView=="function"&&G.scrollIntoView({behavior:"smooth",block:"start"})},Zt=(E,G)=>{$e(H=>({...H,[E]:G}))},De=(E,G)=>{Ln(H=>({...H,[E]:{...H[E]||{},...G}}))},tt=E=>{ct(G=>{const H={...G};return delete H[E],H})},Gn=async(E,G)=>{const H=pi(E,G),oe=String(Te[H]||"").trim(),he=String(G?.sentence||"").trim();if(!m?.current){De(H,{error:"Preview not loaded yet."});return}if(!oe){De(H,{error:"Enter a rewrite before checking."});return}const pe=Zu(oe),Z=Zu(he);if(pe===Z){De(H,{error:"Rewrite must be different from the original."}),tt(H);return}const Be=Ca(m.current);if(!Be){De(H,{error:"Preview text is not available yet."});return}if(!v){De(H,{error:"Supabase is not available."});return}De(H,{loading:!0,error:"",approved:!1});try{const me=await Ey({supa:v,label:E,labelTrimmed:ys(E),rewrite:oe,mode:ce,contextText:Be,originalSentence:he,paragraphIndex:G?.paragraph_index??0});me?.approved?(De(H,{approved:!0,message:"Approved!"}),ct(Ae=>({...Ae,[H]:{label:E,sentence:he,paragraph_index:G?.paragraph_index??0,rewrite:oe}}))):(De(H,{approved:!1,error:me?.message||"Rewrite not approved yet."}),tt(H))}catch(me){De(H,{error:me?.message||"Check failed."}),tt(H)}finally{De(H,{loading:!1})}},an=(E,{shouldScroll:G=!0}={})=>{const H=m?.current;if(!H)return De(E.key,{error:"Preview not ready."}),!1;const oe=oy({containerEl:H,originalSentence:E.sentence,rewrite:E.rewrite,shouldScroll:G});return oe.ok?(Yt(he=>({...he,[E.key]:!0})),ct(he=>{const pe={...he};return delete pe[E.key],pe}),Ge(he=>{const pe={...he};return E.label&&Number.isFinite(pe[E.label])&&(pe[E.label]=Math.max(0,Number(pe[E.label])-1)),pe}),ne?.(),De(E.key,{message:"Applied to preview."}),!0):(De(E.key,{error:oe.message}),!1)},xi=()=>{if(St.length<2)return;let E=0;St.forEach((G,H)=>{an(G,{shouldScroll:H===St.length-1})&&(E+=1)}),E>0&&ye("")},ia=E=>{$e(G=>{const H={...G};return delete H[E],H}),ct(G=>{const H={...G};return delete H[E],H}),Yt(G=>{const H={...G};return delete H[E],H}),Ln(G=>{const H={...G};return delete H[E],H})},Qn=async(E,G,H)=>{if(!N?.name)return;const oe=N.name,he={label:E||"",sentence:G?.sentence||"",paragraph_index:G?.paragraph_index??null,file_name:oe,created_at:new Date().toISOString(),reason:H.reason,other_text:H.other_text||null},pe=[...Qt||[],he];if(Vt(pe),Yv({markEventId:ue,fileName:oe,dismissedIssues:pe}),v)try{const Ae=(await v.auth.getSession())?.data?.session?.user?.id||Je;if(Ae){const{error:it}=await v.from("dismissed_issue_feedback").insert({user_id:Ae,file_name:oe,mark_event_id:ue||null,mode:ce,issue_label:E||"",paragraph_index:he.paragraph_index,sentence:he.sentence,reason:H.reason,other_text:H.other_text||null});it&&console.warn("Dismissed issue feedback insert failed:",it)}}catch(me){console.warn("Dismissed issue feedback insert failed:",me)}const Z=Vm(E,he,{containerEl:m?.current,scroll:!0,allowParagraphFallback:!0,silent:!1}),Be=pi(E,G);Z.ok?(tl(Z.message||"Dismissed."),ne?.()):(De(Be,{error:Z.message||"Preview not available."}),tl("")),Ge(me=>{const Ae={...me},it=Number(Ae[E]||0),lt=Math.max(0,it-1);return lt===0?delete Ae[E]:Ae[E]=lt,Ae}),De(Be,{message:"Dismissed."}),b(me=>{const Ae=me.filter(it=>pi(E,it)!==Be);return Ae.length||ot("No remaining examples (they may have been dismissed). Choose a different issue."),Ae}),ia(Be)},Dn=async(E,G)=>{const H=qv(E);if(H?.reason){await Qn(E,G,{reason:H.reason,other_text:H.other_text||null,dontAskAgain:!0});return}el({label:E,example:G}),Xt(!0)},al=()=>{if(!L)return;const E=re.map(pe=>{const Z=pi(L,pe),Be=String(Te[Z]||"").trim(),Ae=Qe[Z]?.rewrite||""||Be||"";return{original:pe?.sentence||"",rewrite:Ae}}),G=[`Label: ${L}`,"",...E.flatMap((pe,Z)=>[`Example ${Z+1}:`,`Original: ${pe.original}`,`Rewrite: ${pe.rewrite||"(none)"}`,""])],H=new Blob([G.join(`
`)],{type:"text/plain"}),oe=`revision_notes_${ys(L)||"issue"}.txt`,he=document.createElement("a");he.href=URL.createObjectURL(H),he.download=oe,he.click(),URL.revokeObjectURL(he.href)},sn=async({reason:E,other_text:G})=>{if(!Mn)return;const{label:H,example:oe}=Mn;Xt(!1),el(null),await Qn(H,oe,{reason:E,other_text:G,dontAskAgain:!1})},Vn=async({reason:E,other_text:G})=>{if(!Mn)return;const{label:H,example:oe}=Mn;Lv(H,E,G),Xt(!1),el(null),await Qn(H,oe,{reason:E,other_text:G,dontAskAgain:!0})};if(!s)return null;const zn=!F&&L&&!re.length&&St.length>0,Bt=!F&&L&&!re.length&&!zn;return r.jsxs("section",{className:"card revision-practice-card practice-card",id:"revisionPracticeCard",children:[r.jsxs("div",{className:"revision-practice-header",children:[r.jsx("h2",{className:"revision-practice-title",children:"Revision examples"}),ee?r.jsx("button",{type:"button",className:"diagnostics-link",onClick:ee,children:"Diagnostics"}):null]}),!N||!S?r.jsx("p",{className:"helper-text",children:"Mark an essay to unlock revision practice."}):null,Oe?r.jsx("p",{className:"helper-text error-text",children:Oe}):null,te?r.jsx("p",{className:"helper-text",children:"Loading revision data"}):null,h?r.jsxs("div",{className:"helper-text practice-note",children:["Viewing attempt from"," ",h?.createdAt?new Date(h.createdAt).toLocaleString():"earlier"," ",""," ",r.jsx("button",{type:"button",className:"diagnostics-link",onClick:()=>y?.(),children:"Back to latest"})]}):null,kt&&!te?r.jsx("p",{className:"helper-text",children:"No revision data yet (mark again)."}):null,N&&S&&!te?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"practice-grid",children:r.jsx(ny,{wordCount:We,totalIssues:Si,topIssue:na,techniques:D})}),r.jsx("div",{className:"issue-select-wrapper",children:r.jsxs("div",{id:"issueButtonsWrap",className:"issue-buttons-wrap",children:[r.jsxs("div",{className:"issue-section-block",children:[r.jsx("div",{className:"issue-section-heading",children:"Title and Introduction"}),r.jsx("div",{className:"issue-button-row",children:yn.groups.intro.length?yn.groups.intro.map(E=>r.jsxs("button",{type:"button",className:`issue-btn${L===E.label?" active":""}`,onClick:()=>{se(E.label),K?.(E.label)},children:[E.label," (",E.count,")"]},E.label)):r.jsx("p",{className:"helper-text",children:"No intro issues."})})]}),Object.keys(yn.groups.body).sort((E,G)=>Number(E)-Number(G)).map(E=>r.jsxs("div",{className:"issue-section-block",children:[r.jsxs("div",{className:"issue-section-heading",children:["Body Paragraph ",E]}),r.jsx("div",{className:"issue-button-row",children:yn.groups.body[E].map(G=>r.jsxs("button",{type:"button",className:`issue-btn${L===G.label?" active":""}`,onClick:()=>{se(G.label),K?.(G.label)},children:[G.label," (",G.count,")"]},G.label))})]},`body-${E}`)),r.jsxs("div",{className:"issue-section-block",children:[r.jsx("div",{className:"issue-section-heading",children:"Conclusion"}),r.jsx("div",{className:"issue-button-row",children:yn.groups.conclusion.length?yn.groups.conclusion.map(E=>r.jsxs("button",{type:"button",className:`issue-btn${L===E.label?" active":""}`,onClick:()=>{se(E.label),K?.(E.label)},children:[E.label," (",E.count,")"]},E.label)):r.jsx("p",{className:"helper-text",children:"No conclusion issues."})})]})]})}),Ml?r.jsxs("div",{id:"issueExplanationBlock",children:[r.jsx("div",{className:"issue-explanation-header",children:"Explanation of the Issue"}),r.jsx("div",{id:"issueExplanation",className:"issue-explanation",children:Ml})]}):null,zn?r.jsx("div",{id:"allApprovedBanner",className:"examples-empty-state",children:"All examples for this issue are approved. Apply them to the Preview to update your progress, then click another bar to revise a different issue."}):null,Bt?r.jsx("div",{id:"examplesEmptyState",className:"examples-empty-state",children:bi||"No examples saved for this issue yet."}):null,re.length?r.jsxs("div",{id:"exampleNavRow",className:"examples-nav",children:[r.jsxs("div",{id:"exampleNavText",className:"examples-nav-text",children:["Issue ",nl+1," of ",re.length]}),r.jsx("button",{type:"button",className:"secondary-btn next-example-btn",onClick:Rn,children:"Next "})]}):null,Dt?r.jsx("p",{className:"helper-text",children:Dt}):null,o&&re.length?r.jsxs("div",{className:"practice-action-row",children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>P?.(re),children:"Highlight examples"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>I?.(),children:"Clear highlights"})]}):null,F?r.jsx("p",{className:"helper-text",children:"Loading examples"}):r.jsx("ul",{id:"examplesList",className:"examples-list",children:re.map((E,G)=>{const H=pi(L,E),oe=Te[H]||"",he=Qe[H],pe=!!vn[H],Z=jl[H]||{};return Gt.current[H]||(Gt.current[H]={current:null}),r.jsxs("li",{className:"example-item example-row",ref:Be=>{At.current[G]=Be},children:[r.jsxs("div",{className:"example-guidance",children:[r.jsx("div",{className:"example-guidance-label",children:"Original sentence"}),r.jsx("div",{className:"example-guidance-text",children:Ra(E.sentence)})]}),r.jsxs("div",{className:"example-meta",children:[r.jsxs("span",{children:["Paragraph ",E.paragraph_index??0]}),Z.message?r.jsx("span",{className:"example-status success",children:Z.message}):null,Z.error?r.jsx("span",{className:"example-status error",children:Z.error}):null,he?r.jsx("span",{className:"example-status approved",children:"Approved!"}):null,pe?r.jsx("span",{className:"example-status applied",children:"Applied"}):null]}),f?r.jsx("button",{type:"button",className:"example-jump",onClick:()=>W?.(E.sentence),title:E.sentence||"",children:"Jump to paragraph"}):null,r.jsx("textarea",{className:"example-rewrite rewrite-input",rows:3,placeholder:"Write a stronger rewrite here",value:oe,onChange:Be=>Zt(H,Be.target.value),ref:Be=>{Gt.current[H].current=Be}}),la?r.jsx(Sy,{textareaRef:Gt.current[H],onOpenDictionary:Be=>J?.({anchorEl:Be?.currentTarget,textareaRef:Gt.current[H]})}):null,r.jsxs("div",{className:"example-actions rewrite-actions",children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Xn(E.sentence),children:"Copy sentence"}),r.jsx("button",{className:"secondary-btn dismiss-btn",type:"button",onClick:()=>Dn(L,E),disabled:Z.loading,children:"Dismiss issue"}),r.jsx("button",{className:`secondary-btn${Z.loading?" is-loading loading-cursor":""}`,type:"button",onClick:()=>Gn(L,E),disabled:Z.loading,children:Z.loading?"Checking":"Check rewrite"}),r.jsx("button",{className:"primary-btn",type:"button",onClick:()=>an({key:H,label:L,sentence:E.sentence,paragraph_index:E.paragraph_index,rewrite:he?.rewrite||""}),disabled:!he?.rewrite,children:"Apply to Preview"})]})]},`${H}-${G}`)})}),St.length?r.jsxs("div",{id:"approvedRewritesWrap",className:"approved-rewrites-wrap","data-collapsed":tn?"false":"true",children:[r.jsx("button",{type:"button",className:"secondary-btn apply-all-btn apply-to-preview-btn",id:"applyAllToPreviewBtn",style:{display:St.length>=2?"inline-flex":"none"},onClick:xi,disabled:St.length<2,children:"Apply all rewrites to Preview"}),r.jsxs("div",{className:"approved-rewrites-header",children:[r.jsx("div",{className:"approved-rewrites-title",children:"Approved rewrites"}),r.jsxs("button",{type:"button",className:"approved-rewrites-toggle",id:"approvedRewritesToggle","aria-expanded":tn,onClick:()=>nn(E=>!E),children:[tn?"Hide":"Show"," approved rewrites"]})]}),tn?r.jsx("ul",{id:"approvedRewritesList",className:"approved-rewrites-list",children:Cl.length?Cl.map(E=>{const G=!!rt[E.key],H=Te[E.key]??E.rewrite;return r.jsxs("li",{className:"approved-rewrite-card approved-item",children:[r.jsx("div",{className:"approved-rewrite-label approved-meta",children:E.label}),G?r.jsx("textarea",{className:"example-rewrite rewrite-input",rows:2,value:H,onChange:oe=>Zt(E.key,oe.target.value)}):r.jsx("p",{className:"approved-rewrite-text approved-text",children:E.rewrite}),r.jsxs("div",{className:"example-actions rewrite-actions",children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Cn(oe=>({...oe,[E.key]:!oe[E.key]})),children:G?"Cancel":"Edit"}),G?r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{const oe=String(H||"").trim();oe&&(ct(he=>({...he,[E.key]:{...E,rewrite:oe}})),Cn(he=>({...he,[E.key]:!1})))},children:"Save"}):null,r.jsx("button",{className:"primary-btn",type:"button",onClick:()=>an({key:E.key,label:E.label,sentence:E.sentence,paragraph_index:E.paragraph_index,rewrite:Qe[E.key]?.rewrite||""}),children:"Apply to Preview"})]})]},`approved-${E.key}`)}):r.jsx("li",{className:"approved-rewrite-card",children:r.jsx("p",{className:"helper-text",children:"No other approved rewrites yet."})})}):null]}):null,L?r.jsx("button",{type:"button",className:"secondary-btn",id:"downloadRevisionNotesBtn",style:{marginTop:16},onClick:al,children:"Download revision notes"}):null]}):null,r.jsx(Wv,{isOpen:ta,onCancel:()=>{Xt(!1),el(null)},onConfirm:sn,onNoAsk:Vn})]})}const zy=30,Oy=80,Uy=s=>Object.entries(s||{}).filter(([c,f])=>c&&(Number(f)||0)>0).sort((c,f)=>(Number(f[1])||0)-(Number(c[1])||0)).slice(0,zy).map(([c,f])=>({label:c,count:Number(f)||0})),By=s=>{const c=String(s||"").trim();if(!c)return"";const f=c.match(/^(.+?[.!?])(\s|$)/);return f?f[1]:c},Hy=(s,c)=>{const f=new Map;return(c||[]).forEach(o=>{const h=String(o?.label||"").trim();if(!h||f.has(h))return;const y=o?.short_explanation?String(o.short_explanation):By(o?.explanation);y&&f.set(h,y)}),s.map(o=>f.get(o)||"")},qy=()=>{let s=document.getElementById("mostCommonIssuesTooltip");return s||(s=document.createElement("div"),s.id="mostCommonIssuesTooltip",s.className="mci-tooltip",s.innerHTML=`
    <div class="mci-tooltip-header"></div>
    <div class="mci-body"></div>
    <div class="mci-hint">Click the bar chart to revise</div>
  `,s.style.opacity="0",document.body.appendChild(s),s)},Ly=(s,c,f)=>{const o=s.canvas.getBoundingClientRect(),h=o.left+window.scrollX+c.caretX,y=o.top+window.scrollY+c.caretY,v=12,N=f.getBoundingClientRect(),S=Math.max(v,Math.min(h-N.width/2,window.innerWidth-N.width-v)),m=Math.max(v,y-N.height-12);f.style.left=`${S}px`,f.style.top=`${m}px`};function ky({labelCounts:s,issues:c,onSelectLabel:f,markEventId:o}){const h=g.useRef(null),y=g.useRef(null),v=g.useRef(null),N=g.useRef(null),S=g.useRef(null),m=g.useMemo(()=>Uy(s),[s]),D=g.useMemo(()=>m.map(k=>k.label),[m]),C=g.useMemo(()=>m.map(k=>k.count),[m]),Y=g.useMemo(()=>Hy(D,c),[c,D]);return g.useEffect(()=>{const k=h.current,K=N.current;if(!k||!K)return;if(!m.length){k.dataset.hasData="false",k.style.display="none",S.current&&(S.current.destroy(),S.current=null);return}const ee=window.Chart;if(!ee){k.dataset.hasData="true",k.style.display="block";return}k.dataset.hasData="true",k.style.display="block",S.current&&(S.current.destroy(),S.current=null);const W=y.current,P=v.current;if(W&&o!=null){const Q=String(o);W.dataset.markEventId!==Q&&(delete W.dataset.hasScrolled,W.dataset.markEventId=Q)}const I=W?W.clientWidth:k.clientWidth,ce=Math.max(I,m.length*Oy);K.width=ce,K.style.width=`${ce}px`,K.style.height="280px",P&&(P.style.width=`${ce}px`);const ne=W&&!W.dataset.hasScrolled;W&&ne&&(W.scrollLeft=0),W&&W.addEventListener("scroll",()=>{W.dataset.hasScrolled="1"},{once:!0});const J=K.getContext("2d"),te=qy();return S.current=new ee(J,{type:"bar",data:{labels:D,datasets:[{data:C,backgroundColor:"rgba(11, 98, 214, 0.6)",borderColor:"rgba(11, 98, 214, 1)",borderWidth:1,explanations:Y}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1,external:({chart:Q,tooltip:F})=>{if(!F||!Q)return;if(F.opacity===0){te.style.opacity="0";return}const ve=F.title?.[0]||"",Oe=F.body?.[0]?.lines?.[0]||"",ye=F.dataPoints?.[0]?.dataIndex??0,be=Y[ye]||"";te.querySelector(".mci-tooltip-header").textContent=ve,te.querySelector(".mci-body").textContent=`${Oe}${be?`  ${be}`:""}`,te.style.opacity="1",Ly(Q,F,te)}}},onHover:(Q,F,ve)=>{ve?.canvas&&(ve.canvas.style.cursor=F?.length?"pointer":"default")},onClick:(Q,F,ve)=>{if(!ve)return;const Oe=ve.getElementsAtEventForMode(Q,"nearest",{intersect:!0},!0);if(!Oe.length)return;const ye=Oe[0].index,be=ve.data.labels?.[ye]||"";be&&f?.(be)},scales:{y:{beginAtZero:!0,ticks:{precision:0}},x:{ticks:{autoSkip:!0,maxRotation:45,minRotation:0,font:{size:14,weight:"600"},callback:(Q,F)=>{const ve=D[F]||"";return ve.length>26?`${ve.slice(0,25)}`:ve}}}}}}),()=>{S.current&&(S.current.destroy(),S.current=null)}},[m,Y,D,C,f,o]),r.jsxs("div",{id:"mostCommonIssuesWrap",ref:h,style:{marginTop:"20px"},children:[r.jsx("div",{className:"rules-title",children:"Most Common Issues"}),r.jsx("div",{id:"mciScrollViewport",className:"mci-scroll-viewport",ref:y,children:r.jsx("div",{id:"mciScrollInner",className:"mci-scroll-inner",ref:v,children:r.jsx("canvas",{id:"mostCommonIssuesChart",ref:N})})})]})}const Em={info:3500,success:3500,warn:4500};function Yy({toasts:s,onDismiss:c}){return g.useEffect(()=>{const f=(s||[]).filter(o=>Em[o.kind]).map(o=>{const h=Em[o.kind],y=window.setTimeout(()=>c?.(o.id),h);return()=>window.clearTimeout(y)});return()=>{f.forEach(o=>o())}},[c,s]),s?.length?r.jsx("div",{className:"status-toasts",role:"status","aria-live":"polite",children:s.map(f=>r.jsxs("div",{className:`toast toast-${f.kind||"info"}`,children:[r.jsxs("div",{className:"toast-body",children:[r.jsx("strong",{children:f.title}),f.message?r.jsx("div",{children:f.message}):null]}),r.jsxs("div",{className:"toast-actions",children:[f.kind==="error"?r.jsx("button",{type:"button",className:"secondary-btn",onClick:async()=>{try{const o=JSON.stringify(f.details||{},null,2);await navigator.clipboard.writeText(o)}catch(o){console.warn("Copy toast details failed",o)}},children:"Copy error details"}):null,r.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>c?.(f.id),children:"Close"})]})]},f.id))}):null}class Vu extends g.Component{constructor(c){super(c),this.state={hasError:!1,error:null,componentStack:"",errorStack:""}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,f){console.error("Student React render error",c),this.setState({componentStack:f?.componentStack||"",errorStack:c?.stack||""})}handleCopyDetails=async()=>{try{const c=this.state.error?.message||"Unknown error",f=this.state.errorStack||this.state.error?.stack||"",o=this.state.componentStack||"",h=zm()||{},y=JSON.stringify({error:c,stack:f,componentStack:o,buildId:h.buildId||"",recentEvents:h.recentEvents||[],url:window.location.href},null,2);await navigator.clipboard.writeText(y)}catch(c){console.warn("Copy debug info failed",c)}};render(){if(this.state.hasError){const{inline:c=!1,title:f="Something broke while rendering the preview.",message:o="Try reloading or returning to the classic view.",showClassic:h=!0}=this.props,y=!!ws()?.featureFlags?.debugHardening,v=new URLSearchParams(window.location.search).get("debug")==="1",N=y||v,S=this.state.error?.message||"Unknown error",m=this.state.componentStack||"",D=c?"section":"main",C=c?"":"page student-page student-react-shell";return r.jsx(D,{className:C,children:r.jsxs("div",{className:"card form-card",children:[r.jsx("p",{children:f}),r.jsx("p",{className:"helper-text",children:o}),r.jsxs("p",{className:"helper-text",children:["Error: ",S]}),N&&m?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"helper-text",children:"Component stack:"}),r.jsx("pre",{className:"preview-error-stack",children:m})]}):null,r.jsxs("div",{className:"results-actions",children:[r.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>window.location.reload(),children:"Reload page"}),h?r.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>window.location.assign("/student.html"),children:"Return to classic"}):null,r.jsx("button",{type:"button",className:"secondary-btn",onClick:this.handleCopyDetails,children:"Copy debug info"})]})]})})}return this.props.children}}function Xy({visible:s,savedAt:c,onRestore:f,onDismiss:o,onDelete:h}){if(!s)return null;const y=c?new Date(c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"recently";return r.jsxs("div",{className:"draft-banner",children:[r.jsxs("div",{className:"draft-banner-text",children:["Unsaved draft found from ",y]}),r.jsxs("div",{className:"draft-banner-actions",children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:f,children:"Restore"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:o,children:"Dismiss"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:h,children:"Delete"})]})]})}function Gy({enabled:s,attempts:c,selectedAttemptId:f,onSelectAttempt:o,onRefresh:h,isLoading:y,error:v}){return s?r.jsxs("section",{className:"card practice-card",children:[r.jsxs("div",{className:"practice-header",children:[r.jsx("h2",{children:"Attempt history"}),r.jsx("button",{className:"diagnostics-link",type:"button",onClick:h,children:"Refresh"})]}),y?r.jsx("p",{className:"helper-text",children:"Loading history"}):null,v?r.jsx("p",{className:"helper-text error-text",children:v}):null,!y&&(!c||c.length===0)?r.jsx("p",{className:"helper-text",children:"No attempts yet for this file."}):null,r.jsx("div",{className:"attempt-list",children:(c||[]).map(N=>{const S=N?.createdAt?new Date(N.createdAt).toLocaleString():"Unknown time";return r.jsxs("button",{type:"button",className:`attempt-item${f===N.id?" is-active":""}`,onClick:()=>o?.(N),children:[r.jsx("div",{className:"attempt-time",children:S}),r.jsxs("div",{className:"attempt-meta",children:[r.jsxs("span",{children:["Total issues: ",N.totalIssues??0]}),r.jsx("span",{children:N.topIssue||"Top issue "})]})]},N.id)})})]}):null}var Bo=jm();function Qy({isOpen:s,anchorEl:c,metricKey:f,onClose:o}){const h=g.useRef(null);if(g.useLayoutEffect(()=>{if(!s||!c||!h.current)return;const v=h.current,N=c.getBoundingClientRect(),S=10,m=12;v.style.display="block",v.style.visibility="hidden";const D=v.getBoundingClientRect(),Y=N.bottom+S+D.height<=window.innerHeight?N.bottom+S:N.top-S-D.height;let k=N.left+N.width/2-D.width/2;k=Math.max(m,Math.min(k,window.innerWidth-D.width-m)),v.style.top=`${Math.round(Y)}px`,v.style.left=`${Math.round(k)}px`,v.style.visibility="visible"},[c,s,f]),g.useEffect(()=>{if(!s)return;const v=m=>{h.current?.contains(m.target)||c?.contains(m.target)||o?.()},N=m=>{m.key==="Escape"&&o?.()},S=()=>{if(!h.current||!c)return;const m=c.getBoundingClientRect(),D=10,C=12,Y=h.current.getBoundingClientRect(),K=m.bottom+D+Y.height<=window.innerHeight?m.bottom+D:m.top-D-Y.height;let ee=m.left+m.width/2-Y.width/2;ee=Math.max(C,Math.min(ee,window.innerWidth-Y.width-C)),h.current.style.top=`${Math.round(K)}px`,h.current.style.left=`${Math.round(ee)}px`};return document.addEventListener("mousedown",v,!0),document.addEventListener("touchstart",v,!0),document.addEventListener("keydown",N),window.addEventListener("resize",S),window.addEventListener("scroll",S,!0),()=>{document.removeEventListener("mousedown",v,!0),document.removeEventListener("touchstart",v,!0),document.removeEventListener("keydown",N),window.removeEventListener("resize",S),window.removeEventListener("scroll",S,!0)}},[c,s,o]),!s)return null;const y=Om[f]||{};return Bo.createPortal(r.jsxs("div",{ref:h,className:"tour-popover metric-popover",children:[r.jsx("div",{className:"tour-title",children:y.title||"Metric"}),r.jsx("div",{className:"tour-body",children:y.body||""}),y.tips?.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"metric-popover-tips-title",children:"Tips"}),r.jsx("ul",{className:"metric-popover-list",children:y.tips.map(v=>r.jsx("li",{children:v},v))})]}):null]}),document.body)}const wm=12;function Vy({isOpen:s,anchorEl:c,previewRef:f,textareaRef:o,onClose:h,onVerbApplied:y}){const v=g.useRef(null),[N,S]=g.useState([]),[m,D]=g.useState(new Map),[C,Y]=g.useState(0),[k,K]=g.useState(""),[ee,W]=g.useState("");g.useEffect(()=>{s&&Oo().then(({list:ne,map:J})=>{const te=Co(ne);S(te),D(J),W(te.length?"":"Power verbs list failed to load. Check power_verbs_2025.json path.")})},[s]),g.useLayoutEffect(()=>{if(!s||!c||!v.current)return;const ne=v.current,J=c.getBoundingClientRect(),te=10,Q=12;ne.style.display="flex",ne.style.visibility="hidden";const F=ne.getBoundingClientRect();let Oe=J.bottom+te+F.height<=window.innerHeight?J.bottom+te:J.top-te-F.height,ye=J.left+J.width/2-F.width/2;ye=Math.max(Q,Math.min(ye,window.innerWidth-F.width-Q)),Oe<Q&&(Oe=Q),ne.style.top=`${Math.round(Oe)}px`,ne.style.left=`${Math.round(ye)}px`,ne.style.visibility="visible"},[c,s,C,N]),g.useEffect(()=>{if(!s)return;const ne=Q=>{v.current?.contains(Q.target)||c?.contains(Q.target)||h?.()},J=Q=>{Q.key==="Escape"&&h?.()},te=()=>{if(!v.current||!c)return;const Q=c.getBoundingClientRect(),F=10,ve=12,Oe=v.current.getBoundingClientRect();let be=Q.bottom+F+Oe.height<=window.innerHeight?Q.bottom+F:Q.top-F-Oe.height,Ge=Q.left+Q.width/2-Oe.width/2;Ge=Math.max(ve,Math.min(Ge,window.innerWidth-Oe.width-ve)),be<ve&&(be=ve),v.current.style.top=`${Math.round(be)}px`,v.current.style.left=`${Math.round(Ge)}px`};return document.addEventListener("mousedown",ne,!0),document.addEventListener("touchstart",ne,!0),document.addEventListener("keydown",J),window.addEventListener("resize",te),window.addEventListener("scroll",te,!0),()=>{document.removeEventListener("mousedown",ne,!0),document.removeEventListener("touchstart",ne,!0),document.removeEventListener("keydown",J),window.removeEventListener("resize",te),window.removeEventListener("scroll",te,!0)}},[c,s,h]);const P=g.useMemo(()=>{const ne=N||[],J=[];for(let te=0;te<ne.length;te+=wm)J.push(ne.slice(te,te+wm));return J},[N]),I=P[C]||[],ce=async ne=>{if(!ne)return;const J=f?.current,te=o?.current;let Q=!1;te?Q=Zm(te,ne):J&&(Q=by(J,ne)),Q?(K("Applied."),te||y?.(ne)):(await Km(ne),K("Copied.")),window.setTimeout(()=>K(""),1200)};return s?Bo.createPortal(r.jsxs("div",{ref:v,className:"tour-popover power-verbs-popover",children:[r.jsxs("div",{className:"power-verbs-popover-header",children:[r.jsx("div",{className:"power-verbs-popover-title",children:"Power Verbs"}),r.jsx("button",{className:"power-verbs-popover-close",type:"button","aria-label":"Close",onClick:h,children:""})]}),r.jsx("div",{className:"power-verbs-feedback",children:k}),ee?r.jsx("div",{className:"power-verbs-popover-grid",children:ee}):r.jsx("div",{className:"power-verbs-popover-grid",children:I.map(ne=>{const J=ne?.verb||"",te=ne?.definition||m.get(String(J).toLowerCase())||"";return r.jsxs("button",{type:"button",className:"power-verb-card",onClick:()=>ce(J),children:[r.jsxs("div",{className:"power-verb-card-header",children:[r.jsx("div",{className:"power-verb-card-verb",children:J}),r.jsx("div",{className:"power-verb-card-copied",children:k})]}),r.jsx("div",{className:"power-verb-card-def",children:te})]},J)})}),r.jsxs("div",{className:"power-verbs-popover-footer",children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Y(ne=>Math.max(ne-1,0)),disabled:C===0,children:"Prev"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Y(ne=>Math.min(ne+1,P.length-1)),disabled:C>=P.length-1,children:"Next"})]})]}),document.body):null}const Zy="vysti_pill_hint_shown_v3__",Jm=s=>`${Zy}${String(s||"").trim()}`,Ky=s=>{if(!s)return!1;try{return sessionStorage.getItem(Jm(s))==="1"}catch{return!1}},Jy=s=>{if(s)try{sessionStorage.setItem(Jm(s),"1")}catch{}};function $y({isOpen:s,mode:c="anchor",anchorEl:f,data:o,nav:h,dismissKey:y,onClose:v}){const N=g.useRef(null);if(g.useLayoutEffect(()=>{if(!s||c!=="anchor"||!f||!N.current)return;const k=N.current,K=f.getBoundingClientRect(),ee=12,W=12;k.style.display="block",k.style.visibility="hidden";const P=k.getBoundingClientRect();let I=K.bottom+ee,ce=K.left+K.width/2-P.width/2;ce=Math.max(W,Math.min(ce,window.innerWidth-P.width-W)),I+P.height>window.innerHeight-W&&(I=K.top-ee-P.height),k.style.top=`${Math.round(I)}px`,k.style.left=`${Math.round(ce)}px`,k.style.visibility="visible"},[f,s,c,o]),g.useEffect(()=>{if(!s)return;const k=W=>{N.current?.contains(W.target)||c==="anchor"&&f?.contains(W.target)||v?.()},K=W=>{W.key==="Escape"&&v?.()},ee=()=>{if(!N.current||!f||c!=="anchor")return;const W=f.getBoundingClientRect(),P=12,I=12,ce=N.current.getBoundingClientRect();let ne=W.bottom+P,J=W.left+W.width/2-ce.width/2;J=Math.max(I,Math.min(J,window.innerWidth-ce.width-I)),ne+ce.height>window.innerHeight-I&&(ne=W.top-P-ce.height),N.current.style.top=`${Math.round(ne)}px`,N.current.style.left=`${Math.round(J)}px`};return document.addEventListener("mousedown",k,!0),document.addEventListener("touchstart",k,!0),document.addEventListener("keydown",K),window.addEventListener("resize",ee),window.addEventListener("scroll",ee,!0),()=>{document.removeEventListener("mousedown",k,!0),document.removeEventListener("touchstart",k,!0),document.removeEventListener("keydown",K),window.removeEventListener("resize",ee),window.removeEventListener("scroll",ee,!0)}},[f,s,c,v]),g.useEffect(()=>{s&&y&&Ky(y)&&v?.()},[y,s,v]),!s||!o)return null;const{title:S,body:m,subheader:D}=o,C=h?.count&&h?.count>1,Y=r.jsxs(r.Fragment,{children:[c==="modal"?r.jsx("div",{className:"pill-hint-backdrop"}):null,r.jsxs("div",{ref:N,className:`tour-popover pill-hint-popover${c==="modal"?" is-modal":""}`,role:"dialog","aria-modal":c==="modal"?"true":"false",children:[r.jsx("button",{className:"tour-close",type:"button","aria-label":"Close",onClick:v,children:""}),r.jsx("div",{className:"tour-arrow"}),r.jsx("div",{className:"tour-title",children:S||"Hint"}),r.jsx("div",{className:"tour-body",children:m||""}),D?r.jsx("div",{className:"pill-hint-subheader",children:D}):null,r.jsxs("div",{className:"pill-hint-footer",children:[C?r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>h?.go?.(-1),disabled:h?.canPrev?!h.canPrev():!1,children:"Prev"}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>h?.go?.(1),disabled:h?.canNext?!h.canNext():!1,children:"Next"})]}):null,r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{y&&Jy(y),v?.()},children:"Got it"})]})]})]});return Bo.createPortal(Y,document.body)}let Xu=null;function Fy(){if(Xu)return Xu;if(!window.supabase?.createClient)return null;const s=Ro(),{supabaseUrl:c,supabaseAnonKey:f}=s||{};return!c||!f?null:(Xu=window.supabase.createClient(c,f),Xu)}function Wy(){return`${location.pathname}${location.search}${location.hash}`}function $m(s){return`/signin.html?redirect=${encodeURIComponent(s||"")}`}function Iy(){location.replace($m(Wy()))}const Py=s=>$m(s),Nm=s=>{const c=Py(s);jn("auth_redirect",{redirectUrl:c}),Iy()};function eb(){const[s,c]=g.useState(null),[f,o]=g.useState(!0),[h,y]=g.useState(""),v=g.useRef(!0);return g.useEffect(()=>{v.current=!0;const N=Fy();if(c(N),!N){y("Supabase client not available."),o(!1),en("Supabase client not available");return}const S=async()=>{try{jn("auth_check_start");const{data:D}=await N.auth.getSession();if(!D?.session){jn("auth_session_missing"),Nm();return}localStorage.setItem("vysti_role","student"),v.current&&o(!1),jn("auth_session_valid")}catch(D){console.error("Failed to read session",D),v.current&&(y("Unable to verify session. Please refresh."),o(!1)),en("Auth check failed",{error:D?.message})}};S();const{data:m}=N.auth.onAuthStateChange(()=>{S()});return()=>{v.current=!1,m?.subscription?.unsubscribe()}},[]),{supa:s,isChecking:f,authError:h,redirectToSignin:Nm}}function tb({file:s,mode:c,includeSummaryTable:f=!1,assignmentName:o="",detectedWork:h=null}){const y=new FormData;if(y.append("file",s),y.append("mode",c),y.append("include_summary_table",f?"true":"false"),y.append("highlight_thesis_devices","false"),y.append("student_mode","true"),o&&o.trim()&&y.append("assignment_name",o.trim()),h?.confidence==="high"){const v=typeof h.text_is_minor_work=="boolean"?h.text_is_minor_work:h.isMinor;h.author&&y.append("author",h.author),h.title&&y.append("title",h.title),typeof v=="boolean"&&y.append("text_is_minor_work",v?"true":"false")}return y}function Eo(s){if(!s)return null;try{return JSON.parse(s)}catch{return s}}function nb({fileName:s,text:c,mode:f,detectedWork:o=null}){const h={file_name:s,text:c,mode:f,highlight_thesis_devices:!1,student_mode:!0};if(o?.confidence==="high"){const y=typeof o.text_is_minor_work=="boolean"?o.text_is_minor_work:o.isMinor;h.titles=[{author:o.author||"",title:o.title||"",is_minor:!!y}]}return h}function Tm(s,c){const f=URL.createObjectURL(s),o=document.createElement("a");o.href=f,o.download=c,o.click(),URL.revokeObjectURL(f)}async function lb({supa:s,file:c,mode:f,assignmentName:o,onSessionExpired:h,signal:y,timeoutMs:v}){if(jn("mark_start",{mode:f,fileName:c?.name||""}),!s)throw en("Supabase is not available"),new Error("Supabase is not available.");const{data:N,error:S}=await s.auth.getSession();if(S||!N?.session)throw h&&h(),en("Session expired before mark"),new Error("Session expired. Please sign in again.");const m=Ku();if(!m)throw en("Mark URL missing from config"),new Error("Missing API configuration. Please refresh.");try{const D=tb({file:c,mode:f,includeSummaryTable:!1,assignmentName:o}),C=await Ss(`${m}/mark`,{method:"POST",headers:{Authorization:`Bearer ${N.session.access_token}`},body:D,signal:y},{timeoutMs:v});if(Es(C)){const K=new Error("Session expired");throw K.code="SESSION_EXPIRED",K}if(!C.ok)throw new Error(await xs(C));const Y=C.headers.get("X-Vysti-Techniques"),k=await C.blob();return jn("mark_success",{size:k.size}),{blob:k,techniquesHeader:Y,status:C.status}}catch(D){throw D?.code==="SESSION_EXPIRED"?(h&&h(),en("Session expired during mark"),new Error("Session expired. Please sign in again.")):(en("Mark failed",{error:D?.message}),D)}}async function ab({supa:s,payload:c,onSessionExpired:f,signal:o,timeoutMs:h}){if(jn("recheck_start"),!s)throw en("Supabase is not available"),new Error("Supabase is not available.");const{data:y,error:v}=await s.auth.getSession();if(v||!y?.session)throw f&&f(),en("Session expired before recheck"),new Error("Session expired. Please sign in again.");const N=Ku();if(!N)throw en("Recheck URL missing from config"),new Error("Missing API configuration. Please refresh.");try{const S=await Ss(`${N}/mark_text`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.session.access_token}`},body:JSON.stringify(c),signal:o},{timeoutMs:h});if(Es(S)){const C=new Error("Session expired");throw C.code="SESSION_EXPIRED",C}if(!S.ok)throw new Error(await xs(S));const m=S.headers.get("X-Vysti-Techniques"),D=await S.blob();return jn("recheck_success",{size:D.size}),{blob:D,techniquesHeader:m}}catch(S){throw S?.code==="SESSION_EXPIRED"?(f&&f(),en("Session expired during recheck"),new Error("Session expired. Please sign in again.")):(en("Recheck failed",{error:S?.message}),S)}}const ib=s=>{if(!s)return{};if(typeof s=="object")return s;if(typeof s=="string")try{const c=JSON.parse(s);return c&&typeof c=="object"?c:{}}catch{return{}}return{}},sb=s=>{const c=ib(s);return Object.entries(c).reduce((f,[o,h])=>(o&&!Fu(o)&&(f[o]=h),f),{})},ub=s=>{const c=Object.entries(s||{}).map(([o,h])=>({label:o,count:Number(h)||0}));if(!c.length)return"";const f=c.sort((o,h)=>h.count-o.count||o.label.localeCompare(h.label))[0];return f?.label?`${f.label} (${f.count})`:""},cb=s=>Object.values(s||{}).reduce((c,f)=>c+(Number(f)||0),0);async function rb({supa:s,userId:c,fileName:f,limit:o=10}){const{data:h,error:y}=await s.from("mark_events").select("id, created_at, file_name, label_counts, issues").eq("user_id",c).eq("file_name",f).order("created_at",{ascending:!1}).limit(o);if(y)throw y;return(h||[]).map(v=>{const N=sb(v?.label_counts||{});return{id:v?.id,createdAt:v?.created_at,totalIssues:cb(N),topIssue:ub(N),labelCounts:N,issues:v?.issues||[]}})}const ob=1,fb=2e5,_m=s=>String(s||"").replace(/[:\n\r\t]/g,"_").replace(/\s+/g,"_").slice(0,120);function Ho({userId:s,fileName:c,mode:f}){const o=_m(c),h=_m(f);return`vysti:draft:${s||"anon"}:${o}:${h}`}function db({userId:s,fileName:c,mode:f}){try{const o=Ho({userId:s,fileName:c,mode:f}),h=localStorage.getItem(o);if(!h)return null;const y=JSON.parse(h);return!y?.text||!y?.savedAt?null:y}catch{return null}}function hb({userId:s,fileName:c,mode:f,text:o}){try{const h=Ho({userId:s,fileName:c,mode:f}),y={text:o,savedAt:new Date().toISOString(),version:ob};return localStorage.setItem(h,JSON.stringify(y)),y}catch{return null}}function mb({userId:s,fileName:c,mode:f}){try{const o=Ho({userId:s,fileName:c,mode:f});localStorage.removeItem(o)}catch{}}function gb(s){const c=String(s||"").trim();return!(!c||c.length<40||c.length>fb)}function pb(s,c){let f=0,o=null;return(...h)=>{const y=Date.now(),v=c-(y-f);if(v<=0){f=y,s(...h);return}o||(o=window.setTimeout(()=>{f=Date.now(),o=null,s(...h)},v))}}const vb=["vysti_student_helpers_disabled","vysti_student_tour_completed","vysti_student_tour_hide"],vi={type:"none",items:[],raw:"",error:""},yb=15*1024*1024,Am="vysti_metric_details_collapsed";function bb(){const{supa:s,isChecking:c,authError:f,redirectToSignin:o}=eb(),[h,y]=g.useState("textual_analysis"),[v,N]=g.useState(""),[S,m]=g.useState(null),[D,C]=g.useState(!1),[Y,k]=g.useState(!1),[K,ee]=g.useState(!1),[W,P]=g.useState({message:"",kind:"info"}),[I,ce]=g.useState(null),[ne,J]=g.useState(vi),[te,Q]=g.useState(null),[F,ve]=g.useState(""),[Oe,ye]=g.useState(!1),[be,Ge]=g.useState(!1),[et,ke]=g.useState(null),[R,O]=g.useState(""),[L,se]=g.useState({hasSession:!1,email:""}),[re,b]=g.useState(Bp),[z,X]=g.useState(!1),[$,fe]=g.useState(!1),[ue,Ee]=g.useState(!1),[We,Ue]=g.useState(""),[Je,Lt]=g.useState(!1),[kt,Tt]=g.useState({}),[Te,$e]=g.useState({}),[Qe,ct]=g.useState([]),[vn,Yt]=g.useState(!1),[tn,nn]=g.useState(""),[jl,Ln]=g.useState(""),[rt,Cn]=g.useState(null),[ta,Xt]=g.useState(null),[Mn,el]=g.useState(0),[Dt,tl]=g.useState([]),[bi,ot]=g.useState(""),[_t,at]=g.useState(""),[bt,kn]=g.useState(""),[Yn,Gt]=g.useState(null),[nl,ln]=g.useState(!1),[At,ht]=g.useState(null),[Qt,Vt]=g.useState([]),[Si,na]=g.useState(!1),[la,St]=g.useState(""),[ll,yn]=g.useState(null),[aa,Cl]=g.useState([]),[Ml,Xn]=g.useState(""),[Ra,Rn]=g.useState(""),Zt=g.useRef(""),[De,tt]=g.useState(null),[Gn,an]=g.useState(null),[xi,ia]=g.useState(!1),[Qn,Dn]=g.useState({open:!1,anchorEl:null,metricKey:null}),[al,sn]=g.useState({open:!1,anchorEl:null,textareaRef:null}),[Vn,zn]=g.useState(null),[Bt,E]=g.useState({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null}),[G,H]=g.useState(null),[oe,he]=g.useState(null),pe=g.useRef(0),Z=ws(),Be=Mm(),me=Ku(),Ae=me?`${me}/mark`:"",it=me?`${me}/mark_text`:"",lt=me?`${me}/export_docx`:"",Kt=!!Z.featureFlags?.debugHardening,il=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.revisionPracticeReact||w.get("practice")==="1"||localStorage.getItem("vysti_practice")==="1"},[Z.featureFlags?.revisionPracticeReact]),Ei=Z.rollout?.studentReact||{},wi=(Ei.allowEmails||[]).map(w=>String(w||"").toLowerCase()),Ns=Ei.allowUserIds||[],Zn=L.email&&wi.includes(L.email.toLowerCase())||F&&Ns.includes(F),sa=g.useMemo(()=>new URLSearchParams(window.location.search).get("rolloutDebug")==="1",[]),Jt=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return Zn||w.get("react")==="1"||sa},[Zn,sa]),Da=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.practiceNavigationReact||w.get("practiceNav")==="1"||localStorage.getItem("vysti_practice_nav")==="1"},[Z.featureFlags?.practiceNavigationReact]),Ni=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.practiceHighlightReact||w.get("practiceHL")==="1"||localStorage.getItem("vysti_practice_hl")==="1"},[Z.featureFlags?.practiceHighlightReact]),un=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.hardeningReact||w.get("hardening")==="1"||localStorage.getItem("vysti_hardening")==="1"},[Z.featureFlags?.hardeningReact]),cn=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.cancelRequestsReact||w.get("cancel")==="1"||localStorage.getItem("vysti_cancel")==="1"},[Z.featureFlags?.cancelRequestsReact]),Ti=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.strictFileValidationReact||w.get("strict")==="1"||localStorage.getItem("vysti_strict_files")==="1"},[Z.featureFlags?.strictFileValidationReact]),Kn=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.statusToastsReact||w.get("statusToasts")==="1"||localStorage.getItem("vysti_status_toasts")==="1"},[Z.featureFlags?.statusToastsReact]),bn=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.autosaveDraftReact||w.get("autosave")==="1"||localStorage.getItem("vysti_autosave")==="1"},[Z.featureFlags?.autosaveDraftReact]),sl=g.useMemo(()=>{const w=new URLSearchParams(window.location.search);return!!Z.featureFlags?.revisionHistoryReact||w.get("history")==="1"||localStorage.getItem("vysti_history")==="1"},[Z.featureFlags?.revisionHistoryReact]),Et=g.useRef(null),rn=g.useRef(null),za=g.useRef(null),Ts=g.useMemo(()=>mm[h]||mm.textual_analysis,[h]),Iu=g.useMemo(()=>Object.values(kt||{}).reduce((w,V)=>w+(Number(V)||0),0),[kt]);g.useEffect(()=>{if(new URLSearchParams(window.location.search).get("react")==="1"&&(Zn||sa))try{localStorage.setItem("uiMode","react"),kn("react")}catch{}},[Zn,sa]),g.useEffect(()=>{try{ia(localStorage.getItem(Am)==="1")}catch{ia(!1)}},[]),g.useEffect(()=>{try{kn(localStorage.getItem("uiMode")||"")}catch{kn("")}},[]),g.useEffect(()=>{let w=!0;return Oo().then(({list:V})=>{w&&H(yy(V))}),hv().then(({lexicon:V})=>{w&&he(V)}),()=>{w=!1}},[]),g.useEffect(()=>{const w=requestAnimationFrame(()=>{document.body.classList.add("popovers-ready")});return()=>cancelAnimationFrame(w)},[]),g.useEffect(()=>{il&&Lt(!0)},[il]),g.useEffect(()=>{if(!s||!S||!I){Tt({}),$e({}),ct([]),nn(""),Yt(!1),Cn(null),Xt(null);return}if(At){const le=At.labelCounts||{},Se=At.issues||[];if($e(le),Tt(Ma(le,Dt,S?.name)),ct(Se),nn(""),Yt(!1),Cn(At.id||null),Xt(At||null),!jl){const _e=Object.keys(le||{})[0]||"";Ln(_e)}return}let w=!0;return(async()=>{Yt(!0),nn("");try{const{data:le,error:Se}=await s.auth.getSession();if(Se||!le?.session?.user?.id)throw new Error("Session expired. Please sign in again.");let _e=0,wt=null;for(;_e<5;){if(!w)return;const{markEvent:ol,labelCountsFiltered:Ya,issuesFiltered:fl}=await Xm({supa:s,userId:le.session.user.id,fileName:S.name});if(ol){wt={markEvent:ol,labelCountsFiltered:Ya,issuesFiltered:fl};break}_e+=1,_e<5&&await new Promise(dl=>setTimeout(dl,400))}if(!w)return;if(!wt?.markEvent){nn("Revision data is still syncing  try Recheck or click Refresh."),$e({}),Tt({}),ct([]),Cn(null),Xt(null);return}if($e(wt.labelCountsFiltered||{}),Tt(Ma(wt.labelCountsFiltered||{},Dt,S?.name)),ct(wt.issuesFiltered||[]),Cn(wt.markEvent?.id||null),Xt(wt.markEvent||null),!jl){const ol=Object.keys(wt.labelCountsFiltered||{})[0]||"";Ln(ol)}}catch(le){if(!w)return;nn(le?.message||"Failed to load issue data."),Tt({}),ct([]),Cn(null),Xt(null)}finally{w&&Yt(!1)}})(),()=>{w=!1}},[s,S,I,At,jl,Dt,Mn]),g.useEffect(()=>{if(!S?.name){tl([]);return}const w=jo({markEventId:rt,fileName:S.name});tl(w)},[rt,S?.name]),g.useEffect(()=>{S?.name&&Tt(Ma(Te,Dt,S.name))},[Dt,Te,S?.name]),g.useEffect(()=>{I||(ot(""),at(""))},[I]),g.useEffect(()=>{if(!I||!Et.current||!S?.name)return;const w=window.setTimeout(()=>{my(Et.current,Dt,S.name)},300);return()=>window.clearTimeout(w)},[Dt,I,S?.name]),g.useEffect(()=>{if(!I){tt(null),an(null);return}return Rl(80),()=>{pe.current&&window.clearTimeout(pe.current)}},[I,h,kt,rt,G,oe]),g.useEffect(()=>{if(!s)return;let w=!0;const V=async()=>{try{const{data:Se}=await s.auth.getSession();if(!w)return;ve(Se?.session?.user?.id||"")}catch{if(!w)return;ve("")}};V();const{data:le}=s.auth.onAuthStateChange(()=>{V()});return()=>{w=!1,le?.subscription?.unsubscribe()}},[s]),g.useEffect(()=>{if(!s)return;const{data:w}=s.auth.onAuthStateChange((V,le)=>{le||(localStorage.removeItem("vysti_role"),o())});return()=>{w?.subscription?.unsubscribe()}},[o,s]),g.useEffect(()=>{if(!s)return;let w=!0;const V=async()=>{try{const{data:Se}=await s.auth.getSession();if(!w)return;se({hasSession:!!Se?.session,email:Se?.session?.user?.email||""})}catch{if(!w)return;se({hasSession:!1,email:""})}};V();const{data:le}=s.auth.onAuthStateChange(()=>{V()});return()=>{w=!1,le?.subscription?.unsubscribe()}},[s]);const On=w=>{if(!Kn)return;const V=`${Date.now()}-${Math.random().toString(16).slice(2)}`;Cl(le=>[...le,{id:V,...w}])},Un=w=>{Cl(V=>V.filter(le=>le.id!==w))},mt=(w,V=null)=>{P({message:w,kind:"error"}),Kn&&On({kind:"error",title:"Error",message:w,details:V})},ua=w=>{P({message:w,kind:"success"}),Kn&&On({kind:"success",title:"Success",message:w})},Jn=()=>{P({message:"",kind:"info"})},Ht=()=>{zn(null),Dn({open:!1,anchorEl:null,metricKey:null}),sn({open:!1,anchorEl:null,textareaRef:null}),E({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null})},_s=()=>{const w=Et.current;if(!w)return;const V=Ca(w);if(!V)return;const le=xv(V);tt(Number.isFinite(le)?le:null);const Se=gv(V,h,{labelCounts:kt,markEventId:rt,powerVerbFormsSet:G,thesisDevicesLexicon:oe});an(Se)},Rl=(w=350)=>{pe.current&&window.clearTimeout(pe.current),pe.current=window.setTimeout(()=>{_s()},w)},Oa=w=>{const V=xy();return yn({kind:w,cancel:V.cancel}),V},ul=()=>{yn(null)},zt=()=>{P({message:"Session expiredsigning you back in",kind:"error"}),jn("session_expired"),window.setTimeout(()=>{const w=`${window.location.pathname}${window.location.search}`;o(w)},150)},Ua=w=>{if(!w)return{type:"none",items:[],raw:"",error:""};const V=Eo(w);if(Array.isArray(V)){const le=V.every(_e=>typeof _e=="string"),Se=V.every(_e=>_e&&typeof _e=="object"&&!Array.isArray(_e));if(le)return{type:"strings",items:V,raw:w,error:""};if(Se)return{type:"objects",items:V,raw:w,error:""}}return typeof V=="string"?{type:"invalid",items:[],raw:V,error:"Techniques header present but invalid JSON"}:{type:"invalid",items:[],raw:w,error:"Techniques header present but invalid JSON"}},Dl=()=>We||(S?.name||"essay.docx").replace(/\.docx$/i,"")||"essay",$n=()=>`${Dl()}_marked.docx`,Ba=()=>`${Dl()}_revised.docx`,Ha=w=>{const V=[w?.name?.trim(),w?.teacher?.trim(),w?.assignment?.trim(),w?.date?.trim()].filter(Boolean);return V.length?`${V.join(`
`)}

`:""},_i=w=>w?(w.name?.toLowerCase()||"").endsWith(".docx")||w.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document":!1,ca=w=>w?_i(w)?w.size>yb?{ok:!1,message:"File is too large (max 15MB)."}:{ok:!0,message:""}:{ok:!1,message:"Only .docx files are allowed."}:{ok:!1,message:"No file selected."},ra=w=>{if(Ti){const V=ca(w);if(!V.ok){w&&en("Invalid file selected",{fileName:w?.name||"",reason:V.message}),Xn(V.message),mt(V.message),m(null),ce(null),J(vi),Q(null),ke(null),O(""),X(!1),Ue(""),ot(""),at(""),rn.current&&(rn.current.value="");return}}else if(!w||!_i(w)){w&&(mt("Please upload a .docx file."),en("Invalid file type selected",{fileName:w?.name||""})),m(null),ce(null),J(vi),Q(null),ke(null),O(""),X(!1),Ue(""),ot(""),at(""),rn.current&&(rn.current.value="");return}Jn(),Xn(""),m(w),ce(null),J(vi),Q(null),ke(null),O(""),X(!1),Ue(""),ot(""),at(""),jn("file_selected",{fileName:w?.name||""})},As=()=>{rn.current?.click()},Ot=w=>{const V=w.target.files?.[0];Rn(""),ra(V)},cl=w=>{w.preventDefault(),w.stopPropagation(),C(!1),Rn("");const V=w.dataTransfer?.files?.[0];ra(V)},qa=w=>{if(w.preventDefault(),w.stopPropagation(),C(!0),!Ti){Rn("Drop to upload");return}const le=w.dataTransfer?.items?.[0]?.getAsFile?.()||w.dataTransfer?.files?.[0];if(!le){Rn("Drop to upload");return}const Se=ca(le);Rn(Se.ok?"Drop to upload":Se.message)},oa=()=>{C(!1),Rn("")},Pu=()=>{m(null),ce(null),J(vi),Q(null),ke(null),O(""),X(!1),Ue(""),Xn(""),ot(""),at(""),tt(null),an(null),Ht(),Jn(),rn.current&&(rn.current.value="")},Ai=async()=>{if(!S){mt("Please select a .docx file first.");return}if(rl)return;Ht(),k(!0),P({message:un?"Uploading...":"Processing...",kind:"info"}),Kn&&On({kind:"info",title:"Marking",message:"Uploading essay..."}),ke(null),O("");const w=un||cn?Oa("mark"):null;try{const{blob:V,techniquesHeader:le,status:Se}=await lb({supa:s,file:S,mode:h,assignmentName:v,onSessionExpired:zt,signal:w?.signal,timeoutMs:un?9e4:void 0});P({message:un?"Rendering preview...":"Marked successfully. Scroll down to Preview.",kind:"info"}),ce(V),J(Ua(le));const _e=Eo(le);Q(Array.isArray(_e)?_e:null),X(!1),Rl(120),ot(""),at("");const wt=(S?.name||"essay.docx").replace(/\.docx$/i,"")||"essay";Ue(wt),ht(null),sl&&ka(),ke({status:Se,ok:!0}),ua("Marked successfully. Scroll down to Preview.")}catch(V){if(console.error("Mark failed",V),V?.code==="TIMEOUT")mt("This took too long. Try again (or check connection).",V);else if(V?.code==="ABORTED")P({message:"Canceled.",kind:"info"});else{const le=V?.message||"Failed to mark essay. Please try again.";ke({status:V?.status??null,ok:!1}),O(le),mt(le,V)}}finally{w?.clear?.(),w&&ul(),k(!1)}},ji=w=>{w.preventDefault(),Ai()},fa=w=>({...nb({fileName:S?.name||"essay.docx",text:w,mode:h}),include_summary_table:!1}),La=()=>{if(!I)return;const w=$n();Tm(I,w),jn("download_started",{fileName:w})},js=()=>{m(null),ce(null),J(vi),Q(null),ke(null),O(""),X(!1),Ue(""),Xn(""),Gt(null),ln(!1),ht(null),Vt([]),ot(""),at(""),tt(null),an(null),Ht(),Jn(),rn.current&&(rn.current.value="")},ec=async()=>{if(!I||rl)return;Ht();const w=Ca(Et.current);if(!w){mt("Please add text to the preview before rechecking.");return}ee(!0),P({message:"Rechecking...",kind:"info"}),Kn&&On({kind:"info",title:"Rechecking",message:"Rechecking essay..."});const V=un||cn?Oa("recheck"):null;try{const{blob:le,techniquesHeader:Se}=await ab({supa:s,payload:fa(w),onSessionExpired:zt,signal:V?.signal,timeoutMs:un?6e4:void 0});ce(le),J(Ua(Se));const _e=Eo(Se);Q(Array.isArray(_e)?_e:null),X(!1),Rl(120),ot(""),at(""),ht(null),sl&&ka(),ua("Rechecked ")}catch(le){if(console.error("Recheck failed",le),le?.code==="TIMEOUT")mt("This took too long. Try again (or check connection).",le);else if(le?.code==="ABORTED")P({message:"Canceled.",kind:"info"});else{const Se=le?.message||"Failed to recheck essay. Please try again.";mt(Se,le)}}finally{V?.clear?.(),V&&ul(),ee(!1)}},Ci=()=>{X(!0),Rl(350)},tc=w=>{if(!w){ot(""),at("");return}ot(w?.message||"Preview render failed"),at(w?.stack||"")},Mi=()=>{ce(null),X(!1),ot(""),at(""),tt(null),an(null)},nc=()=>{el(w=>w+1)},lc=()=>{cn&&ll?.cancel&&(ll.cancel(),On({kind:"warn",title:"Canceled",message:"Request canceled."}),P({message:"Canceled.",kind:"info"}))},ac=async w=>{if(w){if(!s){mt("Supabase is not available.");return}if(!me){mt("Missing API configuration. Please refresh.");return}try{const{data:V,error:le}=await s.auth.getSession();if(le||!V?.session){zt();return}const Se=Ba(),_e=await Ss(`${me}/export_docx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V.session.access_token}`},body:JSON.stringify({file_name:Se,text:w})},{timeoutMs:6e4});if(Es(_e)){zt();return}if(!_e.ok)throw new Error(await xs(_e));const wt=await _e.blob();ce(wt),X(!0),P({kind:"success",message:"Draft restored into preview."}),Gt(null),ln(!0)}catch(V){console.error("Draft restore failed",V),mt(V?.message||"Failed to restore draft.")}}},ic=()=>{Yn?.text&&ac(Yn.text)},sc=()=>{ln(!0)},Cs=()=>{!S||!F||(mb({userId:F,fileName:S.name,mode:h}),Gt(null),ln(!0),P({kind:"info",message:"Draft deleted."}))},uc=w=>{if(!Da)return;const V=Et.current;if(!V){P({kind:"error",message:"Preview is not ready yet."});return}const le=Wu(V,w);if(!le||!le.el){P({kind:"error",message:"Couldnt find that sentence in the preview (docx HTML mismatch)."});return}Z.featureFlags?.debugPracticeNavigation&&console.log("[practiceNav] match score:",le.score,"sentence:",w),Qm(le.el)},cc=w=>{if(!Ni)return;const V=Et.current;if(!V)return;const le=ay(V,w);P({kind:"info",message:`Highlighted ${le} matching paragraphs in the preview.`})},rc=()=>{const w=Et.current;w&&(zo(w),P({kind:"info",message:"Highlights cleared."}))};g.useEffect(()=>{if(!bn||!F||!S||!Et.current)return;const w=Et.current,le=pb(()=>{const Se=Ca(w);if(!gb(Se)||Se===Zt.current)return;Zt.current=Se;const _e=hb({userId:F,fileName:S.name,mode:h,text:Se});_e&&Gt(_e),Z.featureFlags?.debugAutosave&&console.log("[autosave] saved",{length:Se.length,savedAt:_e?.savedAt||""})},2500);return w.addEventListener("input",le),w.addEventListener("paste",le),()=>{w.removeEventListener("input",le),w.removeEventListener("paste",le)}},[bn,F,S,h,Et,Z.featureFlags?.debugAutosave]),g.useEffect(()=>{if(!bn||!F||!S)return;const w=db({userId:F,fileName:S.name,mode:h});w?.text?(Gt(w),ln(!1)):Gt(null)},[bn,F,S,h]);async function ka(){if(!(!sl||!s||!F||!S)){na(!0),St("");try{const w=await rb({supa:s,userId:F,fileName:S.name,limit:10});Vt(w),Z.featureFlags?.debugHistory&&console.log("[history] attempts",w.map(V=>V.id))}catch(w){St(w?.message||"Failed to load history.")}finally{na(!1)}}}g.useEffect(()=>{if(!sl||!F||!S){Vt([]),St("");return}ka()},[sl,F,S]);const Ri=()=>{!I||!z||Ee(!0)},oc=()=>{ia(w=>{const V=!w;try{localStorage.setItem(Am,V?"1":"0")}catch{}return V})},fc=w=>{const V=w?.currentTarget?.dataset?.metric;V&&(Ht(),Dn({open:!0,anchorEl:w.currentTarget,metricKey:V}))},dc=w=>{Ht(),sn({open:!0,anchorEl:w?.currentTarget||null,textareaRef:null})},Ms=({anchorEl:w,textareaRef:V})=>{Ht(),sn({open:!0,anchorEl:w||null,textareaRef:V||null})},hc=({anchorEl:w,mode:V="anchor",data:le,nav:Se,dismissKey:_e})=>{le&&(Ht(),E({open:!0,mode:V,anchorEl:w||null,data:le,nav:Se||null,dismissKey:_e||null}))},Rs=async({includeMla:w,fields:V})=>{if(!I||rl)return;if(!s){mt("Supabase is not available.");return}const le=Ca(Et.current);if(!le){mt("Could not extract text from preview.");return}fe(!0),P({message:"Preparing download...",kind:"info"}),Kn&&On({kind:"info",title:"Exporting",message:"Preparing download..."});const Se=un||cn?Oa("export"):null;try{const{data:_e,error:wt}=await s.auth.getSession();if(wt||!_e?.session){zt();return}if(!me){mt("Missing API configuration. Please refresh.");return}const ol=Ba(),Ya=w?`${Ha(V)}${Ev(le)}`:le,fl=await Ss(`${me}/export_docx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e.session.access_token}`},body:JSON.stringify({file_name:ol,text:Ya}),signal:Se?.signal},{timeoutMs:un?6e4:void 0});if(Es(fl)){zt();return}if(!fl.ok)throw new Error(await xs(fl));const dl=await fl.blob();Tm(dl,ol),X(!1),ua("Revised essay downloaded.")}catch(_e){if(console.error("Download revised failed",_e),_e?.code==="TIMEOUT")mt("This took too long. Try again (or check connection).",_e);else if(_e?.code==="ABORTED")P({message:"Canceled.",kind:"info"});else{const wt=_e?.message||"Failed to download revised essay.";mt(wt,_e)}}finally{Se?.clear?.(),Se&&ul(),fe(!1),Ee(!1)}},mc=async()=>{if(!s){window.location.replace(`/signin.html?redirect=${encodeURIComponent("/student_react.html")}`);return}try{await s.auth.signOut()}finally{localStorage.removeItem("vysti_role"),window.location.replace(`/signin.html?redirect=${encodeURIComponent("/student_react.html")}`)}},Ds=w=>{try{localStorage.setItem("uiMode",w),kn(w)}catch{}},gc=()=>{try{localStorage.removeItem("uiMode"),kn("")}catch{}},zs=()=>{Ds("classic"),window.location.replace("/student.html?classic=1")},Os=()=>{if(!Zn&&!sa){P({message:"React beta is currently allowlist-only. Ask a teacher for access.",kind:"error"});return}Ds("react"),window.location.replace("/student_react.html?react=1")},pc=()=>{vb.forEach(w=>localStorage.removeItem(w)),za.current?.restartTour({force:!0})},vc=g.useMemo(()=>be?{buildId:Z.buildId,url:window.location.href,uiMode:(()=>{try{return localStorage.getItem("uiMode")||""}catch{return""}})(),apiBaseUrl:me,markUrl:Ae,markTextUrl:it,exportUrl:lt,techniquesParsedCount:Array.isArray(te)?te.length:null,supabaseUrl:Z.supabaseUrl,auth:{hasSession:L.hasSession,email:L.email},lastMark:{status:et?.status??null,ok:et?.ok??null,error:R},configError:Be?Be.message||String(Be):""}:null,[me,L,Z.buildId,Z.supabaseUrl,Be,lt,R,et,it,Ae,be,te]),Di=g.useMemo(()=>{if(!be)return null;try{return JSON.parse(sessionStorage.getItem("rolloutReason")||"null")}catch{return null}},[be]);if(c)return r.jsx("main",{className:"page student-page student-react-shell",children:r.jsx("div",{className:"card form-card",children:r.jsx("p",{children:"Checking session..."})})});if(f)return r.jsx("main",{className:"page student-page student-react-shell",children:r.jsx("div",{className:"card form-card",children:r.jsx("p",{children:f})})});const da=!c&&!f,yc=!!W.message||!!I,rl=un||cn?!!ll:!1,Us=W.kind==="success"?" success":W.kind==="error"?" error":"";return r.jsxs("div",{className:"student-react-shell",children:[Kn?r.jsx(Yy,{toasts:aa,onDismiss:Un}):null,Z.featureFlags?.reactBeta?r.jsx(qp,{}):null,r.jsx(Mv,{onProgress:()=>window.location.assign("/student_progress.html"),onTeacher:()=>{localStorage.setItem("vysti_role","teacher"),window.location.assign("/index.html")},onRepeatTutorial:pc,onSignOut:mc,onBackToClassic:zs,onSwitchToReact:Os,showReactSwitch:Jt}),r.jsx(Cv,{ref:za,authReady:da,selectedFile:S,markedBlob:I,hasResults:yc,previewRef:Et}),r.jsxs("main",{className:"page student-page",children:[r.jsx(Xy,{visible:bn&&!nl&&!!Yn?.text,savedAt:Yn?.savedAt,onRestore:ic,onDismiss:sc,onDelete:Cs}),r.jsxs("form",{className:"marker-grid",onSubmit:ji,children:[r.jsxs("section",{className:"card form-card",children:[r.jsx(Zp,{mode:h,onChange:y}),r.jsx(Kp,{label:Rm.find(w=>w.value===h)?.label||"Analytic essay",description:Ts.description,details:Ts.details}),r.jsx(Rv,{assignmentName:v,onChange:N}),r.jsx("button",{className:`primary-btn${Y?" is-loading loading-cursor":""}`,id:"checkBtn",type:"submit",disabled:!S||Y||rl,children:Y?"Processing":"Mark my essay"})]}),r.jsx(Dv,{selectedFile:S,isDragOver:D,dragMessage:Ra,validationError:Ml,onBrowseClick:As,onFileChange:Ot,onDrop:cl,onDragOver:qa,onDragLeave:oa,onClearFile:Pu,fileInputRef:rn}),r.jsxs("section",{className:"card rules-card",id:"resultsCard",children:[r.jsx("div",{id:"statusArea",className:`status-area${Us}`,role:"status","aria-live":"polite",children:W.message}),r.jsxs("div",{className:"results-actions",children:[cn&&ll?r.jsxs("button",{className:"secondary-btn",type:"button",onClick:lc,children:["Cancel ",ll.kind]}):null,il?r.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>Lt(w=>!w),children:"Revision practice"}):null,r.jsx("button",{className:"secondary-btn",type:"button",style:{display:S?"inline-flex":"none"},onClick:js,children:"Clear / Start over"})]}),il?r.jsxs(r.Fragment,{children:[vn?r.jsx("p",{className:"helper-text",children:"Loading issue data"}):null,tn?r.jsxs("div",{className:"helper-text error-text",children:[r.jsx("p",{children:tn}),r.jsx("button",{className:"secondary-btn",type:"button",onClick:nc,children:"Refresh issue data"})]}):null,r.jsx(ky,{labelCounts:kt,issues:Qe,markEventId:rt,onSelectLabel:w=>{Ln(w),Lt(!0)}})]}):null]})]}),il&&Je?r.jsx(Vu,{inline:!0,title:"Something broke while rendering revision practice.",message:"Try reloading or continue without this panel.",children:r.jsx(Dy,{enabled:il,requestActive:rl,practiceNavEnabled:Da,practiceHighlightEnabled:Ni,externalAttempt:At,onClearExternalAttempt:()=>ht(null),supa:s,selectedFile:S,markedBlob:I,previewRef:Et,techniques:ne,dismissedIssues:Dt,onDismissedIssuesChange:tl,selectedLabelOverride:jl,onSelectedLabelChange:w=>Ln(w),onOpenDiagnostics:()=>Ge(!0),onNavigateToExample:uc,onHighlightExamples:cc,onClearHighlights:rc,mode:h,onPreviewEdited:Ci,onOpenPowerVerbs:Ms})}):null,r.jsx(Vu,{inline:!0,title:"Something broke while rendering the preview.",message:"Try reloading or use the classic view.",children:r.jsx(bv,{markedBlob:I,zoom:re,onZoomChange:b,previewRef:Et,onRecheck:ec,isRechecking:K,isProcessing:Y||rl,onEdit:Ci,onDownloadMarked:La,onDownloadRevised:Ri,isDownloading:$,hasRevisedSinceMark:z,wordCount:De,totalIssues:Iu,metrics:Gn,metricsCollapsed:xi,onToggleMetricsDetails:oc,onOpenMetricInfo:fc,onOpenPillHint:hc,onOpenPowerVerbs:dc,hint:Vn,onDismissHint:()=>zn(null),mode:h,previewError:bi,previewErrorStack:_t,showDebug:Kt,onClearPreview:Mi,onPreviewError:tc})}),sl?r.jsx(Gy,{enabled:sl,attempts:Qt,selectedAttemptId:At?.id||null,onSelectAttempt:w=>ht(w),onRefresh:ka,isLoading:Si,error:la}):null,r.jsx(Ov,{isOpen:Oe,onToggle:()=>ye(w=>!w),data:ne}),r.jsx(Vu,{inline:!0,title:"Something broke while rendering diagnostics.",message:"Try reloading or continue without diagnostics.",children:r.jsx(Vp,{isOpen:be,onToggle:()=>Ge(w=>!w),data:vc,rolloutConfig:Ei,rolloutReason:Di,uiMode:bt,buildId:Z.buildId,onForceClassic:zs,onForceReact:Os,onClearUiMode:gc})}),r.jsx(zp,{})]}),r.jsx(Qy,{isOpen:Qn.open,anchorEl:Qn.anchorEl,metricKey:Qn.metricKey,onClose:()=>Dn({open:!1,anchorEl:null,metricKey:null})}),r.jsx(Vy,{isOpen:al.open,anchorEl:al.anchorEl,previewRef:Et,textareaRef:al.textareaRef,onClose:()=>sn({open:!1,anchorEl:null,textareaRef:null}),onVerbApplied:()=>Ci()}),r.jsx($y,{isOpen:Bt.open,mode:Bt.mode,anchorEl:Bt.anchorEl,data:Bt.data,nav:Bt.nav,dismissKey:Bt.dismissKey,onClose:()=>E({open:!1,mode:"anchor",anchorEl:null,data:null,nav:null,dismissKey:null})}),r.jsx(Uv,{isOpen:ue,initialAssignmentName:v,isBusy:$,onCancel:()=>Ee(!1),onDownloadAsIs:()=>Rs({includeMla:!1}),onDownloadMla:w=>Rs({includeMla:!0,fields:w})})]})}const Sb=document.getElementById("root"),Fm=Dp.createRoot(Sb),xb=()=>{Fm.render(r.jsx("main",{className:"page student-page student-react-shell",children:r.jsx("div",{className:"card form-card",children:r.jsx("p",{children:"Loading"})})}))},Eb=new URLSearchParams(window.location.search);if(Eb.get("classic")==="1"){try{localStorage.setItem("uiMode","classic")}catch{}window.location.replace("/student.html?classic=1")}else xb(),(async()=>{try{await Cm()}catch(s){console.warn("Runtime config init failed:",s)}try{await Hp();const s=ws(),c=Mm();c&&console.warn("Config error:",c),kp(s)}catch(s){console.error("Config init failed:",s)}Fm.render(r.jsx(g.StrictMode,{children:r.jsx(Vu,{children:r.jsx(bb,{})})}))})();
